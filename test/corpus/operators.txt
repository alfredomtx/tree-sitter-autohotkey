================================================================================
Assignment operator
================================================================================

x := 1

--------------------------------------------------------------------------------

(source_file
  (assignment_expression
    left: (identifier)
    right: (number)))

================================================================================
Add-assign operator
================================================================================

x += 1

--------------------------------------------------------------------------------

(source_file
  (assignment_expression
    left: (identifier)
    right: (number)))

================================================================================
Subtract-assign operator
================================================================================

x -= 1

--------------------------------------------------------------------------------

(source_file
  (assignment_expression
    left: (identifier)
    right: (number)))

================================================================================
Multiply-assign operator
================================================================================

x *= 2

--------------------------------------------------------------------------------

(source_file
  (assignment_expression
    left: (identifier)
    right: (number)))

================================================================================
Divide-assign operator
================================================================================

x /= 2

--------------------------------------------------------------------------------

(source_file
  (assignment_expression
    left: (identifier)
    right: (number)))

================================================================================
Concat-assign operator
================================================================================

x .= "text"

--------------------------------------------------------------------------------

(source_file
  (assignment_expression
    left: (identifier)
    right: (string)))

================================================================================
Equality in assignment
================================================================================

result := x == y

--------------------------------------------------------------------------------

(source_file
  (assignment_expression
    left: (identifier)
    right: (binary_expression
      left: (identifier)
      right: (identifier))))

================================================================================
Comparison in assignment
================================================================================

result := x > y

--------------------------------------------------------------------------------

(source_file
  (assignment_expression
    left: (identifier)
    right: (binary_expression
      left: (identifier)
      right: (identifier))))

================================================================================
Addition in assignment
================================================================================

result := x + y

--------------------------------------------------------------------------------

(source_file
  (assignment_expression
    left: (identifier)
    right: (binary_expression
      left: (identifier)
      right: (identifier))))

================================================================================
Logical AND in assignment
================================================================================

result := x && y

--------------------------------------------------------------------------------

(source_file
  (assignment_expression
    left: (identifier)
    right: (binary_expression
      left: (identifier)
      right: (identifier))))

================================================================================
Logical OR in assignment
================================================================================

result := x || y

--------------------------------------------------------------------------------

(source_file
  (assignment_expression
    left: (identifier)
    right: (binary_expression
      left: (identifier)
      right: (identifier))))

================================================================================
Logical NOT in assignment
================================================================================

result := !x

--------------------------------------------------------------------------------

(source_file
  (assignment_expression
    left: (identifier)
    right: (unary_expression
      (identifier))))

================================================================================
Bitwise NOT in assignment
================================================================================

result := ~x

--------------------------------------------------------------------------------

(source_file
  (assignment_expression
    left: (identifier)
    right: (unary_expression
      (identifier))))

================================================================================
Unary negation in assignment
================================================================================

result := -x

--------------------------------------------------------------------------------

(source_file
  (assignment_expression
    left: (identifier)
    right: (unary_expression
      (identifier))))

================================================================================
Ternary expression
================================================================================

result := x ? "yes" : "no"

--------------------------------------------------------------------------------

(source_file
  (assignment_expression
    left: (identifier)
    right: (ternary_expression
      condition: (identifier)
      consequence: (string)
      alternative: (string))))

================================================================================
Binary expression precedence (multiply before add)
================================================================================

x := a + b * c

--------------------------------------------------------------------------------

(source_file
  (assignment_expression
    left: (identifier)
    right: (binary_expression
      left: (identifier)
      right: (binary_expression
        left: (identifier)
        right: (identifier)))))

================================================================================
Power operator (right associative)
================================================================================

result := a ** b ** c

--------------------------------------------------------------------------------

(source_file
  (assignment_expression
    left: (identifier)
    right: (binary_expression
      left: (identifier)
      right: (binary_expression
        left: (identifier)
        right: (identifier)))))

================================================================================
Chained assignment
================================================================================

x := y := 1

--------------------------------------------------------------------------------

(source_file
  (assignment_expression
    left: (identifier)
    right: (assignment_expression
      left: (identifier)
      right: (number))))

================================================================================
Case-insensitive equality (single =)
================================================================================

result := a = b

--------------------------------------------------------------------------------

(source_file
  (assignment_expression
    left: (identifier)
    right: (binary_expression
      left: (identifier)
      right: (identifier))))

================================================================================
Ternary with case-insensitive equality
================================================================================

test := LANGUAGE = "EN-US" ? "Hi" : "Bonjour"

--------------------------------------------------------------------------------

(source_file
  (assignment_expression
    left: (identifier)
    right: (ternary_expression
      condition: (binary_expression
        left: (identifier)
        right: (string))
      consequence: (string)
      alternative: (string))))

================================================================================
Consecutive ternary expressions
================================================================================

test1 := x = "a" ? "yes" : "no"
test2 := y = "b" ? "true" : "false"

--------------------------------------------------------------------------------

(source_file
  (assignment_expression
    left: (identifier)
    right: (ternary_expression
      condition: (binary_expression
        left: (identifier)
        right: (string))
      consequence: (string)
      alternative: (string)))
  (assignment_expression
    left: (identifier)
    right: (ternary_expression
      condition: (binary_expression
        left: (identifier)
        right: (string))
      consequence: (string)
      alternative: (string))))

================================================================================
Implicit concatenation - function call and string
================================================================================

x := a() "b"

--------------------------------------------------------------------------------

(source_file
  (assignment_expression
    left: (identifier)
    right: (concatenation_expression
      (function_call
        name: (identifier))
      (string))))

================================================================================
Implicit concatenation - method call string and parenthesized
================================================================================

x := obj.method() "|" (a ? b : c)

--------------------------------------------------------------------------------

(source_file
  (assignment_expression
    left: (identifier)
    right: (concatenation_expression
      (concatenation_expression
        (method_call
          object: (identifier)
          method: (identifier))
        (string))
      (parenthesized_expression
        (ternary_expression
          condition: (identifier)
          consequence: (identifier)
          alternative: (identifier))))))

================================================================================
Implicit concatenation - multiple strings
================================================================================

x := "hello" " " "world"

--------------------------------------------------------------------------------

(source_file
  (assignment_expression
    left: (identifier)
    right: (concatenation_expression
      (concatenation_expression
        (string)
        (string))
      (string))))

================================================================================
Implicit concatenation with concat-assign
================================================================================

options .= listOption.getName() "|"

--------------------------------------------------------------------------------

(source_file
  (assignment_expression
    left: (identifier)
    right: (concatenation_expression
      (method_call
        object: (identifier)
        method: (identifier))
      (string))))
