"use strict";var __create=Object.create;var __defProp=Object.defineProperty;var __getOwnPropDesc=Object.getOwnPropertyDescriptor;var __getOwnPropNames=Object.getOwnPropertyNames;var __getProtoOf=Object.getPrototypeOf;var __hasOwnProp=Object.prototype.hasOwnProperty;var __esm=(fn,res)=>function __init(){return fn&&(res=(0,fn[__getOwnPropNames(fn)[0]])(fn=0)),res};var __commonJS=(cb,mod)=>function __require(){return mod||(0,cb[__getOwnPropNames(cb)[0]])((mod={exports:{}}).exports,mod),mod.exports};var __export=(target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:true})};var __copyProps=(to,from,except,desc)=>{if(from&&typeof from==="object"||typeof from==="function"){for(let key of __getOwnPropNames(from))if(!__hasOwnProp.call(to,key)&&key!==except)__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable})}return to};var __toESM=(mod,isNodeMode,target)=>(target=mod!=null?__create(__getProtoOf(mod)):{},__copyProps(isNodeMode||!mod||!mod.__esModule?__defProp(target,"default",{value:mod,enumerable:true}):target,mod));var __toCommonJS=mod=>__copyProps(__defProp({},"__esModule",{value:true}),mod);var require_is=__commonJS({"server/node_modules/vscode-languageserver/lib/common/utils/is.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.thenable=exports2.typedArray=exports2.stringArray=exports2.array=exports2.func=exports2.error=exports2.number=exports2.string=exports2.boolean=void 0;function boolean(value){return value===true||value===false}exports2.boolean=boolean;function string(value){return typeof value==="string"||value instanceof String}exports2.string=string;function number(value){return typeof value==="number"||value instanceof Number}exports2.number=number;function error(value){return value instanceof Error}exports2.error=error;function func(value){return typeof value==="function"}exports2.func=func;function array(value){return Array.isArray(value)}exports2.array=array;function stringArray(value){return array(value)&&value.every(elem=>string(elem))}exports2.stringArray=stringArray;function typedArray(value,check){return Array.isArray(value)&&value.every(check)}exports2.typedArray=typedArray;function thenable(value){return value&&func(value.then)}exports2.thenable=thenable}});var require_is2=__commonJS({"server/node_modules/vscode-jsonrpc/lib/common/is.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.stringArray=exports2.array=exports2.func=exports2.error=exports2.number=exports2.string=exports2.boolean=void 0;function boolean(value){return value===true||value===false}exports2.boolean=boolean;function string(value){return typeof value==="string"||value instanceof String}exports2.string=string;function number(value){return typeof value==="number"||value instanceof Number}exports2.number=number;function error(value){return value instanceof Error}exports2.error=error;function func(value){return typeof value==="function"}exports2.func=func;function array(value){return Array.isArray(value)}exports2.array=array;function stringArray(value){return array(value)&&value.every(elem=>string(elem))}exports2.stringArray=stringArray}});var require_messages=__commonJS({"server/node_modules/vscode-jsonrpc/lib/common/messages.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.Message=exports2.NotificationType9=exports2.NotificationType8=exports2.NotificationType7=exports2.NotificationType6=exports2.NotificationType5=exports2.NotificationType4=exports2.NotificationType3=exports2.NotificationType2=exports2.NotificationType1=exports2.NotificationType0=exports2.NotificationType=exports2.RequestType9=exports2.RequestType8=exports2.RequestType7=exports2.RequestType6=exports2.RequestType5=exports2.RequestType4=exports2.RequestType3=exports2.RequestType2=exports2.RequestType1=exports2.RequestType=exports2.RequestType0=exports2.AbstractMessageSignature=exports2.ParameterStructures=exports2.ResponseError=exports2.ErrorCodes=void 0;var is=require_is2();var ErrorCodes;(function(ErrorCodes2){ErrorCodes2.ParseError=-32700;ErrorCodes2.InvalidRequest=-32600;ErrorCodes2.MethodNotFound=-32601;ErrorCodes2.InvalidParams=-32602;ErrorCodes2.InternalError=-32603;ErrorCodes2.jsonrpcReservedErrorRangeStart=-32099;ErrorCodes2.serverErrorStart=-32099;ErrorCodes2.MessageWriteError=-32099;ErrorCodes2.MessageReadError=-32098;ErrorCodes2.PendingResponseRejected=-32097;ErrorCodes2.ConnectionInactive=-32096;ErrorCodes2.ServerNotInitialized=-32002;ErrorCodes2.UnknownErrorCode=-32001;ErrorCodes2.jsonrpcReservedErrorRangeEnd=-32e3;ErrorCodes2.serverErrorEnd=-32e3})(ErrorCodes||(exports2.ErrorCodes=ErrorCodes={}));var ResponseError=class _ResponseError extends Error{constructor(code,message,data){super(message);this.code=is.number(code)?code:ErrorCodes.UnknownErrorCode;this.data=data;Object.setPrototypeOf(this,_ResponseError.prototype)}toJson(){const result={code:this.code,message:this.message};if(this.data!==void 0){result.data=this.data}return result}};exports2.ResponseError=ResponseError;var ParameterStructures=class _ParameterStructures{constructor(kind){this.kind=kind}static is(value){return value===_ParameterStructures.auto||value===_ParameterStructures.byName||value===_ParameterStructures.byPosition}toString(){return this.kind}};exports2.ParameterStructures=ParameterStructures;ParameterStructures.auto=new ParameterStructures("auto");ParameterStructures.byPosition=new ParameterStructures("byPosition");ParameterStructures.byName=new ParameterStructures("byName");var AbstractMessageSignature=class{constructor(method,numberOfParams){this.method=method;this.numberOfParams=numberOfParams}get parameterStructures(){return ParameterStructures.auto}};exports2.AbstractMessageSignature=AbstractMessageSignature;var RequestType0=class extends AbstractMessageSignature{constructor(method){super(method,0)}};exports2.RequestType0=RequestType0;var RequestType=class extends AbstractMessageSignature{constructor(method,_parameterStructures=ParameterStructures.auto){super(method,1);this._parameterStructures=_parameterStructures}get parameterStructures(){return this._parameterStructures}};exports2.RequestType=RequestType;var RequestType1=class extends AbstractMessageSignature{constructor(method,_parameterStructures=ParameterStructures.auto){super(method,1);this._parameterStructures=_parameterStructures}get parameterStructures(){return this._parameterStructures}};exports2.RequestType1=RequestType1;var RequestType2=class extends AbstractMessageSignature{constructor(method){super(method,2)}};exports2.RequestType2=RequestType2;var RequestType3=class extends AbstractMessageSignature{constructor(method){super(method,3)}};exports2.RequestType3=RequestType3;var RequestType4=class extends AbstractMessageSignature{constructor(method){super(method,4)}};exports2.RequestType4=RequestType4;var RequestType5=class extends AbstractMessageSignature{constructor(method){super(method,5)}};exports2.RequestType5=RequestType5;var RequestType6=class extends AbstractMessageSignature{constructor(method){super(method,6)}};exports2.RequestType6=RequestType6;var RequestType7=class extends AbstractMessageSignature{constructor(method){super(method,7)}};exports2.RequestType7=RequestType7;var RequestType8=class extends AbstractMessageSignature{constructor(method){super(method,8)}};exports2.RequestType8=RequestType8;var RequestType9=class extends AbstractMessageSignature{constructor(method){super(method,9)}};exports2.RequestType9=RequestType9;var NotificationType=class extends AbstractMessageSignature{constructor(method,_parameterStructures=ParameterStructures.auto){super(method,1);this._parameterStructures=_parameterStructures}get parameterStructures(){return this._parameterStructures}};exports2.NotificationType=NotificationType;var NotificationType0=class extends AbstractMessageSignature{constructor(method){super(method,0)}};exports2.NotificationType0=NotificationType0;var NotificationType1=class extends AbstractMessageSignature{constructor(method,_parameterStructures=ParameterStructures.auto){super(method,1);this._parameterStructures=_parameterStructures}get parameterStructures(){return this._parameterStructures}};exports2.NotificationType1=NotificationType1;var NotificationType2=class extends AbstractMessageSignature{constructor(method){super(method,2)}};exports2.NotificationType2=NotificationType2;var NotificationType3=class extends AbstractMessageSignature{constructor(method){super(method,3)}};exports2.NotificationType3=NotificationType3;var NotificationType4=class extends AbstractMessageSignature{constructor(method){super(method,4)}};exports2.NotificationType4=NotificationType4;var NotificationType5=class extends AbstractMessageSignature{constructor(method){super(method,5)}};exports2.NotificationType5=NotificationType5;var NotificationType6=class extends AbstractMessageSignature{constructor(method){super(method,6)}};exports2.NotificationType6=NotificationType6;var NotificationType7=class extends AbstractMessageSignature{constructor(method){super(method,7)}};exports2.NotificationType7=NotificationType7;var NotificationType8=class extends AbstractMessageSignature{constructor(method){super(method,8)}};exports2.NotificationType8=NotificationType8;var NotificationType9=class extends AbstractMessageSignature{constructor(method){super(method,9)}};exports2.NotificationType9=NotificationType9;var Message;(function(Message2){function isRequest(message){const candidate=message;return candidate&&is.string(candidate.method)&&(is.string(candidate.id)||is.number(candidate.id))}Message2.isRequest=isRequest;function isNotification(message){const candidate=message;return candidate&&is.string(candidate.method)&&message.id===void 0}Message2.isNotification=isNotification;function isResponse(message){const candidate=message;return candidate&&(candidate.result!==void 0||!!candidate.error)&&(is.string(candidate.id)||is.number(candidate.id)||candidate.id===null)}Message2.isResponse=isResponse})(Message||(exports2.Message=Message={}))}});var require_linkedMap=__commonJS({"server/node_modules/vscode-jsonrpc/lib/common/linkedMap.js"(exports2){"use strict";var _a;Object.defineProperty(exports2,"__esModule",{value:true});exports2.LRUCache=exports2.LinkedMap=exports2.Touch=void 0;var Touch;(function(Touch2){Touch2.None=0;Touch2.First=1;Touch2.AsOld=Touch2.First;Touch2.Last=2;Touch2.AsNew=Touch2.Last})(Touch||(exports2.Touch=Touch={}));var LinkedMap=class{constructor(){this[_a]="LinkedMap";this._map=new Map;this._head=void 0;this._tail=void 0;this._size=0;this._state=0}clear(){this._map.clear();this._head=void 0;this._tail=void 0;this._size=0;this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(key){return this._map.has(key)}get(key,touch=Touch.None){const item=this._map.get(key);if(!item){return void 0}if(touch!==Touch.None){this.touch(item,touch)}return item.value}set(key,value,touch=Touch.None){let item=this._map.get(key);if(item){item.value=value;if(touch!==Touch.None){this.touch(item,touch)}}else{item={key,value,next:void 0,previous:void 0};switch(touch){case Touch.None:this.addItemLast(item);break;case Touch.First:this.addItemFirst(item);break;case Touch.Last:this.addItemLast(item);break;default:this.addItemLast(item);break}this._map.set(key,item);this._size++}return this}delete(key){return!!this.remove(key)}remove(key){const item=this._map.get(key);if(!item){return void 0}this._map.delete(key);this.removeItem(item);this._size--;return item.value}shift(){if(!this._head&&!this._tail){return void 0}if(!this._head||!this._tail){throw new Error("Invalid list")}const item=this._head;this._map.delete(item.key);this.removeItem(item);this._size--;return item.value}forEach(callbackfn,thisArg){const state=this._state;let current=this._head;while(current){if(thisArg){callbackfn.bind(thisArg)(current.value,current.key,this)}else{callbackfn(current.value,current.key,this)}if(this._state!==state){throw new Error(`LinkedMap got modified during iteration.`)}current=current.next}}keys(){const state=this._state;let current=this._head;const iterator={[Symbol.iterator]:()=>{return iterator},next:()=>{if(this._state!==state){throw new Error(`LinkedMap got modified during iteration.`)}if(current){const result={value:current.key,done:false};current=current.next;return result}else{return{value:void 0,done:true}}}};return iterator}values(){const state=this._state;let current=this._head;const iterator={[Symbol.iterator]:()=>{return iterator},next:()=>{if(this._state!==state){throw new Error(`LinkedMap got modified during iteration.`)}if(current){const result={value:current.value,done:false};current=current.next;return result}else{return{value:void 0,done:true}}}};return iterator}entries(){const state=this._state;let current=this._head;const iterator={[Symbol.iterator]:()=>{return iterator},next:()=>{if(this._state!==state){throw new Error(`LinkedMap got modified during iteration.`)}if(current){const result={value:[current.key,current.value],done:false};current=current.next;return result}else{return{value:void 0,done:true}}}};return iterator}[(_a=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(newSize){if(newSize>=this.size){return}if(newSize===0){this.clear();return}let current=this._head;let currentSize=this.size;while(current&&currentSize>newSize){this._map.delete(current.key);current=current.next;currentSize--}this._head=current;this._size=currentSize;if(current){current.previous=void 0}this._state++}addItemFirst(item){if(!this._head&&!this._tail){this._tail=item}else if(!this._head){throw new Error("Invalid list")}else{item.next=this._head;this._head.previous=item}this._head=item;this._state++}addItemLast(item){if(!this._head&&!this._tail){this._head=item}else if(!this._tail){throw new Error("Invalid list")}else{item.previous=this._tail;this._tail.next=item}this._tail=item;this._state++}removeItem(item){if(item===this._head&&item===this._tail){this._head=void 0;this._tail=void 0}else if(item===this._head){if(!item.next){throw new Error("Invalid list")}item.next.previous=void 0;this._head=item.next}else if(item===this._tail){if(!item.previous){throw new Error("Invalid list")}item.previous.next=void 0;this._tail=item.previous}else{const next=item.next;const previous=item.previous;if(!next||!previous){throw new Error("Invalid list")}next.previous=previous;previous.next=next}item.next=void 0;item.previous=void 0;this._state++}touch(item,touch){if(!this._head||!this._tail){throw new Error("Invalid list")}if(touch!==Touch.First&&touch!==Touch.Last){return}if(touch===Touch.First){if(item===this._head){return}const next=item.next;const previous=item.previous;if(item===this._tail){previous.next=void 0;this._tail=previous}else{next.previous=previous;previous.next=next}item.previous=void 0;item.next=this._head;this._head.previous=item;this._head=item;this._state++}else if(touch===Touch.Last){if(item===this._tail){return}const next=item.next;const previous=item.previous;if(item===this._head){next.previous=void 0;this._head=next}else{next.previous=previous;previous.next=next}item.next=void 0;item.previous=this._tail;this._tail.next=item;this._tail=item;this._state++}}toJSON(){const data=[];this.forEach((value,key)=>{data.push([key,value])});return data}fromJSON(data){this.clear();for(const[key,value]of data){this.set(key,value)}}};exports2.LinkedMap=LinkedMap;var LRUCache=class extends LinkedMap{constructor(limit,ratio=1){super();this._limit=limit;this._ratio=Math.min(Math.max(0,ratio),1)}get limit(){return this._limit}set limit(limit){this._limit=limit;this.checkTrim()}get ratio(){return this._ratio}set ratio(ratio){this._ratio=Math.min(Math.max(0,ratio),1);this.checkTrim()}get(key,touch=Touch.AsNew){return super.get(key,touch)}peek(key){return super.get(key,Touch.None)}set(key,value){super.set(key,value,Touch.Last);this.checkTrim();return this}checkTrim(){if(this.size>this._limit){this.trimOld(Math.round(this._limit*this._ratio))}}};exports2.LRUCache=LRUCache}});var require_disposable=__commonJS({"server/node_modules/vscode-jsonrpc/lib/common/disposable.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.Disposable=void 0;var Disposable;(function(Disposable2){function create(func){return{dispose:func}}Disposable2.create=create})(Disposable||(exports2.Disposable=Disposable={}))}});var require_ral=__commonJS({"server/node_modules/vscode-jsonrpc/lib/common/ral.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});var _ral;function RAL(){if(_ral===void 0){throw new Error(`No runtime abstraction layer installed`)}return _ral}(function(RAL2){function install(ral){if(ral===void 0){throw new Error(`No runtime abstraction layer provided`)}_ral=ral}RAL2.install=install})(RAL||(RAL={}));exports2.default=RAL}});var require_events=__commonJS({"server/node_modules/vscode-jsonrpc/lib/common/events.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.Emitter=exports2.Event=void 0;var ral_1=require_ral();var Event;(function(Event2){const _disposable={dispose(){}};Event2.None=function(){return _disposable}})(Event||(exports2.Event=Event={}));var CallbackList=class{add(callback,context=null,bucket){if(!this._callbacks){this._callbacks=[];this._contexts=[]}this._callbacks.push(callback);this._contexts.push(context);if(Array.isArray(bucket)){bucket.push({dispose:()=>this.remove(callback,context)})}}remove(callback,context=null){if(!this._callbacks){return}let foundCallbackWithDifferentContext=false;for(let i=0,len=this._callbacks.length;i<len;i++){if(this._callbacks[i]===callback){if(this._contexts[i]===context){this._callbacks.splice(i,1);this._contexts.splice(i,1);return}else{foundCallbackWithDifferentContext=true}}}if(foundCallbackWithDifferentContext){throw new Error("When adding a listener with a context, you should remove it with the same context")}}invoke(...args){if(!this._callbacks){return[]}const ret=[],callbacks=this._callbacks.slice(0),contexts=this._contexts.slice(0);for(let i=0,len=callbacks.length;i<len;i++){try{ret.push(callbacks[i].apply(contexts[i],args))}catch(e){(0,ral_1.default)().console.error(e)}}return ret}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0;this._contexts=void 0}};var Emitter=class _Emitter{constructor(_options){this._options=_options}get event(){if(!this._event){this._event=(listener,thisArgs,disposables)=>{if(!this._callbacks){this._callbacks=new CallbackList}if(this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()){this._options.onFirstListenerAdd(this)}this._callbacks.add(listener,thisArgs);const result={dispose:()=>{if(!this._callbacks){return}this._callbacks.remove(listener,thisArgs);result.dispose=_Emitter._noop;if(this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()){this._options.onLastListenerRemove(this)}}};if(Array.isArray(disposables)){disposables.push(result)}return result}}return this._event}fire(event){if(this._callbacks){this._callbacks.invoke.call(this._callbacks,event)}}dispose(){if(this._callbacks){this._callbacks.dispose();this._callbacks=void 0}}};exports2.Emitter=Emitter;Emitter._noop=function(){}}});var require_cancellation=__commonJS({"server/node_modules/vscode-jsonrpc/lib/common/cancellation.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.CancellationTokenSource=exports2.CancellationToken=void 0;var ral_1=require_ral();var Is2=require_is2();var events_1=require_events();var CancellationToken;(function(CancellationToken2){CancellationToken2.None=Object.freeze({isCancellationRequested:false,onCancellationRequested:events_1.Event.None});CancellationToken2.Cancelled=Object.freeze({isCancellationRequested:true,onCancellationRequested:events_1.Event.None});function is(value){const candidate=value;return candidate&&(candidate===CancellationToken2.None||candidate===CancellationToken2.Cancelled||Is2.boolean(candidate.isCancellationRequested)&&!!candidate.onCancellationRequested)}CancellationToken2.is=is})(CancellationToken||(exports2.CancellationToken=CancellationToken={}));var shortcutEvent=Object.freeze(function(callback,context){const handle=(0,ral_1.default)().timer.setTimeout(callback.bind(context),0);return{dispose(){handle.dispose()}}});var MutableToken=class{constructor(){this._isCancelled=false}cancel(){if(!this._isCancelled){this._isCancelled=true;if(this._emitter){this._emitter.fire(void 0);this.dispose()}}}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){if(this._isCancelled){return shortcutEvent}if(!this._emitter){this._emitter=new events_1.Emitter}return this._emitter.event}dispose(){if(this._emitter){this._emitter.dispose();this._emitter=void 0}}};var CancellationTokenSource=class{get token(){if(!this._token){this._token=new MutableToken}return this._token}cancel(){if(!this._token){this._token=CancellationToken.Cancelled}else{this._token.cancel()}}dispose(){if(!this._token){this._token=CancellationToken.None}else if(this._token instanceof MutableToken){this._token.dispose()}}};exports2.CancellationTokenSource=CancellationTokenSource}});var require_sharedArrayCancellation=__commonJS({"server/node_modules/vscode-jsonrpc/lib/common/sharedArrayCancellation.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.SharedArrayReceiverStrategy=exports2.SharedArraySenderStrategy=void 0;var cancellation_1=require_cancellation();var CancellationState;(function(CancellationState2){CancellationState2.Continue=0;CancellationState2.Cancelled=1})(CancellationState||(CancellationState={}));var SharedArraySenderStrategy=class{constructor(){this.buffers=new Map}enableCancellation(request){if(request.id===null){return}const buffer=new SharedArrayBuffer(4);const data=new Int32Array(buffer,0,1);data[0]=CancellationState.Continue;this.buffers.set(request.id,buffer);request.$cancellationData=buffer}async sendCancellation(_conn,id){const buffer=this.buffers.get(id);if(buffer===void 0){return}const data=new Int32Array(buffer,0,1);Atomics.store(data,0,CancellationState.Cancelled)}cleanup(id){this.buffers.delete(id)}dispose(){this.buffers.clear()}};exports2.SharedArraySenderStrategy=SharedArraySenderStrategy;var SharedArrayBufferCancellationToken=class{constructor(buffer){this.data=new Int32Array(buffer,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===CancellationState.Cancelled}get onCancellationRequested(){throw new Error(`Cancellation over SharedArrayBuffer doesn't support cancellation events`)}};var SharedArrayBufferCancellationTokenSource=class{constructor(buffer){this.token=new SharedArrayBufferCancellationToken(buffer)}cancel(){}dispose(){}};var SharedArrayReceiverStrategy=class{constructor(){this.kind="request"}createCancellationTokenSource(request){const buffer=request.$cancellationData;if(buffer===void 0){return new cancellation_1.CancellationTokenSource}return new SharedArrayBufferCancellationTokenSource(buffer)}};exports2.SharedArrayReceiverStrategy=SharedArrayReceiverStrategy}});var require_semaphore=__commonJS({"server/node_modules/vscode-jsonrpc/lib/common/semaphore.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.Semaphore=void 0;var ral_1=require_ral();var Semaphore=class{constructor(capacity=1){if(capacity<=0){throw new Error("Capacity must be greater than 0")}this._capacity=capacity;this._active=0;this._waiting=[]}lock(thunk){return new Promise((resolve,reject)=>{this._waiting.push({thunk,resolve,reject});this.runNext()})}get active(){return this._active}runNext(){if(this._waiting.length===0||this._active===this._capacity){return}(0,ral_1.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity){return}const next=this._waiting.shift();this._active++;if(this._active>this._capacity){throw new Error(`To many thunks active`)}try{const result=next.thunk();if(result instanceof Promise){result.then(value=>{this._active--;next.resolve(value);this.runNext()},err=>{this._active--;next.reject(err);this.runNext()})}else{this._active--;next.resolve(result);this.runNext()}}catch(err){this._active--;next.reject(err);this.runNext()}}};exports2.Semaphore=Semaphore}});var require_messageReader=__commonJS({"server/node_modules/vscode-jsonrpc/lib/common/messageReader.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.ReadableStreamMessageReader=exports2.AbstractMessageReader=exports2.MessageReader=void 0;var ral_1=require_ral();var Is2=require_is2();var events_1=require_events();var semaphore_1=require_semaphore();var MessageReader;(function(MessageReader2){function is(value){let candidate=value;return candidate&&Is2.func(candidate.listen)&&Is2.func(candidate.dispose)&&Is2.func(candidate.onError)&&Is2.func(candidate.onClose)&&Is2.func(candidate.onPartialMessage)}MessageReader2.is=is})(MessageReader||(exports2.MessageReader=MessageReader={}));var AbstractMessageReader=class{constructor(){this.errorEmitter=new events_1.Emitter;this.closeEmitter=new events_1.Emitter;this.partialMessageEmitter=new events_1.Emitter}dispose(){this.errorEmitter.dispose();this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(error){this.errorEmitter.fire(this.asError(error))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(info){this.partialMessageEmitter.fire(info)}asError(error){if(error instanceof Error){return error}else{return new Error(`Reader received error. Reason: ${Is2.string(error.message)?error.message:"unknown"}`)}}};exports2.AbstractMessageReader=AbstractMessageReader;var ResolvedMessageReaderOptions;(function(ResolvedMessageReaderOptions2){function fromOptions(options){let charset;let result;let contentDecoder;const contentDecoders=new Map;let contentTypeDecoder;const contentTypeDecoders=new Map;if(options===void 0||typeof options==="string"){charset=options??"utf-8"}else{charset=options.charset??"utf-8";if(options.contentDecoder!==void 0){contentDecoder=options.contentDecoder;contentDecoders.set(contentDecoder.name,contentDecoder)}if(options.contentDecoders!==void 0){for(const decoder of options.contentDecoders){contentDecoders.set(decoder.name,decoder)}}if(options.contentTypeDecoder!==void 0){contentTypeDecoder=options.contentTypeDecoder;contentTypeDecoders.set(contentTypeDecoder.name,contentTypeDecoder)}if(options.contentTypeDecoders!==void 0){for(const decoder of options.contentTypeDecoders){contentTypeDecoders.set(decoder.name,decoder)}}}if(contentTypeDecoder===void 0){contentTypeDecoder=(0,ral_1.default)().applicationJson.decoder;contentTypeDecoders.set(contentTypeDecoder.name,contentTypeDecoder)}return{charset,contentDecoder,contentDecoders,contentTypeDecoder,contentTypeDecoders}}ResolvedMessageReaderOptions2.fromOptions=fromOptions})(ResolvedMessageReaderOptions||(ResolvedMessageReaderOptions={}));var ReadableStreamMessageReader=class extends AbstractMessageReader{constructor(readable,options){super();this.readable=readable;this.options=ResolvedMessageReaderOptions.fromOptions(options);this.buffer=(0,ral_1.default)().messageBuffer.create(this.options.charset);this._partialMessageTimeout=1e4;this.nextMessageLength=-1;this.messageToken=0;this.readSemaphore=new semaphore_1.Semaphore(1)}set partialMessageTimeout(timeout){this._partialMessageTimeout=timeout}get partialMessageTimeout(){return this._partialMessageTimeout}listen(callback){this.nextMessageLength=-1;this.messageToken=0;this.partialMessageTimer=void 0;this.callback=callback;const result=this.readable.onData(data=>{this.onData(data)});this.readable.onError(error=>this.fireError(error));this.readable.onClose(()=>this.fireClose());return result}onData(data){try{this.buffer.append(data);while(true){if(this.nextMessageLength===-1){const headers=this.buffer.tryReadHeaders(true);if(!headers){return}const contentLength=headers.get("content-length");if(!contentLength){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(headers))}`));return}const length=parseInt(contentLength);if(isNaN(length)){this.fireError(new Error(`Content-Length value must be a number. Got ${contentLength}`));return}this.nextMessageLength=length}const body=this.buffer.tryReadBody(this.nextMessageLength);if(body===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer();this.nextMessageLength=-1;this.readSemaphore.lock(async()=>{const bytes=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(body):body;const message=await this.options.contentTypeDecoder.decode(bytes,this.options);this.callback(message)}).catch(error=>{this.fireError(error)})}}catch(error){this.fireError(error)}}clearPartialMessageTimer(){if(this.partialMessageTimer){this.partialMessageTimer.dispose();this.partialMessageTimer=void 0}}setPartialMessageTimer(){this.clearPartialMessageTimer();if(this._partialMessageTimeout<=0){return}this.partialMessageTimer=(0,ral_1.default)().timer.setTimeout((token,timeout)=>{this.partialMessageTimer=void 0;if(token===this.messageToken){this.firePartialMessage({messageToken:token,waitingTime:timeout});this.setPartialMessageTimer()}},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout)}};exports2.ReadableStreamMessageReader=ReadableStreamMessageReader}});var require_messageWriter=__commonJS({"server/node_modules/vscode-jsonrpc/lib/common/messageWriter.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.WriteableStreamMessageWriter=exports2.AbstractMessageWriter=exports2.MessageWriter=void 0;var ral_1=require_ral();var Is2=require_is2();var semaphore_1=require_semaphore();var events_1=require_events();var ContentLength="Content-Length: ";var CRLF="\r\n";var MessageWriter;(function(MessageWriter2){function is(value){let candidate=value;return candidate&&Is2.func(candidate.dispose)&&Is2.func(candidate.onClose)&&Is2.func(candidate.onError)&&Is2.func(candidate.write)}MessageWriter2.is=is})(MessageWriter||(exports2.MessageWriter=MessageWriter={}));var AbstractMessageWriter=class{constructor(){this.errorEmitter=new events_1.Emitter;this.closeEmitter=new events_1.Emitter}dispose(){this.errorEmitter.dispose();this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(error,message,count){this.errorEmitter.fire([this.asError(error),message,count])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(error){if(error instanceof Error){return error}else{return new Error(`Writer received error. Reason: ${Is2.string(error.message)?error.message:"unknown"}`)}}};exports2.AbstractMessageWriter=AbstractMessageWriter;var ResolvedMessageWriterOptions;(function(ResolvedMessageWriterOptions2){function fromOptions(options){if(options===void 0||typeof options==="string"){return{charset:options??"utf-8",contentTypeEncoder:(0,ral_1.default)().applicationJson.encoder}}else{return{charset:options.charset??"utf-8",contentEncoder:options.contentEncoder,contentTypeEncoder:options.contentTypeEncoder??(0,ral_1.default)().applicationJson.encoder}}}ResolvedMessageWriterOptions2.fromOptions=fromOptions})(ResolvedMessageWriterOptions||(ResolvedMessageWriterOptions={}));var WriteableStreamMessageWriter=class extends AbstractMessageWriter{constructor(writable,options){super();this.writable=writable;this.options=ResolvedMessageWriterOptions.fromOptions(options);this.errorCount=0;this.writeSemaphore=new semaphore_1.Semaphore(1);this.writable.onError(error=>this.fireError(error));this.writable.onClose(()=>this.fireClose())}async write(msg){return this.writeSemaphore.lock(async()=>{const payload=this.options.contentTypeEncoder.encode(msg,this.options).then(buffer=>{if(this.options.contentEncoder!==void 0){return this.options.contentEncoder.encode(buffer)}else{return buffer}});return payload.then(buffer=>{const headers=[];headers.push(ContentLength,buffer.byteLength.toString(),CRLF);headers.push(CRLF);return this.doWrite(msg,headers,buffer)},error=>{this.fireError(error);throw error})})}async doWrite(msg,headers,data){try{await this.writable.write(headers.join(""),"ascii");return this.writable.write(data)}catch(error){this.handleError(error,msg);return Promise.reject(error)}}handleError(error,msg){this.errorCount++;this.fireError(error,msg,this.errorCount)}end(){this.writable.end()}};exports2.WriteableStreamMessageWriter=WriteableStreamMessageWriter}});var require_messageBuffer=__commonJS({"server/node_modules/vscode-jsonrpc/lib/common/messageBuffer.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.AbstractMessageBuffer=void 0;var CR=13;var LF=10;var CRLF="\r\n";var AbstractMessageBuffer=class{constructor(encoding="utf-8"){this._encoding=encoding;this._chunks=[];this._totalLength=0}get encoding(){return this._encoding}append(chunk){const toAppend=typeof chunk==="string"?this.fromString(chunk,this._encoding):chunk;this._chunks.push(toAppend);this._totalLength+=toAppend.byteLength}tryReadHeaders(lowerCaseKeys=false){if(this._chunks.length===0){return void 0}let state=0;let chunkIndex=0;let offset=0;let chunkBytesRead=0;row:while(chunkIndex<this._chunks.length){const chunk=this._chunks[chunkIndex];offset=0;column:while(offset<chunk.length){const value=chunk[offset];switch(value){case CR:switch(state){case 0:state=1;break;case 2:state=3;break;default:state=0}break;case LF:switch(state){case 1:state=2;break;case 3:state=4;offset++;break row;default:state=0}break;default:state=0}offset++}chunkBytesRead+=chunk.byteLength;chunkIndex++}if(state!==4){return void 0}const buffer=this._read(chunkBytesRead+offset);const result=new Map;const headers=this.toString(buffer,"ascii").split(CRLF);if(headers.length<2){return result}for(let i=0;i<headers.length-2;i++){const header=headers[i];const index=header.indexOf(":");if(index===-1){throw new Error(`Message header must separate key and value using ':'
${header}`)}const key=header.substr(0,index);const value=header.substr(index+1).trim();result.set(lowerCaseKeys?key.toLowerCase():key,value)}return result}tryReadBody(length){if(this._totalLength<length){return void 0}return this._read(length)}get numberOfBytes(){return this._totalLength}_read(byteCount){if(byteCount===0){return this.emptyBuffer()}if(byteCount>this._totalLength){throw new Error(`Cannot read so many bytes!`)}if(this._chunks[0].byteLength===byteCount){const chunk=this._chunks[0];this._chunks.shift();this._totalLength-=byteCount;return this.asNative(chunk)}if(this._chunks[0].byteLength>byteCount){const chunk=this._chunks[0];const result2=this.asNative(chunk,byteCount);this._chunks[0]=chunk.slice(byteCount);this._totalLength-=byteCount;return result2}const result=this.allocNative(byteCount);let resultOffset=0;let chunkIndex=0;while(byteCount>0){const chunk=this._chunks[chunkIndex];if(chunk.byteLength>byteCount){const chunkPart=chunk.slice(0,byteCount);result.set(chunkPart,resultOffset);resultOffset+=byteCount;this._chunks[chunkIndex]=chunk.slice(byteCount);this._totalLength-=byteCount;byteCount-=byteCount}else{result.set(chunk,resultOffset);resultOffset+=chunk.byteLength;this._chunks.shift();this._totalLength-=chunk.byteLength;byteCount-=chunk.byteLength}}return result}};exports2.AbstractMessageBuffer=AbstractMessageBuffer}});var require_connection=__commonJS({"server/node_modules/vscode-jsonrpc/lib/common/connection.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.createMessageConnection=exports2.ConnectionOptions=exports2.MessageStrategy=exports2.CancellationStrategy=exports2.CancellationSenderStrategy=exports2.CancellationReceiverStrategy=exports2.RequestCancellationReceiverStrategy=exports2.IdCancellationReceiverStrategy=exports2.ConnectionStrategy=exports2.ConnectionError=exports2.ConnectionErrors=exports2.LogTraceNotification=exports2.SetTraceNotification=exports2.TraceFormat=exports2.TraceValues=exports2.Trace=exports2.NullLogger=exports2.ProgressType=exports2.ProgressToken=void 0;var ral_1=require_ral();var Is2=require_is2();var messages_1=require_messages();var linkedMap_1=require_linkedMap();var events_1=require_events();var cancellation_1=require_cancellation();var CancelNotification;(function(CancelNotification2){CancelNotification2.type=new messages_1.NotificationType("$/cancelRequest")})(CancelNotification||(CancelNotification={}));var ProgressToken;(function(ProgressToken2){function is(value){return typeof value==="string"||typeof value==="number"}ProgressToken2.is=is})(ProgressToken||(exports2.ProgressToken=ProgressToken={}));var ProgressNotification;(function(ProgressNotification2){ProgressNotification2.type=new messages_1.NotificationType("$/progress")})(ProgressNotification||(ProgressNotification={}));var ProgressType=class{constructor(){}};exports2.ProgressType=ProgressType;var StarRequestHandler;(function(StarRequestHandler2){function is(value){return Is2.func(value)}StarRequestHandler2.is=is})(StarRequestHandler||(StarRequestHandler={}));exports2.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Trace;(function(Trace2){Trace2[Trace2["Off"]=0]="Off";Trace2[Trace2["Messages"]=1]="Messages";Trace2[Trace2["Compact"]=2]="Compact";Trace2[Trace2["Verbose"]=3]="Verbose"})(Trace||(exports2.Trace=Trace={}));var TraceValues;(function(TraceValues2){TraceValues2.Off="off";TraceValues2.Messages="messages";TraceValues2.Compact="compact";TraceValues2.Verbose="verbose"})(TraceValues||(exports2.TraceValues=TraceValues={}));(function(Trace2){function fromString(value){if(!Is2.string(value)){return Trace2.Off}value=value.toLowerCase();switch(value){case"off":return Trace2.Off;case"messages":return Trace2.Messages;case"compact":return Trace2.Compact;case"verbose":return Trace2.Verbose;default:return Trace2.Off}}Trace2.fromString=fromString;function toString(value){switch(value){case Trace2.Off:return"off";case Trace2.Messages:return"messages";case Trace2.Compact:return"compact";case Trace2.Verbose:return"verbose";default:return"off"}}Trace2.toString=toString})(Trace||(exports2.Trace=Trace={}));var TraceFormat;(function(TraceFormat2){TraceFormat2["Text"]="text";TraceFormat2["JSON"]="json"})(TraceFormat||(exports2.TraceFormat=TraceFormat={}));(function(TraceFormat2){function fromString(value){if(!Is2.string(value)){return TraceFormat2.Text}value=value.toLowerCase();if(value==="json"){return TraceFormat2.JSON}else{return TraceFormat2.Text}}TraceFormat2.fromString=fromString})(TraceFormat||(exports2.TraceFormat=TraceFormat={}));var SetTraceNotification;(function(SetTraceNotification2){SetTraceNotification2.type=new messages_1.NotificationType("$/setTrace")})(SetTraceNotification||(exports2.SetTraceNotification=SetTraceNotification={}));var LogTraceNotification;(function(LogTraceNotification2){LogTraceNotification2.type=new messages_1.NotificationType("$/logTrace")})(LogTraceNotification||(exports2.LogTraceNotification=LogTraceNotification={}));var ConnectionErrors;(function(ConnectionErrors2){ConnectionErrors2[ConnectionErrors2["Closed"]=1]="Closed";ConnectionErrors2[ConnectionErrors2["Disposed"]=2]="Disposed";ConnectionErrors2[ConnectionErrors2["AlreadyListening"]=3]="AlreadyListening"})(ConnectionErrors||(exports2.ConnectionErrors=ConnectionErrors={}));var ConnectionError=class _ConnectionError extends Error{constructor(code,message){super(message);this.code=code;Object.setPrototypeOf(this,_ConnectionError.prototype)}};exports2.ConnectionError=ConnectionError;var ConnectionStrategy;(function(ConnectionStrategy2){function is(value){const candidate=value;return candidate&&Is2.func(candidate.cancelUndispatched)}ConnectionStrategy2.is=is})(ConnectionStrategy||(exports2.ConnectionStrategy=ConnectionStrategy={}));var IdCancellationReceiverStrategy;(function(IdCancellationReceiverStrategy2){function is(value){const candidate=value;return candidate&&(candidate.kind===void 0||candidate.kind==="id")&&Is2.func(candidate.createCancellationTokenSource)&&(candidate.dispose===void 0||Is2.func(candidate.dispose))}IdCancellationReceiverStrategy2.is=is})(IdCancellationReceiverStrategy||(exports2.IdCancellationReceiverStrategy=IdCancellationReceiverStrategy={}));var RequestCancellationReceiverStrategy;(function(RequestCancellationReceiverStrategy2){function is(value){const candidate=value;return candidate&&candidate.kind==="request"&&Is2.func(candidate.createCancellationTokenSource)&&(candidate.dispose===void 0||Is2.func(candidate.dispose))}RequestCancellationReceiverStrategy2.is=is})(RequestCancellationReceiverStrategy||(exports2.RequestCancellationReceiverStrategy=RequestCancellationReceiverStrategy={}));var CancellationReceiverStrategy;(function(CancellationReceiverStrategy2){CancellationReceiverStrategy2.Message=Object.freeze({createCancellationTokenSource(_){return new cancellation_1.CancellationTokenSource}});function is(value){return IdCancellationReceiverStrategy.is(value)||RequestCancellationReceiverStrategy.is(value)}CancellationReceiverStrategy2.is=is})(CancellationReceiverStrategy||(exports2.CancellationReceiverStrategy=CancellationReceiverStrategy={}));var CancellationSenderStrategy;(function(CancellationSenderStrategy2){CancellationSenderStrategy2.Message=Object.freeze({sendCancellation(conn,id){return conn.sendNotification(CancelNotification.type,{id})},cleanup(_){}});function is(value){const candidate=value;return candidate&&Is2.func(candidate.sendCancellation)&&Is2.func(candidate.cleanup)}CancellationSenderStrategy2.is=is})(CancellationSenderStrategy||(exports2.CancellationSenderStrategy=CancellationSenderStrategy={}));var CancellationStrategy;(function(CancellationStrategy2){CancellationStrategy2.Message=Object.freeze({receiver:CancellationReceiverStrategy.Message,sender:CancellationSenderStrategy.Message});function is(value){const candidate=value;return candidate&&CancellationReceiverStrategy.is(candidate.receiver)&&CancellationSenderStrategy.is(candidate.sender)}CancellationStrategy2.is=is})(CancellationStrategy||(exports2.CancellationStrategy=CancellationStrategy={}));var MessageStrategy;(function(MessageStrategy2){function is(value){const candidate=value;return candidate&&Is2.func(candidate.handleMessage)}MessageStrategy2.is=is})(MessageStrategy||(exports2.MessageStrategy=MessageStrategy={}));var ConnectionOptions;(function(ConnectionOptions2){function is(value){const candidate=value;return candidate&&(CancellationStrategy.is(candidate.cancellationStrategy)||ConnectionStrategy.is(candidate.connectionStrategy)||MessageStrategy.is(candidate.messageStrategy))}ConnectionOptions2.is=is})(ConnectionOptions||(exports2.ConnectionOptions=ConnectionOptions={}));var ConnectionState;(function(ConnectionState2){ConnectionState2[ConnectionState2["New"]=1]="New";ConnectionState2[ConnectionState2["Listening"]=2]="Listening";ConnectionState2[ConnectionState2["Closed"]=3]="Closed";ConnectionState2[ConnectionState2["Disposed"]=4]="Disposed"})(ConnectionState||(ConnectionState={}));function createMessageConnection(messageReader,messageWriter,_logger,options){const logger2=_logger!==void 0?_logger:exports2.NullLogger;let sequenceNumber=0;let notificationSequenceNumber=0;let unknownResponseSequenceNumber=0;const version="2.0";let starRequestHandler=void 0;const requestHandlers=new Map;let starNotificationHandler=void 0;const notificationHandlers=new Map;const progressHandlers=new Map;let timer;let messageQueue=new linkedMap_1.LinkedMap;let responsePromises=new Map;let knownCanceledRequests=new Set;let requestTokens=new Map;let trace=Trace.Off;let traceFormat=TraceFormat.Text;let tracer;let state=ConnectionState.New;const errorEmitter=new events_1.Emitter;const closeEmitter=new events_1.Emitter;const unhandledNotificationEmitter=new events_1.Emitter;const unhandledProgressEmitter=new events_1.Emitter;const disposeEmitter=new events_1.Emitter;const cancellationStrategy=options&&options.cancellationStrategy?options.cancellationStrategy:CancellationStrategy.Message;function createRequestQueueKey(id){if(id===null){throw new Error(`Can't send requests with id null since the response can't be correlated.`)}return"req-"+id.toString()}function createResponseQueueKey(id){if(id===null){return"res-unknown-"+(++unknownResponseSequenceNumber).toString()}else{return"res-"+id.toString()}}function createNotificationQueueKey(){return"not-"+(++notificationSequenceNumber).toString()}function addMessageToQueue(queue,message){if(messages_1.Message.isRequest(message)){queue.set(createRequestQueueKey(message.id),message)}else if(messages_1.Message.isResponse(message)){queue.set(createResponseQueueKey(message.id),message)}else{queue.set(createNotificationQueueKey(),message)}}function cancelUndispatched(_message){return void 0}function isListening(){return state===ConnectionState.Listening}function isClosed(){return state===ConnectionState.Closed}function isDisposed(){return state===ConnectionState.Disposed}function closeHandler(){if(state===ConnectionState.New||state===ConnectionState.Listening){state=ConnectionState.Closed;closeEmitter.fire(void 0)}}function readErrorHandler(error){errorEmitter.fire([error,void 0,void 0])}function writeErrorHandler(data){errorEmitter.fire(data)}messageReader.onClose(closeHandler);messageReader.onError(readErrorHandler);messageWriter.onClose(closeHandler);messageWriter.onError(writeErrorHandler);function triggerMessageQueue(){if(timer||messageQueue.size===0){return}timer=(0,ral_1.default)().timer.setImmediate(()=>{timer=void 0;processMessageQueue()})}function handleMessage(message){if(messages_1.Message.isRequest(message)){handleRequest(message)}else if(messages_1.Message.isNotification(message)){handleNotification(message)}else if(messages_1.Message.isResponse(message)){handleResponse(message)}else{handleInvalidMessage(message)}}function processMessageQueue(){if(messageQueue.size===0){return}const message=messageQueue.shift();try{const messageStrategy=options?.messageStrategy;if(MessageStrategy.is(messageStrategy)){messageStrategy.handleMessage(message,handleMessage)}else{handleMessage(message)}}finally{triggerMessageQueue()}}const callback=message=>{try{if(messages_1.Message.isNotification(message)&&message.method===CancelNotification.type.method){const cancelId=message.params.id;const key=createRequestQueueKey(cancelId);const toCancel=messageQueue.get(key);if(messages_1.Message.isRequest(toCancel)){const strategy=options?.connectionStrategy;const response=strategy&&strategy.cancelUndispatched?strategy.cancelUndispatched(toCancel,cancelUndispatched):cancelUndispatched(toCancel);if(response&&(response.error!==void 0||response.result!==void 0)){messageQueue.delete(key);requestTokens.delete(cancelId);response.id=toCancel.id;traceSendingResponse(response,message.method,Date.now());messageWriter.write(response).catch(()=>logger2.error(`Sending response for canceled message failed.`));return}}const cancellationToken=requestTokens.get(cancelId);if(cancellationToken!==void 0){cancellationToken.cancel();traceReceivedNotification(message);return}else{knownCanceledRequests.add(cancelId)}}addMessageToQueue(messageQueue,message)}finally{triggerMessageQueue()}};function handleRequest(requestMessage){if(isDisposed()){return}function reply(resultOrError,method,startTime2){const message={jsonrpc:version,id:requestMessage.id};if(resultOrError instanceof messages_1.ResponseError){message.error=resultOrError.toJson()}else{message.result=resultOrError===void 0?null:resultOrError}traceSendingResponse(message,method,startTime2);messageWriter.write(message).catch(()=>logger2.error(`Sending response failed.`))}function replyError(error,method,startTime2){const message={jsonrpc:version,id:requestMessage.id,error:error.toJson()};traceSendingResponse(message,method,startTime2);messageWriter.write(message).catch(()=>logger2.error(`Sending response failed.`))}function replySuccess(result,method,startTime2){if(result===void 0){result=null}const message={jsonrpc:version,id:requestMessage.id,result};traceSendingResponse(message,method,startTime2);messageWriter.write(message).catch(()=>logger2.error(`Sending response failed.`))}traceReceivedRequest(requestMessage);const element=requestHandlers.get(requestMessage.method);let type;let requestHandler;if(element){type=element.type;requestHandler=element.handler}const startTime=Date.now();if(requestHandler||starRequestHandler){const tokenKey=requestMessage.id??String(Date.now());const cancellationSource=IdCancellationReceiverStrategy.is(cancellationStrategy.receiver)?cancellationStrategy.receiver.createCancellationTokenSource(tokenKey):cancellationStrategy.receiver.createCancellationTokenSource(requestMessage);if(requestMessage.id!==null&&knownCanceledRequests.has(requestMessage.id)){cancellationSource.cancel()}if(requestMessage.id!==null){requestTokens.set(tokenKey,cancellationSource)}try{let handlerResult;if(requestHandler){if(requestMessage.params===void 0){if(type!==void 0&&type.numberOfParams!==0){replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams,`Request ${requestMessage.method} defines ${type.numberOfParams} params but received none.`),requestMessage.method,startTime);return}handlerResult=requestHandler(cancellationSource.token)}else if(Array.isArray(requestMessage.params)){if(type!==void 0&&type.parameterStructures===messages_1.ParameterStructures.byName){replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams,`Request ${requestMessage.method} defines parameters by name but received parameters by position`),requestMessage.method,startTime);return}handlerResult=requestHandler(...requestMessage.params,cancellationSource.token)}else{if(type!==void 0&&type.parameterStructures===messages_1.ParameterStructures.byPosition){replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams,`Request ${requestMessage.method} defines parameters by position but received parameters by name`),requestMessage.method,startTime);return}handlerResult=requestHandler(requestMessage.params,cancellationSource.token)}}else if(starRequestHandler){handlerResult=starRequestHandler(requestMessage.method,requestMessage.params,cancellationSource.token)}const promise=handlerResult;if(!handlerResult){requestTokens.delete(tokenKey);replySuccess(handlerResult,requestMessage.method,startTime)}else if(promise.then){promise.then(resultOrError=>{requestTokens.delete(tokenKey);reply(resultOrError,requestMessage.method,startTime)},error=>{requestTokens.delete(tokenKey);if(error instanceof messages_1.ResponseError){replyError(error,requestMessage.method,startTime)}else if(error&&Is2.string(error.message)){replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError,`Request ${requestMessage.method} failed with message: ${error.message}`),requestMessage.method,startTime)}else{replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError,`Request ${requestMessage.method} failed unexpectedly without providing any details.`),requestMessage.method,startTime)}})}else{requestTokens.delete(tokenKey);reply(handlerResult,requestMessage.method,startTime)}}catch(error){requestTokens.delete(tokenKey);if(error instanceof messages_1.ResponseError){reply(error,requestMessage.method,startTime)}else if(error&&Is2.string(error.message)){replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError,`Request ${requestMessage.method} failed with message: ${error.message}`),requestMessage.method,startTime)}else{replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError,`Request ${requestMessage.method} failed unexpectedly without providing any details.`),requestMessage.method,startTime)}}}else{replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound,`Unhandled method ${requestMessage.method}`),requestMessage.method,startTime)}}function handleResponse(responseMessage){if(isDisposed()){return}if(responseMessage.id===null){if(responseMessage.error){logger2.error(`Received response message without id: Error is: 
${JSON.stringify(responseMessage.error,void 0,4)}`)}else{logger2.error(`Received response message without id. No further error information provided.`)}}else{const key=responseMessage.id;const responsePromise=responsePromises.get(key);traceReceivedResponse(responseMessage,responsePromise);if(responsePromise!==void 0){responsePromises.delete(key);try{if(responseMessage.error){const error=responseMessage.error;responsePromise.reject(new messages_1.ResponseError(error.code,error.message,error.data))}else if(responseMessage.result!==void 0){responsePromise.resolve(responseMessage.result)}else{throw new Error("Should never happen.")}}catch(error){if(error.message){logger2.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`)}else{logger2.error(`Response handler '${responsePromise.method}' failed unexpectedly.`)}}}}}function handleNotification(message){if(isDisposed()){return}let type=void 0;let notificationHandler;if(message.method===CancelNotification.type.method){const cancelId=message.params.id;knownCanceledRequests.delete(cancelId);traceReceivedNotification(message);return}else{const element=notificationHandlers.get(message.method);if(element){notificationHandler=element.handler;type=element.type}}if(notificationHandler||starNotificationHandler){try{traceReceivedNotification(message);if(notificationHandler){if(message.params===void 0){if(type!==void 0){if(type.numberOfParams!==0&&type.parameterStructures!==messages_1.ParameterStructures.byName){logger2.error(`Notification ${message.method} defines ${type.numberOfParams} params but received none.`)}}notificationHandler()}else if(Array.isArray(message.params)){const params=message.params;if(message.method===ProgressNotification.type.method&&params.length===2&&ProgressToken.is(params[0])){notificationHandler({token:params[0],value:params[1]})}else{if(type!==void 0){if(type.parameterStructures===messages_1.ParameterStructures.byName){logger2.error(`Notification ${message.method} defines parameters by name but received parameters by position`)}if(type.numberOfParams!==message.params.length){logger2.error(`Notification ${message.method} defines ${type.numberOfParams} params but received ${params.length} arguments`)}}notificationHandler(...params)}}else{if(type!==void 0&&type.parameterStructures===messages_1.ParameterStructures.byPosition){logger2.error(`Notification ${message.method} defines parameters by position but received parameters by name`)}notificationHandler(message.params)}}else if(starNotificationHandler){starNotificationHandler(message.method,message.params)}}catch(error){if(error.message){logger2.error(`Notification handler '${message.method}' failed with message: ${error.message}`)}else{logger2.error(`Notification handler '${message.method}' failed unexpectedly.`)}}}else{unhandledNotificationEmitter.fire(message)}}function handleInvalidMessage(message){if(!message){logger2.error("Received empty message.");return}logger2.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(message,null,4)}`);const responseMessage=message;if(Is2.string(responseMessage.id)||Is2.number(responseMessage.id)){const key=responseMessage.id;const responseHandler=responsePromises.get(key);if(responseHandler){responseHandler.reject(new Error("The received response has neither a result nor an error property."))}}}function stringifyTrace(params){if(params===void 0||params===null){return void 0}switch(trace){case Trace.Verbose:return JSON.stringify(params,null,4);case Trace.Compact:return JSON.stringify(params);default:return void 0}}function traceSendingRequest(message){if(trace===Trace.Off||!tracer){return}if(traceFormat===TraceFormat.Text){let data=void 0;if((trace===Trace.Verbose||trace===Trace.Compact)&&message.params){data=`Params: ${stringifyTrace(message.params)}

`}tracer.log(`Sending request '${message.method} - (${message.id})'.`,data)}else{logLSPMessage("send-request",message)}}function traceSendingNotification(message){if(trace===Trace.Off||!tracer){return}if(traceFormat===TraceFormat.Text){let data=void 0;if(trace===Trace.Verbose||trace===Trace.Compact){if(message.params){data=`Params: ${stringifyTrace(message.params)}

`}else{data="No parameters provided.\n\n"}}tracer.log(`Sending notification '${message.method}'.`,data)}else{logLSPMessage("send-notification",message)}}function traceSendingResponse(message,method,startTime){if(trace===Trace.Off||!tracer){return}if(traceFormat===TraceFormat.Text){let data=void 0;if(trace===Trace.Verbose||trace===Trace.Compact){if(message.error&&message.error.data){data=`Error data: ${stringifyTrace(message.error.data)}

`}else{if(message.result){data=`Result: ${stringifyTrace(message.result)}

`}else if(message.error===void 0){data="No result returned.\n\n"}}}tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now()-startTime}ms`,data)}else{logLSPMessage("send-response",message)}}function traceReceivedRequest(message){if(trace===Trace.Off||!tracer){return}if(traceFormat===TraceFormat.Text){let data=void 0;if((trace===Trace.Verbose||trace===Trace.Compact)&&message.params){data=`Params: ${stringifyTrace(message.params)}

`}tracer.log(`Received request '${message.method} - (${message.id})'.`,data)}else{logLSPMessage("receive-request",message)}}function traceReceivedNotification(message){if(trace===Trace.Off||!tracer||message.method===LogTraceNotification.type.method){return}if(traceFormat===TraceFormat.Text){let data=void 0;if(trace===Trace.Verbose||trace===Trace.Compact){if(message.params){data=`Params: ${stringifyTrace(message.params)}

`}else{data="No parameters provided.\n\n"}}tracer.log(`Received notification '${message.method}'.`,data)}else{logLSPMessage("receive-notification",message)}}function traceReceivedResponse(message,responsePromise){if(trace===Trace.Off||!tracer){return}if(traceFormat===TraceFormat.Text){let data=void 0;if(trace===Trace.Verbose||trace===Trace.Compact){if(message.error&&message.error.data){data=`Error data: ${stringifyTrace(message.error.data)}

`}else{if(message.result){data=`Result: ${stringifyTrace(message.result)}

`}else if(message.error===void 0){data="No result returned.\n\n"}}}if(responsePromise){const error=message.error?` Request failed: ${message.error.message} (${message.error.code}).`:"";tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now()-responsePromise.timerStart}ms.${error}`,data)}else{tracer.log(`Received response ${message.id} without active response promise.`,data)}}else{logLSPMessage("receive-response",message)}}function logLSPMessage(type,message){if(!tracer||trace===Trace.Off){return}const lspMessage={isLSPMessage:true,type,message,timestamp:Date.now()};tracer.log(lspMessage)}function throwIfClosedOrDisposed(){if(isClosed()){throw new ConnectionError(ConnectionErrors.Closed,"Connection is closed.")}if(isDisposed()){throw new ConnectionError(ConnectionErrors.Disposed,"Connection is disposed.")}}function throwIfListening(){if(isListening()){throw new ConnectionError(ConnectionErrors.AlreadyListening,"Connection is already listening")}}function throwIfNotListening(){if(!isListening()){throw new Error("Call listen() first.")}}function undefinedToNull(param){if(param===void 0){return null}else{return param}}function nullToUndefined(param){if(param===null){return void 0}else{return param}}function isNamedParam(param){return param!==void 0&&param!==null&&!Array.isArray(param)&&typeof param==="object"}function computeSingleParam(parameterStructures,param){switch(parameterStructures){case messages_1.ParameterStructures.auto:if(isNamedParam(param)){return nullToUndefined(param)}else{return[undefinedToNull(param)]}case messages_1.ParameterStructures.byName:if(!isNamedParam(param)){throw new Error(`Received parameters by name but param is not an object literal.`)}return nullToUndefined(param);case messages_1.ParameterStructures.byPosition:return[undefinedToNull(param)];default:throw new Error(`Unknown parameter structure ${parameterStructures.toString()}`)}}function computeMessageParams(type,params){let result;const numberOfParams=type.numberOfParams;switch(numberOfParams){case 0:result=void 0;break;case 1:result=computeSingleParam(type.parameterStructures,params[0]);break;default:result=[];for(let i=0;i<params.length&&i<numberOfParams;i++){result.push(undefinedToNull(params[i]))}if(params.length<numberOfParams){for(let i=params.length;i<numberOfParams;i++){result.push(null)}}break}return result}const connection2={sendNotification:(type,...args)=>{throwIfClosedOrDisposed();let method;let messageParams;if(Is2.string(type)){method=type;const first=args[0];let paramStart=0;let parameterStructures=messages_1.ParameterStructures.auto;if(messages_1.ParameterStructures.is(first)){paramStart=1;parameterStructures=first}let paramEnd=args.length;const numberOfParams=paramEnd-paramStart;switch(numberOfParams){case 0:messageParams=void 0;break;case 1:messageParams=computeSingleParam(parameterStructures,args[paramStart]);break;default:if(parameterStructures===messages_1.ParameterStructures.byName){throw new Error(`Received ${numberOfParams} parameters for 'by Name' notification parameter structure.`)}messageParams=args.slice(paramStart,paramEnd).map(value=>undefinedToNull(value));break}}else{const params=args;method=type.method;messageParams=computeMessageParams(type,params)}const notificationMessage={jsonrpc:version,method,params:messageParams};traceSendingNotification(notificationMessage);return messageWriter.write(notificationMessage).catch(error=>{logger2.error(`Sending notification failed.`);throw error})},onNotification:(type,handler)=>{throwIfClosedOrDisposed();let method;if(Is2.func(type)){starNotificationHandler=type}else if(handler){if(Is2.string(type)){method=type;notificationHandlers.set(type,{type:void 0,handler})}else{method=type.method;notificationHandlers.set(type.method,{type,handler})}}return{dispose:()=>{if(method!==void 0){notificationHandlers.delete(method)}else{starNotificationHandler=void 0}}}},onProgress:(_type,token,handler)=>{if(progressHandlers.has(token)){throw new Error(`Progress handler for token ${token} already registered`)}progressHandlers.set(token,handler);return{dispose:()=>{progressHandlers.delete(token)}}},sendProgress:(_type,token,value)=>{return connection2.sendNotification(ProgressNotification.type,{token,value})},onUnhandledProgress:unhandledProgressEmitter.event,sendRequest:(type,...args)=>{throwIfClosedOrDisposed();throwIfNotListening();let method;let messageParams;let token=void 0;if(Is2.string(type)){method=type;const first=args[0];const last=args[args.length-1];let paramStart=0;let parameterStructures=messages_1.ParameterStructures.auto;if(messages_1.ParameterStructures.is(first)){paramStart=1;parameterStructures=first}let paramEnd=args.length;if(cancellation_1.CancellationToken.is(last)){paramEnd=paramEnd-1;token=last}const numberOfParams=paramEnd-paramStart;switch(numberOfParams){case 0:messageParams=void 0;break;case 1:messageParams=computeSingleParam(parameterStructures,args[paramStart]);break;default:if(parameterStructures===messages_1.ParameterStructures.byName){throw new Error(`Received ${numberOfParams} parameters for 'by Name' request parameter structure.`)}messageParams=args.slice(paramStart,paramEnd).map(value=>undefinedToNull(value));break}}else{const params=args;method=type.method;messageParams=computeMessageParams(type,params);const numberOfParams=type.numberOfParams;token=cancellation_1.CancellationToken.is(params[numberOfParams])?params[numberOfParams]:void 0}const id=sequenceNumber++;let disposable;if(token){disposable=token.onCancellationRequested(()=>{const p=cancellationStrategy.sender.sendCancellation(connection2,id);if(p===void 0){logger2.log(`Received no promise from cancellation strategy when cancelling id ${id}`);return Promise.resolve()}else{return p.catch(()=>{logger2.log(`Sending cancellation messages for id ${id} failed`)})}})}const requestMessage={jsonrpc:version,id,method,params:messageParams};traceSendingRequest(requestMessage);if(typeof cancellationStrategy.sender.enableCancellation==="function"){cancellationStrategy.sender.enableCancellation(requestMessage)}return new Promise(async(resolve,reject)=>{const resolveWithCleanup=r=>{resolve(r);cancellationStrategy.sender.cleanup(id);disposable?.dispose()};const rejectWithCleanup=r=>{reject(r);cancellationStrategy.sender.cleanup(id);disposable?.dispose()};const responsePromise={method,timerStart:Date.now(),resolve:resolveWithCleanup,reject:rejectWithCleanup};try{await messageWriter.write(requestMessage);responsePromises.set(id,responsePromise)}catch(error){logger2.error(`Sending request failed.`);responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError,error.message?error.message:"Unknown reason"));throw error}})},onRequest:(type,handler)=>{throwIfClosedOrDisposed();let method=null;if(StarRequestHandler.is(type)){method=void 0;starRequestHandler=type}else if(Is2.string(type)){method=null;if(handler!==void 0){method=type;requestHandlers.set(type,{handler,type:void 0})}}else{if(handler!==void 0){method=type.method;requestHandlers.set(type.method,{type,handler})}}return{dispose:()=>{if(method===null){return}if(method!==void 0){requestHandlers.delete(method)}else{starRequestHandler=void 0}}}},hasPendingResponse:()=>{return responsePromises.size>0},trace:async(_value,_tracer,sendNotificationOrTraceOptions)=>{let _sendNotification=false;let _traceFormat=TraceFormat.Text;if(sendNotificationOrTraceOptions!==void 0){if(Is2.boolean(sendNotificationOrTraceOptions)){_sendNotification=sendNotificationOrTraceOptions}else{_sendNotification=sendNotificationOrTraceOptions.sendNotification||false;_traceFormat=sendNotificationOrTraceOptions.traceFormat||TraceFormat.Text}}trace=_value;traceFormat=_traceFormat;if(trace===Trace.Off){tracer=void 0}else{tracer=_tracer}if(_sendNotification&&!isClosed()&&!isDisposed()){await connection2.sendNotification(SetTraceNotification.type,{value:Trace.toString(_value)})}},onError:errorEmitter.event,onClose:closeEmitter.event,onUnhandledNotification:unhandledNotificationEmitter.event,onDispose:disposeEmitter.event,end:()=>{messageWriter.end()},dispose:()=>{if(isDisposed()){return}state=ConnectionState.Disposed;disposeEmitter.fire(void 0);const error=new messages_1.ResponseError(messages_1.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const promise of responsePromises.values()){promise.reject(error)}responsePromises=new Map;requestTokens=new Map;knownCanceledRequests=new Set;messageQueue=new linkedMap_1.LinkedMap;if(Is2.func(messageWriter.dispose)){messageWriter.dispose()}if(Is2.func(messageReader.dispose)){messageReader.dispose()}},listen:()=>{throwIfClosedOrDisposed();throwIfListening();state=ConnectionState.Listening;messageReader.listen(callback)},inspect:()=>{(0,ral_1.default)().console.log("inspect")}};connection2.onNotification(LogTraceNotification.type,params=>{if(trace===Trace.Off||!tracer){return}const verbose=trace===Trace.Verbose||trace===Trace.Compact;tracer.log(params.message,verbose?params.verbose:void 0)});connection2.onNotification(ProgressNotification.type,params=>{const handler=progressHandlers.get(params.token);if(handler){handler(params.value)}else{unhandledProgressEmitter.fire(params)}});return connection2}exports2.createMessageConnection=createMessageConnection}});var require_api=__commonJS({"server/node_modules/vscode-jsonrpc/lib/common/api.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.ProgressType=exports2.ProgressToken=exports2.createMessageConnection=exports2.NullLogger=exports2.ConnectionOptions=exports2.ConnectionStrategy=exports2.AbstractMessageBuffer=exports2.WriteableStreamMessageWriter=exports2.AbstractMessageWriter=exports2.MessageWriter=exports2.ReadableStreamMessageReader=exports2.AbstractMessageReader=exports2.MessageReader=exports2.SharedArrayReceiverStrategy=exports2.SharedArraySenderStrategy=exports2.CancellationToken=exports2.CancellationTokenSource=exports2.Emitter=exports2.Event=exports2.Disposable=exports2.LRUCache=exports2.Touch=exports2.LinkedMap=exports2.ParameterStructures=exports2.NotificationType9=exports2.NotificationType8=exports2.NotificationType7=exports2.NotificationType6=exports2.NotificationType5=exports2.NotificationType4=exports2.NotificationType3=exports2.NotificationType2=exports2.NotificationType1=exports2.NotificationType0=exports2.NotificationType=exports2.ErrorCodes=exports2.ResponseError=exports2.RequestType9=exports2.RequestType8=exports2.RequestType7=exports2.RequestType6=exports2.RequestType5=exports2.RequestType4=exports2.RequestType3=exports2.RequestType2=exports2.RequestType1=exports2.RequestType0=exports2.RequestType=exports2.Message=exports2.RAL=void 0;exports2.MessageStrategy=exports2.CancellationStrategy=exports2.CancellationSenderStrategy=exports2.CancellationReceiverStrategy=exports2.ConnectionError=exports2.ConnectionErrors=exports2.LogTraceNotification=exports2.SetTraceNotification=exports2.TraceFormat=exports2.TraceValues=exports2.Trace=void 0;var messages_1=require_messages();Object.defineProperty(exports2,"Message",{enumerable:true,get:function(){return messages_1.Message}});Object.defineProperty(exports2,"RequestType",{enumerable:true,get:function(){return messages_1.RequestType}});Object.defineProperty(exports2,"RequestType0",{enumerable:true,get:function(){return messages_1.RequestType0}});Object.defineProperty(exports2,"RequestType1",{enumerable:true,get:function(){return messages_1.RequestType1}});Object.defineProperty(exports2,"RequestType2",{enumerable:true,get:function(){return messages_1.RequestType2}});Object.defineProperty(exports2,"RequestType3",{enumerable:true,get:function(){return messages_1.RequestType3}});Object.defineProperty(exports2,"RequestType4",{enumerable:true,get:function(){return messages_1.RequestType4}});Object.defineProperty(exports2,"RequestType5",{enumerable:true,get:function(){return messages_1.RequestType5}});Object.defineProperty(exports2,"RequestType6",{enumerable:true,get:function(){return messages_1.RequestType6}});Object.defineProperty(exports2,"RequestType7",{enumerable:true,get:function(){return messages_1.RequestType7}});Object.defineProperty(exports2,"RequestType8",{enumerable:true,get:function(){return messages_1.RequestType8}});Object.defineProperty(exports2,"RequestType9",{enumerable:true,get:function(){return messages_1.RequestType9}});Object.defineProperty(exports2,"ResponseError",{enumerable:true,get:function(){return messages_1.ResponseError}});Object.defineProperty(exports2,"ErrorCodes",{enumerable:true,get:function(){return messages_1.ErrorCodes}});Object.defineProperty(exports2,"NotificationType",{enumerable:true,get:function(){return messages_1.NotificationType}});Object.defineProperty(exports2,"NotificationType0",{enumerable:true,get:function(){return messages_1.NotificationType0}});Object.defineProperty(exports2,"NotificationType1",{enumerable:true,get:function(){return messages_1.NotificationType1}});Object.defineProperty(exports2,"NotificationType2",{enumerable:true,get:function(){return messages_1.NotificationType2}});Object.defineProperty(exports2,"NotificationType3",{enumerable:true,get:function(){return messages_1.NotificationType3}});Object.defineProperty(exports2,"NotificationType4",{enumerable:true,get:function(){return messages_1.NotificationType4}});Object.defineProperty(exports2,"NotificationType5",{enumerable:true,get:function(){return messages_1.NotificationType5}});Object.defineProperty(exports2,"NotificationType6",{enumerable:true,get:function(){return messages_1.NotificationType6}});Object.defineProperty(exports2,"NotificationType7",{enumerable:true,get:function(){return messages_1.NotificationType7}});Object.defineProperty(exports2,"NotificationType8",{enumerable:true,get:function(){return messages_1.NotificationType8}});Object.defineProperty(exports2,"NotificationType9",{enumerable:true,get:function(){return messages_1.NotificationType9}});Object.defineProperty(exports2,"ParameterStructures",{enumerable:true,get:function(){return messages_1.ParameterStructures}});var linkedMap_1=require_linkedMap();Object.defineProperty(exports2,"LinkedMap",{enumerable:true,get:function(){return linkedMap_1.LinkedMap}});Object.defineProperty(exports2,"LRUCache",{enumerable:true,get:function(){return linkedMap_1.LRUCache}});Object.defineProperty(exports2,"Touch",{enumerable:true,get:function(){return linkedMap_1.Touch}});var disposable_1=require_disposable();Object.defineProperty(exports2,"Disposable",{enumerable:true,get:function(){return disposable_1.Disposable}});var events_1=require_events();Object.defineProperty(exports2,"Event",{enumerable:true,get:function(){return events_1.Event}});Object.defineProperty(exports2,"Emitter",{enumerable:true,get:function(){return events_1.Emitter}});var cancellation_1=require_cancellation();Object.defineProperty(exports2,"CancellationTokenSource",{enumerable:true,get:function(){return cancellation_1.CancellationTokenSource}});Object.defineProperty(exports2,"CancellationToken",{enumerable:true,get:function(){return cancellation_1.CancellationToken}});var sharedArrayCancellation_1=require_sharedArrayCancellation();Object.defineProperty(exports2,"SharedArraySenderStrategy",{enumerable:true,get:function(){return sharedArrayCancellation_1.SharedArraySenderStrategy}});Object.defineProperty(exports2,"SharedArrayReceiverStrategy",{enumerable:true,get:function(){return sharedArrayCancellation_1.SharedArrayReceiverStrategy}});var messageReader_1=require_messageReader();Object.defineProperty(exports2,"MessageReader",{enumerable:true,get:function(){return messageReader_1.MessageReader}});Object.defineProperty(exports2,"AbstractMessageReader",{enumerable:true,get:function(){return messageReader_1.AbstractMessageReader}});Object.defineProperty(exports2,"ReadableStreamMessageReader",{enumerable:true,get:function(){return messageReader_1.ReadableStreamMessageReader}});var messageWriter_1=require_messageWriter();Object.defineProperty(exports2,"MessageWriter",{enumerable:true,get:function(){return messageWriter_1.MessageWriter}});Object.defineProperty(exports2,"AbstractMessageWriter",{enumerable:true,get:function(){return messageWriter_1.AbstractMessageWriter}});Object.defineProperty(exports2,"WriteableStreamMessageWriter",{enumerable:true,get:function(){return messageWriter_1.WriteableStreamMessageWriter}});var messageBuffer_1=require_messageBuffer();Object.defineProperty(exports2,"AbstractMessageBuffer",{enumerable:true,get:function(){return messageBuffer_1.AbstractMessageBuffer}});var connection_1=require_connection();Object.defineProperty(exports2,"ConnectionStrategy",{enumerable:true,get:function(){return connection_1.ConnectionStrategy}});Object.defineProperty(exports2,"ConnectionOptions",{enumerable:true,get:function(){return connection_1.ConnectionOptions}});Object.defineProperty(exports2,"NullLogger",{enumerable:true,get:function(){return connection_1.NullLogger}});Object.defineProperty(exports2,"createMessageConnection",{enumerable:true,get:function(){return connection_1.createMessageConnection}});Object.defineProperty(exports2,"ProgressToken",{enumerable:true,get:function(){return connection_1.ProgressToken}});Object.defineProperty(exports2,"ProgressType",{enumerable:true,get:function(){return connection_1.ProgressType}});Object.defineProperty(exports2,"Trace",{enumerable:true,get:function(){return connection_1.Trace}});Object.defineProperty(exports2,"TraceValues",{enumerable:true,get:function(){return connection_1.TraceValues}});Object.defineProperty(exports2,"TraceFormat",{enumerable:true,get:function(){return connection_1.TraceFormat}});Object.defineProperty(exports2,"SetTraceNotification",{enumerable:true,get:function(){return connection_1.SetTraceNotification}});Object.defineProperty(exports2,"LogTraceNotification",{enumerable:true,get:function(){return connection_1.LogTraceNotification}});Object.defineProperty(exports2,"ConnectionErrors",{enumerable:true,get:function(){return connection_1.ConnectionErrors}});Object.defineProperty(exports2,"ConnectionError",{enumerable:true,get:function(){return connection_1.ConnectionError}});Object.defineProperty(exports2,"CancellationReceiverStrategy",{enumerable:true,get:function(){return connection_1.CancellationReceiverStrategy}});Object.defineProperty(exports2,"CancellationSenderStrategy",{enumerable:true,get:function(){return connection_1.CancellationSenderStrategy}});Object.defineProperty(exports2,"CancellationStrategy",{enumerable:true,get:function(){return connection_1.CancellationStrategy}});Object.defineProperty(exports2,"MessageStrategy",{enumerable:true,get:function(){return connection_1.MessageStrategy}});var ral_1=require_ral();exports2.RAL=ral_1.default}});var require_ril=__commonJS({"server/node_modules/vscode-jsonrpc/lib/node/ril.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});var util_1=require("util");var api_1=require_api();var MessageBuffer=class _MessageBuffer extends api_1.AbstractMessageBuffer{constructor(encoding="utf-8"){super(encoding)}emptyBuffer(){return _MessageBuffer.emptyBuffer}fromString(value,encoding){return Buffer.from(value,encoding)}toString(value,encoding){if(value instanceof Buffer){return value.toString(encoding)}else{return new util_1.TextDecoder(encoding).decode(value)}}asNative(buffer,length){if(length===void 0){return buffer instanceof Buffer?buffer:Buffer.from(buffer)}else{return buffer instanceof Buffer?buffer.slice(0,length):Buffer.from(buffer,0,length)}}allocNative(length){return Buffer.allocUnsafe(length)}};MessageBuffer.emptyBuffer=Buffer.allocUnsafe(0);var ReadableStreamWrapper=class{constructor(stream){this.stream=stream}onClose(listener){this.stream.on("close",listener);return api_1.Disposable.create(()=>this.stream.off("close",listener))}onError(listener){this.stream.on("error",listener);return api_1.Disposable.create(()=>this.stream.off("error",listener))}onEnd(listener){this.stream.on("end",listener);return api_1.Disposable.create(()=>this.stream.off("end",listener))}onData(listener){this.stream.on("data",listener);return api_1.Disposable.create(()=>this.stream.off("data",listener))}};var WritableStreamWrapper=class{constructor(stream){this.stream=stream}onClose(listener){this.stream.on("close",listener);return api_1.Disposable.create(()=>this.stream.off("close",listener))}onError(listener){this.stream.on("error",listener);return api_1.Disposable.create(()=>this.stream.off("error",listener))}onEnd(listener){this.stream.on("end",listener);return api_1.Disposable.create(()=>this.stream.off("end",listener))}write(data,encoding){return new Promise((resolve,reject)=>{const callback=error=>{if(error===void 0||error===null){resolve()}else{reject(error)}};if(typeof data==="string"){this.stream.write(data,encoding,callback)}else{this.stream.write(data,callback)}})}end(){this.stream.end()}};var _ril=Object.freeze({messageBuffer:Object.freeze({create:encoding=>new MessageBuffer(encoding)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(msg,options)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(msg,void 0,0),options.charset))}catch(err){return Promise.reject(err)}}}),decoder:Object.freeze({name:"application/json",decode:(buffer,options)=>{try{if(buffer instanceof Buffer){return Promise.resolve(JSON.parse(buffer.toString(options.charset)))}else{return Promise.resolve(JSON.parse(new util_1.TextDecoder(options.charset).decode(buffer)))}}catch(err){return Promise.reject(err)}}})}),stream:Object.freeze({asReadableStream:stream=>new ReadableStreamWrapper(stream),asWritableStream:stream=>new WritableStreamWrapper(stream)}),console,timer:Object.freeze({setTimeout(callback,ms,...args){const handle=setTimeout(callback,ms,...args);return{dispose:()=>clearTimeout(handle)}},setImmediate(callback,...args){const handle=setImmediate(callback,...args);return{dispose:()=>clearImmediate(handle)}},setInterval(callback,ms,...args){const handle=setInterval(callback,ms,...args);return{dispose:()=>clearInterval(handle)}}})});function RIL(){return _ril}(function(RIL2){function install(){api_1.RAL.install(_ril)}RIL2.install=install})(RIL||(RIL={}));exports2.default=RIL}});var require_main=__commonJS({"server/node_modules/vscode-jsonrpc/lib/node/main.js"(exports2){"use strict";var __createBinding=exports2&&exports2.__createBinding||(Object.create?function(o,m,k,k2){if(k2===void 0)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable)){desc={enumerable:true,get:function(){return m[k]}}}Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){if(k2===void 0)k2=k;o[k2]=m[k]});var __exportStar=exports2&&exports2.__exportStar||function(m,exports3){for(var p in m)if(p!=="default"&&!Object.prototype.hasOwnProperty.call(exports3,p))__createBinding(exports3,m,p)};Object.defineProperty(exports2,"__esModule",{value:true});exports2.createMessageConnection=exports2.createServerSocketTransport=exports2.createClientSocketTransport=exports2.createServerPipeTransport=exports2.createClientPipeTransport=exports2.generateRandomPipeName=exports2.StreamMessageWriter=exports2.StreamMessageReader=exports2.SocketMessageWriter=exports2.SocketMessageReader=exports2.PortMessageWriter=exports2.PortMessageReader=exports2.IPCMessageWriter=exports2.IPCMessageReader=void 0;var ril_1=require_ril();ril_1.default.install();var path=require("path");var os=require("os");var crypto_1=require("crypto");var net_1=require("net");var api_1=require_api();__exportStar(require_api(),exports2);var IPCMessageReader=class extends api_1.AbstractMessageReader{constructor(process2){super();this.process=process2;let eventEmitter=this.process;eventEmitter.on("error",error=>this.fireError(error));eventEmitter.on("close",()=>this.fireClose())}listen(callback){this.process.on("message",callback);return api_1.Disposable.create(()=>this.process.off("message",callback))}};exports2.IPCMessageReader=IPCMessageReader;var IPCMessageWriter=class extends api_1.AbstractMessageWriter{constructor(process2){super();this.process=process2;this.errorCount=0;const eventEmitter=this.process;eventEmitter.on("error",error=>this.fireError(error));eventEmitter.on("close",()=>this.fireClose)}write(msg){try{if(typeof this.process.send==="function"){this.process.send(msg,void 0,void 0,error=>{if(error){this.errorCount++;this.handleError(error,msg)}else{this.errorCount=0}})}return Promise.resolve()}catch(error){this.handleError(error,msg);return Promise.reject(error)}}handleError(error,msg){this.errorCount++;this.fireError(error,msg,this.errorCount)}end(){}};exports2.IPCMessageWriter=IPCMessageWriter;var PortMessageReader=class extends api_1.AbstractMessageReader{constructor(port){super();this.onData=new api_1.Emitter;port.on("close",()=>this.fireClose);port.on("error",error=>this.fireError(error));port.on("message",message=>{this.onData.fire(message)})}listen(callback){return this.onData.event(callback)}};exports2.PortMessageReader=PortMessageReader;var PortMessageWriter=class extends api_1.AbstractMessageWriter{constructor(port){super();this.port=port;this.errorCount=0;port.on("close",()=>this.fireClose());port.on("error",error=>this.fireError(error))}write(msg){try{this.port.postMessage(msg);return Promise.resolve()}catch(error){this.handleError(error,msg);return Promise.reject(error)}}handleError(error,msg){this.errorCount++;this.fireError(error,msg,this.errorCount)}end(){}};exports2.PortMessageWriter=PortMessageWriter;var SocketMessageReader=class extends api_1.ReadableStreamMessageReader{constructor(socket,encoding="utf-8"){super((0,ril_1.default)().stream.asReadableStream(socket),encoding)}};exports2.SocketMessageReader=SocketMessageReader;var SocketMessageWriter=class extends api_1.WriteableStreamMessageWriter{constructor(socket,options){super((0,ril_1.default)().stream.asWritableStream(socket),options);this.socket=socket}dispose(){super.dispose();this.socket.destroy()}};exports2.SocketMessageWriter=SocketMessageWriter;var StreamMessageReader=class extends api_1.ReadableStreamMessageReader{constructor(readable,encoding){super((0,ril_1.default)().stream.asReadableStream(readable),encoding)}};exports2.StreamMessageReader=StreamMessageReader;var StreamMessageWriter=class extends api_1.WriteableStreamMessageWriter{constructor(writable,options){super((0,ril_1.default)().stream.asWritableStream(writable),options)}};exports2.StreamMessageWriter=StreamMessageWriter;var XDG_RUNTIME_DIR=process.env["XDG_RUNTIME_DIR"];var safeIpcPathLengths=new Map([["linux",107],["darwin",103]]);function generateRandomPipeName(){const randomSuffix=(0,crypto_1.randomBytes)(21).toString("hex");if(process.platform==="win32"){return`\\\\.\\pipe\\vscode-jsonrpc-${randomSuffix}-sock`}let result;if(XDG_RUNTIME_DIR){result=path.join(XDG_RUNTIME_DIR,`vscode-ipc-${randomSuffix}.sock`)}else{result=path.join(os.tmpdir(),`vscode-${randomSuffix}.sock`)}const limit=safeIpcPathLengths.get(process.platform);if(limit!==void 0&&result.length>limit){(0,ril_1.default)().console.warn(`WARNING: IPC handle "${result}" is longer than ${limit} characters.`)}return result}exports2.generateRandomPipeName=generateRandomPipeName;function createClientPipeTransport(pipeName,encoding="utf-8"){let connectResolve;const connected=new Promise((resolve,_reject)=>{connectResolve=resolve});return new Promise((resolve,reject)=>{let server=(0,net_1.createServer)(socket=>{server.close();connectResolve([new SocketMessageReader(socket,encoding),new SocketMessageWriter(socket,encoding)])});server.on("error",reject);server.listen(pipeName,()=>{server.removeListener("error",reject);resolve({onConnected:()=>{return connected}})})})}exports2.createClientPipeTransport=createClientPipeTransport;function createServerPipeTransport(pipeName,encoding="utf-8"){const socket=(0,net_1.createConnection)(pipeName);return[new SocketMessageReader(socket,encoding),new SocketMessageWriter(socket,encoding)]}exports2.createServerPipeTransport=createServerPipeTransport;function createClientSocketTransport(port,encoding="utf-8"){let connectResolve;const connected=new Promise((resolve,_reject)=>{connectResolve=resolve});return new Promise((resolve,reject)=>{const server=(0,net_1.createServer)(socket=>{server.close();connectResolve([new SocketMessageReader(socket,encoding),new SocketMessageWriter(socket,encoding)])});server.on("error",reject);server.listen(port,"127.0.0.1",()=>{server.removeListener("error",reject);resolve({onConnected:()=>{return connected}})})})}exports2.createClientSocketTransport=createClientSocketTransport;function createServerSocketTransport(port,encoding="utf-8"){const socket=(0,net_1.createConnection)(port,"127.0.0.1");return[new SocketMessageReader(socket,encoding),new SocketMessageWriter(socket,encoding)]}exports2.createServerSocketTransport=createServerSocketTransport;function isReadableStream(value){const candidate=value;return candidate.read!==void 0&&candidate.addListener!==void 0}function isWritableStream(value){const candidate=value;return candidate.write!==void 0&&candidate.addListener!==void 0}function createMessageConnection(input,output,logger2,options){if(!logger2){logger2=api_1.NullLogger}const reader=isReadableStream(input)?new StreamMessageReader(input):input;const writer=isWritableStream(output)?new StreamMessageWriter(output):output;if(api_1.ConnectionStrategy.is(options)){options={connectionStrategy:options}}return(0,api_1.createMessageConnection)(reader,writer,logger2,options)}exports2.createMessageConnection=createMessageConnection}});var require_node=__commonJS({"server/node_modules/vscode-jsonrpc/node.js"(exports2,module2){"use strict";module2.exports=require_main()}});var require_main2=__commonJS({"server/node_modules/vscode-languageserver-types/lib/umd/main.js"(exports2,module2){(function(factory){if(typeof module2==="object"&&typeof module2.exports==="object"){var v=factory(require,exports2);if(v!==void 0)module2.exports=v}else if(typeof define==="function"&&define.amd){define(["require","exports"],factory)}})(function(require2,exports3){"use strict";Object.defineProperty(exports3,"__esModule",{value:true});exports3.TextDocument=exports3.EOL=exports3.WorkspaceFolder=exports3.InlineCompletionContext=exports3.SelectedCompletionInfo=exports3.InlineCompletionTriggerKind=exports3.InlineCompletionList=exports3.InlineCompletionItem=exports3.StringValue=exports3.InlayHint=exports3.InlayHintLabelPart=exports3.InlayHintKind=exports3.InlineValueContext=exports3.InlineValueEvaluatableExpression=exports3.InlineValueVariableLookup=exports3.InlineValueText=exports3.SemanticTokens=exports3.SemanticTokenModifiers=exports3.SemanticTokenTypes=exports3.SelectionRange=exports3.DocumentLink=exports3.FormattingOptions=exports3.CodeLens=exports3.CodeAction=exports3.CodeActionContext=exports3.CodeActionTriggerKind=exports3.CodeActionKind=exports3.DocumentSymbol=exports3.WorkspaceSymbol=exports3.SymbolInformation=exports3.SymbolTag=exports3.SymbolKind=exports3.DocumentHighlight=exports3.DocumentHighlightKind=exports3.SignatureInformation=exports3.ParameterInformation=exports3.Hover=exports3.MarkedString=exports3.CompletionList=exports3.CompletionItem=exports3.CompletionItemLabelDetails=exports3.InsertTextMode=exports3.InsertReplaceEdit=exports3.CompletionItemTag=exports3.InsertTextFormat=exports3.CompletionItemKind=exports3.MarkupContent=exports3.MarkupKind=exports3.TextDocumentItem=exports3.OptionalVersionedTextDocumentIdentifier=exports3.VersionedTextDocumentIdentifier=exports3.TextDocumentIdentifier=exports3.WorkspaceChange=exports3.WorkspaceEdit=exports3.DeleteFile=exports3.RenameFile=exports3.CreateFile=exports3.TextDocumentEdit=exports3.AnnotatedTextEdit=exports3.ChangeAnnotationIdentifier=exports3.ChangeAnnotation=exports3.TextEdit=exports3.Command=exports3.Diagnostic=exports3.CodeDescription=exports3.DiagnosticTag=exports3.DiagnosticSeverity=exports3.DiagnosticRelatedInformation=exports3.FoldingRange=exports3.FoldingRangeKind=exports3.ColorPresentation=exports3.ColorInformation=exports3.Color=exports3.LocationLink=exports3.Location=exports3.Range=exports3.Position=exports3.uinteger=exports3.integer=exports3.URI=exports3.DocumentUri=void 0;var DocumentUri2;(function(DocumentUri3){function is(value){return typeof value==="string"}DocumentUri3.is=is})(DocumentUri2||(exports3.DocumentUri=DocumentUri2={}));var URI5;(function(URI6){function is(value){return typeof value==="string"}URI6.is=is})(URI5||(exports3.URI=URI5={}));var integer2;(function(integer3){integer3.MIN_VALUE=-2147483648;integer3.MAX_VALUE=2147483647;function is(value){return typeof value==="number"&&integer3.MIN_VALUE<=value&&value<=integer3.MAX_VALUE}integer3.is=is})(integer2||(exports3.integer=integer2={}));var uinteger2;(function(uinteger3){uinteger3.MIN_VALUE=0;uinteger3.MAX_VALUE=2147483647;function is(value){return typeof value==="number"&&uinteger3.MIN_VALUE<=value&&value<=uinteger3.MAX_VALUE}uinteger3.is=is})(uinteger2||(exports3.uinteger=uinteger2={}));var Position10;(function(Position11){function create(line,character){if(line===Number.MAX_VALUE){line=uinteger2.MAX_VALUE}if(character===Number.MAX_VALUE){character=uinteger2.MAX_VALUE}return{line,character}}Position11.create=create;function is(value){var candidate=value;return Is2.objectLiteral(candidate)&&Is2.uinteger(candidate.line)&&Is2.uinteger(candidate.character)}Position11.is=is})(Position10||(exports3.Position=Position10={}));var Range11;(function(Range12){function create(one,two,three,four){if(Is2.uinteger(one)&&Is2.uinteger(two)&&Is2.uinteger(three)&&Is2.uinteger(four)){return{start:Position10.create(one,two),end:Position10.create(three,four)}}else if(Position10.is(one)&&Position10.is(two)){return{start:one,end:two}}else{throw new Error("Range#create called with invalid arguments[".concat(one,", ").concat(two,", ").concat(three,", ").concat(four,"]"))}}Range12.create=create;function is(value){var candidate=value;return Is2.objectLiteral(candidate)&&Position10.is(candidate.start)&&Position10.is(candidate.end)}Range12.is=is})(Range11||(exports3.Range=Range11={}));var Location3;(function(Location4){function create(uri,range){return{uri,range}}Location4.create=create;function is(value){var candidate=value;return Is2.objectLiteral(candidate)&&Range11.is(candidate.range)&&(Is2.string(candidate.uri)||Is2.undefined(candidate.uri))}Location4.is=is})(Location3||(exports3.Location=Location3={}));var LocationLink2;(function(LocationLink3){function create(targetUri,targetRange,targetSelectionRange,originSelectionRange){return{targetUri,targetRange,targetSelectionRange,originSelectionRange}}LocationLink3.create=create;function is(value){var candidate=value;return Is2.objectLiteral(candidate)&&Range11.is(candidate.targetRange)&&Is2.string(candidate.targetUri)&&Range11.is(candidate.targetSelectionRange)&&(Range11.is(candidate.originSelectionRange)||Is2.undefined(candidate.originSelectionRange))}LocationLink3.is=is})(LocationLink2||(exports3.LocationLink=LocationLink2={}));var Color2;(function(Color3){function create(red,green,blue,alpha){return{red,green,blue,alpha}}Color3.create=create;function is(value){var candidate=value;return Is2.objectLiteral(candidate)&&Is2.numberRange(candidate.red,0,1)&&Is2.numberRange(candidate.green,0,1)&&Is2.numberRange(candidate.blue,0,1)&&Is2.numberRange(candidate.alpha,0,1)}Color3.is=is})(Color2||(exports3.Color=Color2={}));var ColorInformation2;(function(ColorInformation3){function create(range,color){return{range,color}}ColorInformation3.create=create;function is(value){var candidate=value;return Is2.objectLiteral(candidate)&&Range11.is(candidate.range)&&Color2.is(candidate.color)}ColorInformation3.is=is})(ColorInformation2||(exports3.ColorInformation=ColorInformation2={}));var ColorPresentation2;(function(ColorPresentation3){function create(label,textEdit,additionalTextEdits){return{label,textEdit,additionalTextEdits}}ColorPresentation3.create=create;function is(value){var candidate=value;return Is2.objectLiteral(candidate)&&Is2.string(candidate.label)&&(Is2.undefined(candidate.textEdit)||TextEdit2.is(candidate))&&(Is2.undefined(candidate.additionalTextEdits)||Is2.typedArray(candidate.additionalTextEdits,TextEdit2.is))}ColorPresentation3.is=is})(ColorPresentation2||(exports3.ColorPresentation=ColorPresentation2={}));var FoldingRangeKind2;(function(FoldingRangeKind3){FoldingRangeKind3.Comment="comment";FoldingRangeKind3.Imports="imports";FoldingRangeKind3.Region="region"})(FoldingRangeKind2||(exports3.FoldingRangeKind=FoldingRangeKind2={}));var FoldingRange2;(function(FoldingRange3){function create(startLine,endLine,startCharacter,endCharacter,kind,collapsedText){var result={startLine,endLine};if(Is2.defined(startCharacter)){result.startCharacter=startCharacter}if(Is2.defined(endCharacter)){result.endCharacter=endCharacter}if(Is2.defined(kind)){result.kind=kind}if(Is2.defined(collapsedText)){result.collapsedText=collapsedText}return result}FoldingRange3.create=create;function is(value){var candidate=value;return Is2.objectLiteral(candidate)&&Is2.uinteger(candidate.startLine)&&Is2.uinteger(candidate.startLine)&&(Is2.undefined(candidate.startCharacter)||Is2.uinteger(candidate.startCharacter))&&(Is2.undefined(candidate.endCharacter)||Is2.uinteger(candidate.endCharacter))&&(Is2.undefined(candidate.kind)||Is2.string(candidate.kind))}FoldingRange3.is=is})(FoldingRange2||(exports3.FoldingRange=FoldingRange2={}));var DiagnosticRelatedInformation2;(function(DiagnosticRelatedInformation3){function create(location,message){return{location,message}}DiagnosticRelatedInformation3.create=create;function is(value){var candidate=value;return Is2.defined(candidate)&&Location3.is(candidate.location)&&Is2.string(candidate.message)}DiagnosticRelatedInformation3.is=is})(DiagnosticRelatedInformation2||(exports3.DiagnosticRelatedInformation=DiagnosticRelatedInformation2={}));var DiagnosticSeverity3;(function(DiagnosticSeverity4){DiagnosticSeverity4.Error=1;DiagnosticSeverity4.Warning=2;DiagnosticSeverity4.Information=3;DiagnosticSeverity4.Hint=4})(DiagnosticSeverity3||(exports3.DiagnosticSeverity=DiagnosticSeverity3={}));var DiagnosticTag2;(function(DiagnosticTag3){DiagnosticTag3.Unnecessary=1;DiagnosticTag3.Deprecated=2})(DiagnosticTag2||(exports3.DiagnosticTag=DiagnosticTag2={}));var CodeDescription2;(function(CodeDescription3){function is(value){var candidate=value;return Is2.objectLiteral(candidate)&&Is2.string(candidate.href)}CodeDescription3.is=is})(CodeDescription2||(exports3.CodeDescription=CodeDescription2={}));var Diagnostic2;(function(Diagnostic3){function create(range,message,severity,code,source,relatedInformation){var result={range,message};if(Is2.defined(severity)){result.severity=severity}if(Is2.defined(code)){result.code=code}if(Is2.defined(source)){result.source=source}if(Is2.defined(relatedInformation)){result.relatedInformation=relatedInformation}return result}Diagnostic3.create=create;function is(value){var _a;var candidate=value;return Is2.defined(candidate)&&Range11.is(candidate.range)&&Is2.string(candidate.message)&&(Is2.number(candidate.severity)||Is2.undefined(candidate.severity))&&(Is2.integer(candidate.code)||Is2.string(candidate.code)||Is2.undefined(candidate.code))&&(Is2.undefined(candidate.codeDescription)||Is2.string((_a=candidate.codeDescription)===null||_a===void 0?void 0:_a.href))&&(Is2.string(candidate.source)||Is2.undefined(candidate.source))&&(Is2.undefined(candidate.relatedInformation)||Is2.typedArray(candidate.relatedInformation,DiagnosticRelatedInformation2.is))}Diagnostic3.is=is})(Diagnostic2||(exports3.Diagnostic=Diagnostic2={}));var Command2;(function(Command3){function create(title,command){var args=[];for(var _i=2;_i<arguments.length;_i++){args[_i-2]=arguments[_i]}var result={title,command};if(Is2.defined(args)&&args.length>0){result.arguments=args}return result}Command3.create=create;function is(value){var candidate=value;return Is2.defined(candidate)&&Is2.string(candidate.title)&&Is2.string(candidate.command)}Command3.is=is})(Command2||(exports3.Command=Command2={}));var TextEdit2;(function(TextEdit3){function replace(range,newText){return{range,newText}}TextEdit3.replace=replace;function insert(position,newText){return{range:{start:position,end:position},newText}}TextEdit3.insert=insert;function del(range){return{range,newText:""}}TextEdit3.del=del;function is(value){var candidate=value;return Is2.objectLiteral(candidate)&&Is2.string(candidate.newText)&&Range11.is(candidate.range)}TextEdit3.is=is})(TextEdit2||(exports3.TextEdit=TextEdit2={}));var ChangeAnnotation2;(function(ChangeAnnotation3){function create(label,needsConfirmation,description){var result={label};if(needsConfirmation!==void 0){result.needsConfirmation=needsConfirmation}if(description!==void 0){result.description=description}return result}ChangeAnnotation3.create=create;function is(value){var candidate=value;return Is2.objectLiteral(candidate)&&Is2.string(candidate.label)&&(Is2.boolean(candidate.needsConfirmation)||candidate.needsConfirmation===void 0)&&(Is2.string(candidate.description)||candidate.description===void 0)}ChangeAnnotation3.is=is})(ChangeAnnotation2||(exports3.ChangeAnnotation=ChangeAnnotation2={}));var ChangeAnnotationIdentifier2;(function(ChangeAnnotationIdentifier3){function is(value){var candidate=value;return Is2.string(candidate)}ChangeAnnotationIdentifier3.is=is})(ChangeAnnotationIdentifier2||(exports3.ChangeAnnotationIdentifier=ChangeAnnotationIdentifier2={}));var AnnotatedTextEdit2;(function(AnnotatedTextEdit3){function replace(range,newText,annotation){return{range,newText,annotationId:annotation}}AnnotatedTextEdit3.replace=replace;function insert(position,newText,annotation){return{range:{start:position,end:position},newText,annotationId:annotation}}AnnotatedTextEdit3.insert=insert;function del(range,annotation){return{range,newText:"",annotationId:annotation}}AnnotatedTextEdit3.del=del;function is(value){var candidate=value;return TextEdit2.is(candidate)&&(ChangeAnnotation2.is(candidate.annotationId)||ChangeAnnotationIdentifier2.is(candidate.annotationId))}AnnotatedTextEdit3.is=is})(AnnotatedTextEdit2||(exports3.AnnotatedTextEdit=AnnotatedTextEdit2={}));var TextDocumentEdit2;(function(TextDocumentEdit3){function create(textDocument,edits){return{textDocument,edits}}TextDocumentEdit3.create=create;function is(value){var candidate=value;return Is2.defined(candidate)&&OptionalVersionedTextDocumentIdentifier2.is(candidate.textDocument)&&Array.isArray(candidate.edits)}TextDocumentEdit3.is=is})(TextDocumentEdit2||(exports3.TextDocumentEdit=TextDocumentEdit2={}));var CreateFile2;(function(CreateFile3){function create(uri,options,annotation){var result={kind:"create",uri};if(options!==void 0&&(options.overwrite!==void 0||options.ignoreIfExists!==void 0)){result.options=options}if(annotation!==void 0){result.annotationId=annotation}return result}CreateFile3.create=create;function is(value){var candidate=value;return candidate&&candidate.kind==="create"&&Is2.string(candidate.uri)&&(candidate.options===void 0||(candidate.options.overwrite===void 0||Is2.boolean(candidate.options.overwrite))&&(candidate.options.ignoreIfExists===void 0||Is2.boolean(candidate.options.ignoreIfExists)))&&(candidate.annotationId===void 0||ChangeAnnotationIdentifier2.is(candidate.annotationId))}CreateFile3.is=is})(CreateFile2||(exports3.CreateFile=CreateFile2={}));var RenameFile2;(function(RenameFile3){function create(oldUri,newUri,options,annotation){var result={kind:"rename",oldUri,newUri};if(options!==void 0&&(options.overwrite!==void 0||options.ignoreIfExists!==void 0)){result.options=options}if(annotation!==void 0){result.annotationId=annotation}return result}RenameFile3.create=create;function is(value){var candidate=value;return candidate&&candidate.kind==="rename"&&Is2.string(candidate.oldUri)&&Is2.string(candidate.newUri)&&(candidate.options===void 0||(candidate.options.overwrite===void 0||Is2.boolean(candidate.options.overwrite))&&(candidate.options.ignoreIfExists===void 0||Is2.boolean(candidate.options.ignoreIfExists)))&&(candidate.annotationId===void 0||ChangeAnnotationIdentifier2.is(candidate.annotationId))}RenameFile3.is=is})(RenameFile2||(exports3.RenameFile=RenameFile2={}));var DeleteFile2;(function(DeleteFile3){function create(uri,options,annotation){var result={kind:"delete",uri};if(options!==void 0&&(options.recursive!==void 0||options.ignoreIfNotExists!==void 0)){result.options=options}if(annotation!==void 0){result.annotationId=annotation}return result}DeleteFile3.create=create;function is(value){var candidate=value;return candidate&&candidate.kind==="delete"&&Is2.string(candidate.uri)&&(candidate.options===void 0||(candidate.options.recursive===void 0||Is2.boolean(candidate.options.recursive))&&(candidate.options.ignoreIfNotExists===void 0||Is2.boolean(candidate.options.ignoreIfNotExists)))&&(candidate.annotationId===void 0||ChangeAnnotationIdentifier2.is(candidate.annotationId))}DeleteFile3.is=is})(DeleteFile2||(exports3.DeleteFile=DeleteFile2={}));var WorkspaceEdit2;(function(WorkspaceEdit3){function is(value){var candidate=value;return candidate&&(candidate.changes!==void 0||candidate.documentChanges!==void 0)&&(candidate.documentChanges===void 0||candidate.documentChanges.every(function(change){if(Is2.string(change.kind)){return CreateFile2.is(change)||RenameFile2.is(change)||DeleteFile2.is(change)}else{return TextDocumentEdit2.is(change)}}))}WorkspaceEdit3.is=is})(WorkspaceEdit2||(exports3.WorkspaceEdit=WorkspaceEdit2={}));var TextEditChangeImpl=function(){function TextEditChangeImpl2(edits,changeAnnotations){this.edits=edits;this.changeAnnotations=changeAnnotations}TextEditChangeImpl2.prototype.insert=function(position,newText,annotation){var edit;var id;if(annotation===void 0){edit=TextEdit2.insert(position,newText)}else if(ChangeAnnotationIdentifier2.is(annotation)){id=annotation;edit=AnnotatedTextEdit2.insert(position,newText,annotation)}else{this.assertChangeAnnotations(this.changeAnnotations);id=this.changeAnnotations.manage(annotation);edit=AnnotatedTextEdit2.insert(position,newText,id)}this.edits.push(edit);if(id!==void 0){return id}};TextEditChangeImpl2.prototype.replace=function(range,newText,annotation){var edit;var id;if(annotation===void 0){edit=TextEdit2.replace(range,newText)}else if(ChangeAnnotationIdentifier2.is(annotation)){id=annotation;edit=AnnotatedTextEdit2.replace(range,newText,annotation)}else{this.assertChangeAnnotations(this.changeAnnotations);id=this.changeAnnotations.manage(annotation);edit=AnnotatedTextEdit2.replace(range,newText,id)}this.edits.push(edit);if(id!==void 0){return id}};TextEditChangeImpl2.prototype.delete=function(range,annotation){var edit;var id;if(annotation===void 0){edit=TextEdit2.del(range)}else if(ChangeAnnotationIdentifier2.is(annotation)){id=annotation;edit=AnnotatedTextEdit2.del(range,annotation)}else{this.assertChangeAnnotations(this.changeAnnotations);id=this.changeAnnotations.manage(annotation);edit=AnnotatedTextEdit2.del(range,id)}this.edits.push(edit);if(id!==void 0){return id}};TextEditChangeImpl2.prototype.add=function(edit){this.edits.push(edit)};TextEditChangeImpl2.prototype.all=function(){return this.edits};TextEditChangeImpl2.prototype.clear=function(){this.edits.splice(0,this.edits.length)};TextEditChangeImpl2.prototype.assertChangeAnnotations=function(value){if(value===void 0){throw new Error("Text edit change is not configured to manage change annotations.")}};return TextEditChangeImpl2}();var ChangeAnnotations=function(){function ChangeAnnotations2(annotations){this._annotations=annotations===void 0?Object.create(null):annotations;this._counter=0;this._size=0}ChangeAnnotations2.prototype.all=function(){return this._annotations};Object.defineProperty(ChangeAnnotations2.prototype,"size",{get:function(){return this._size},enumerable:false,configurable:true});ChangeAnnotations2.prototype.manage=function(idOrAnnotation,annotation){var id;if(ChangeAnnotationIdentifier2.is(idOrAnnotation)){id=idOrAnnotation}else{id=this.nextId();annotation=idOrAnnotation}if(this._annotations[id]!==void 0){throw new Error("Id ".concat(id," is already in use."))}if(annotation===void 0){throw new Error("No annotation provided for id ".concat(id))}this._annotations[id]=annotation;this._size++;return id};ChangeAnnotations2.prototype.nextId=function(){this._counter++;return this._counter.toString()};return ChangeAnnotations2}();var WorkspaceChange=function(){function WorkspaceChange2(workspaceEdit){var _this=this;this._textEditChanges=Object.create(null);if(workspaceEdit!==void 0){this._workspaceEdit=workspaceEdit;if(workspaceEdit.documentChanges){this._changeAnnotations=new ChangeAnnotations(workspaceEdit.changeAnnotations);workspaceEdit.changeAnnotations=this._changeAnnotations.all();workspaceEdit.documentChanges.forEach(function(change){if(TextDocumentEdit2.is(change)){var textEditChange=new TextEditChangeImpl(change.edits,_this._changeAnnotations);_this._textEditChanges[change.textDocument.uri]=textEditChange}})}else if(workspaceEdit.changes){Object.keys(workspaceEdit.changes).forEach(function(key){var textEditChange=new TextEditChangeImpl(workspaceEdit.changes[key]);_this._textEditChanges[key]=textEditChange})}}else{this._workspaceEdit={}}}Object.defineProperty(WorkspaceChange2.prototype,"edit",{get:function(){this.initDocumentChanges();if(this._changeAnnotations!==void 0){if(this._changeAnnotations.size===0){this._workspaceEdit.changeAnnotations=void 0}else{this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()}}return this._workspaceEdit},enumerable:false,configurable:true});WorkspaceChange2.prototype.getTextEditChange=function(key){if(OptionalVersionedTextDocumentIdentifier2.is(key)){this.initDocumentChanges();if(this._workspaceEdit.documentChanges===void 0){throw new Error("Workspace edit is not configured for document changes.")}var textDocument={uri:key.uri,version:key.version};var result=this._textEditChanges[textDocument.uri];if(!result){var edits=[];var textDocumentEdit={textDocument,edits};this._workspaceEdit.documentChanges.push(textDocumentEdit);result=new TextEditChangeImpl(edits,this._changeAnnotations);this._textEditChanges[textDocument.uri]=result}return result}else{this.initChanges();if(this._workspaceEdit.changes===void 0){throw new Error("Workspace edit is not configured for normal text edit changes.")}var result=this._textEditChanges[key];if(!result){var edits=[];this._workspaceEdit.changes[key]=edits;result=new TextEditChangeImpl(edits);this._textEditChanges[key]=result}return result}};WorkspaceChange2.prototype.initDocumentChanges=function(){if(this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0){this._changeAnnotations=new ChangeAnnotations;this._workspaceEdit.documentChanges=[];this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()}};WorkspaceChange2.prototype.initChanges=function(){if(this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0){this._workspaceEdit.changes=Object.create(null)}};WorkspaceChange2.prototype.createFile=function(uri,optionsOrAnnotation,options){this.initDocumentChanges();if(this._workspaceEdit.documentChanges===void 0){throw new Error("Workspace edit is not configured for document changes.")}var annotation;if(ChangeAnnotation2.is(optionsOrAnnotation)||ChangeAnnotationIdentifier2.is(optionsOrAnnotation)){annotation=optionsOrAnnotation}else{options=optionsOrAnnotation}var operation;var id;if(annotation===void 0){operation=CreateFile2.create(uri,options)}else{id=ChangeAnnotationIdentifier2.is(annotation)?annotation:this._changeAnnotations.manage(annotation);operation=CreateFile2.create(uri,options,id)}this._workspaceEdit.documentChanges.push(operation);if(id!==void 0){return id}};WorkspaceChange2.prototype.renameFile=function(oldUri,newUri,optionsOrAnnotation,options){this.initDocumentChanges();if(this._workspaceEdit.documentChanges===void 0){throw new Error("Workspace edit is not configured for document changes.")}var annotation;if(ChangeAnnotation2.is(optionsOrAnnotation)||ChangeAnnotationIdentifier2.is(optionsOrAnnotation)){annotation=optionsOrAnnotation}else{options=optionsOrAnnotation}var operation;var id;if(annotation===void 0){operation=RenameFile2.create(oldUri,newUri,options)}else{id=ChangeAnnotationIdentifier2.is(annotation)?annotation:this._changeAnnotations.manage(annotation);operation=RenameFile2.create(oldUri,newUri,options,id)}this._workspaceEdit.documentChanges.push(operation);if(id!==void 0){return id}};WorkspaceChange2.prototype.deleteFile=function(uri,optionsOrAnnotation,options){this.initDocumentChanges();if(this._workspaceEdit.documentChanges===void 0){throw new Error("Workspace edit is not configured for document changes.")}var annotation;if(ChangeAnnotation2.is(optionsOrAnnotation)||ChangeAnnotationIdentifier2.is(optionsOrAnnotation)){annotation=optionsOrAnnotation}else{options=optionsOrAnnotation}var operation;var id;if(annotation===void 0){operation=DeleteFile2.create(uri,options)}else{id=ChangeAnnotationIdentifier2.is(annotation)?annotation:this._changeAnnotations.manage(annotation);operation=DeleteFile2.create(uri,options,id)}this._workspaceEdit.documentChanges.push(operation);if(id!==void 0){return id}};return WorkspaceChange2}();exports3.WorkspaceChange=WorkspaceChange;var TextDocumentIdentifier2;(function(TextDocumentIdentifier3){function create(uri){return{uri}}TextDocumentIdentifier3.create=create;function is(value){var candidate=value;return Is2.defined(candidate)&&Is2.string(candidate.uri)}TextDocumentIdentifier3.is=is})(TextDocumentIdentifier2||(exports3.TextDocumentIdentifier=TextDocumentIdentifier2={}));var VersionedTextDocumentIdentifier2;(function(VersionedTextDocumentIdentifier3){function create(uri,version){return{uri,version}}VersionedTextDocumentIdentifier3.create=create;function is(value){var candidate=value;return Is2.defined(candidate)&&Is2.string(candidate.uri)&&Is2.integer(candidate.version)}VersionedTextDocumentIdentifier3.is=is})(VersionedTextDocumentIdentifier2||(exports3.VersionedTextDocumentIdentifier=VersionedTextDocumentIdentifier2={}));var OptionalVersionedTextDocumentIdentifier2;(function(OptionalVersionedTextDocumentIdentifier3){function create(uri,version){return{uri,version}}OptionalVersionedTextDocumentIdentifier3.create=create;function is(value){var candidate=value;return Is2.defined(candidate)&&Is2.string(candidate.uri)&&(candidate.version===null||Is2.integer(candidate.version))}OptionalVersionedTextDocumentIdentifier3.is=is})(OptionalVersionedTextDocumentIdentifier2||(exports3.OptionalVersionedTextDocumentIdentifier=OptionalVersionedTextDocumentIdentifier2={}));var TextDocumentItem2;(function(TextDocumentItem3){function create(uri,languageId,version,text){return{uri,languageId,version,text}}TextDocumentItem3.create=create;function is(value){var candidate=value;return Is2.defined(candidate)&&Is2.string(candidate.uri)&&Is2.string(candidate.languageId)&&Is2.integer(candidate.version)&&Is2.string(candidate.text)}TextDocumentItem3.is=is})(TextDocumentItem2||(exports3.TextDocumentItem=TextDocumentItem2={}));var MarkupKind3;(function(MarkupKind4){MarkupKind4.PlainText="plaintext";MarkupKind4.Markdown="markdown";function is(value){var candidate=value;return candidate===MarkupKind4.PlainText||candidate===MarkupKind4.Markdown}MarkupKind4.is=is})(MarkupKind3||(exports3.MarkupKind=MarkupKind3={}));var MarkupContent3;(function(MarkupContent4){function is(value){var candidate=value;return Is2.objectLiteral(value)&&MarkupKind3.is(candidate.kind)&&Is2.string(candidate.value)}MarkupContent4.is=is})(MarkupContent3||(exports3.MarkupContent=MarkupContent3={}));var CompletionItemKind4;(function(CompletionItemKind5){CompletionItemKind5.Text=1;CompletionItemKind5.Method=2;CompletionItemKind5.Function=3;CompletionItemKind5.Constructor=4;CompletionItemKind5.Field=5;CompletionItemKind5.Variable=6;CompletionItemKind5.Class=7;CompletionItemKind5.Interface=8;CompletionItemKind5.Module=9;CompletionItemKind5.Property=10;CompletionItemKind5.Unit=11;CompletionItemKind5.Value=12;CompletionItemKind5.Enum=13;CompletionItemKind5.Keyword=14;CompletionItemKind5.Snippet=15;CompletionItemKind5.Color=16;CompletionItemKind5.File=17;CompletionItemKind5.Reference=18;CompletionItemKind5.Folder=19;CompletionItemKind5.EnumMember=20;CompletionItemKind5.Constant=21;CompletionItemKind5.Struct=22;CompletionItemKind5.Event=23;CompletionItemKind5.Operator=24;CompletionItemKind5.TypeParameter=25})(CompletionItemKind4||(exports3.CompletionItemKind=CompletionItemKind4={}));var InsertTextFormat2;(function(InsertTextFormat3){InsertTextFormat3.PlainText=1;InsertTextFormat3.Snippet=2})(InsertTextFormat2||(exports3.InsertTextFormat=InsertTextFormat2={}));var CompletionItemTag2;(function(CompletionItemTag3){CompletionItemTag3.Deprecated=1})(CompletionItemTag2||(exports3.CompletionItemTag=CompletionItemTag2={}));var InsertReplaceEdit2;(function(InsertReplaceEdit3){function create(newText,insert,replace){return{newText,insert,replace}}InsertReplaceEdit3.create=create;function is(value){var candidate=value;return candidate&&Is2.string(candidate.newText)&&Range11.is(candidate.insert)&&Range11.is(candidate.replace)}InsertReplaceEdit3.is=is})(InsertReplaceEdit2||(exports3.InsertReplaceEdit=InsertReplaceEdit2={}));var InsertTextMode2;(function(InsertTextMode3){InsertTextMode3.asIs=1;InsertTextMode3.adjustIndentation=2})(InsertTextMode2||(exports3.InsertTextMode=InsertTextMode2={}));var CompletionItemLabelDetails2;(function(CompletionItemLabelDetails3){function is(value){var candidate=value;return candidate&&(Is2.string(candidate.detail)||candidate.detail===void 0)&&(Is2.string(candidate.description)||candidate.description===void 0)}CompletionItemLabelDetails3.is=is})(CompletionItemLabelDetails2||(exports3.CompletionItemLabelDetails=CompletionItemLabelDetails2={}));var CompletionItem4;(function(CompletionItem5){function create(label){return{label}}CompletionItem5.create=create})(CompletionItem4||(exports3.CompletionItem=CompletionItem4={}));var CompletionList2;(function(CompletionList3){function create(items,isIncomplete){return{items:items?items:[],isIncomplete:!!isIncomplete}}CompletionList3.create=create})(CompletionList2||(exports3.CompletionList=CompletionList2={}));var MarkedString2;(function(MarkedString3){function fromPlainText(plainText){return plainText.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}MarkedString3.fromPlainText=fromPlainText;function is(value){var candidate=value;return Is2.string(candidate)||Is2.objectLiteral(candidate)&&Is2.string(candidate.language)&&Is2.string(candidate.value)}MarkedString3.is=is})(MarkedString2||(exports3.MarkedString=MarkedString2={}));var Hover3;(function(Hover4){function is(value){var candidate=value;return!!candidate&&Is2.objectLiteral(candidate)&&(MarkupContent3.is(candidate.contents)||MarkedString2.is(candidate.contents)||Is2.typedArray(candidate.contents,MarkedString2.is))&&(value.range===void 0||Range11.is(value.range))}Hover4.is=is})(Hover3||(exports3.Hover=Hover3={}));var ParameterInformation3;(function(ParameterInformation4){function create(label,documentation){return documentation?{label,documentation}:{label}}ParameterInformation4.create=create})(ParameterInformation3||(exports3.ParameterInformation=ParameterInformation3={}));var SignatureInformation3;(function(SignatureInformation4){function create(label,documentation){var parameters=[];for(var _i=2;_i<arguments.length;_i++){parameters[_i-2]=arguments[_i]}var result={label};if(Is2.defined(documentation)){result.documentation=documentation}if(Is2.defined(parameters)){result.parameters=parameters}else{result.parameters=[]}return result}SignatureInformation4.create=create})(SignatureInformation3||(exports3.SignatureInformation=SignatureInformation3={}));var DocumentHighlightKind2;(function(DocumentHighlightKind3){DocumentHighlightKind3.Text=1;DocumentHighlightKind3.Read=2;DocumentHighlightKind3.Write=3})(DocumentHighlightKind2||(exports3.DocumentHighlightKind=DocumentHighlightKind2={}));var DocumentHighlight2;(function(DocumentHighlight3){function create(range,kind){var result={range};if(Is2.number(kind)){result.kind=kind}return result}DocumentHighlight3.create=create})(DocumentHighlight2||(exports3.DocumentHighlight=DocumentHighlight2={}));var SymbolKind4;(function(SymbolKind5){SymbolKind5.File=1;SymbolKind5.Module=2;SymbolKind5.Namespace=3;SymbolKind5.Package=4;SymbolKind5.Class=5;SymbolKind5.Method=6;SymbolKind5.Property=7;SymbolKind5.Field=8;SymbolKind5.Constructor=9;SymbolKind5.Enum=10;SymbolKind5.Interface=11;SymbolKind5.Function=12;SymbolKind5.Variable=13;SymbolKind5.Constant=14;SymbolKind5.String=15;SymbolKind5.Number=16;SymbolKind5.Boolean=17;SymbolKind5.Array=18;SymbolKind5.Object=19;SymbolKind5.Key=20;SymbolKind5.Null=21;SymbolKind5.EnumMember=22;SymbolKind5.Struct=23;SymbolKind5.Event=24;SymbolKind5.Operator=25;SymbolKind5.TypeParameter=26})(SymbolKind4||(exports3.SymbolKind=SymbolKind4={}));var SymbolTag2;(function(SymbolTag3){SymbolTag3.Deprecated=1})(SymbolTag2||(exports3.SymbolTag=SymbolTag2={}));var SymbolInformation4;(function(SymbolInformation5){function create(name,kind,range,uri,containerName){var result={name,kind,location:{uri,range}};if(containerName){result.containerName=containerName}return result}SymbolInformation5.create=create})(SymbolInformation4||(exports3.SymbolInformation=SymbolInformation4={}));var WorkspaceSymbol2;(function(WorkspaceSymbol3){function create(name,kind,uri,range){return range!==void 0?{name,kind,location:{uri,range}}:{name,kind,location:{uri}}}WorkspaceSymbol3.create=create})(WorkspaceSymbol2||(exports3.WorkspaceSymbol=WorkspaceSymbol2={}));var DocumentSymbol2;(function(DocumentSymbol3){function create(name,detail,kind,range,selectionRange,children){var result={name,detail,kind,range,selectionRange};if(children!==void 0){result.children=children}return result}DocumentSymbol3.create=create;function is(value){var candidate=value;return candidate&&Is2.string(candidate.name)&&Is2.number(candidate.kind)&&Range11.is(candidate.range)&&Range11.is(candidate.selectionRange)&&(candidate.detail===void 0||Is2.string(candidate.detail))&&(candidate.deprecated===void 0||Is2.boolean(candidate.deprecated))&&(candidate.children===void 0||Array.isArray(candidate.children))&&(candidate.tags===void 0||Array.isArray(candidate.tags))}DocumentSymbol3.is=is})(DocumentSymbol2||(exports3.DocumentSymbol=DocumentSymbol2={}));var CodeActionKind2;(function(CodeActionKind3){CodeActionKind3.Empty="";CodeActionKind3.QuickFix="quickfix";CodeActionKind3.Refactor="refactor";CodeActionKind3.RefactorExtract="refactor.extract";CodeActionKind3.RefactorInline="refactor.inline";CodeActionKind3.RefactorRewrite="refactor.rewrite";CodeActionKind3.Source="source";CodeActionKind3.SourceOrganizeImports="source.organizeImports";CodeActionKind3.SourceFixAll="source.fixAll"})(CodeActionKind2||(exports3.CodeActionKind=CodeActionKind2={}));var CodeActionTriggerKind2;(function(CodeActionTriggerKind3){CodeActionTriggerKind3.Invoked=1;CodeActionTriggerKind3.Automatic=2})(CodeActionTriggerKind2||(exports3.CodeActionTriggerKind=CodeActionTriggerKind2={}));var CodeActionContext2;(function(CodeActionContext3){function create(diagnostics,only,triggerKind){var result={diagnostics};if(only!==void 0&&only!==null){result.only=only}if(triggerKind!==void 0&&triggerKind!==null){result.triggerKind=triggerKind}return result}CodeActionContext3.create=create;function is(value){var candidate=value;return Is2.defined(candidate)&&Is2.typedArray(candidate.diagnostics,Diagnostic2.is)&&(candidate.only===void 0||Is2.typedArray(candidate.only,Is2.string))&&(candidate.triggerKind===void 0||candidate.triggerKind===CodeActionTriggerKind2.Invoked||candidate.triggerKind===CodeActionTriggerKind2.Automatic)}CodeActionContext3.is=is})(CodeActionContext2||(exports3.CodeActionContext=CodeActionContext2={}));var CodeAction2;(function(CodeAction3){function create(title,kindOrCommandOrEdit,kind){var result={title};var checkKind=true;if(typeof kindOrCommandOrEdit==="string"){checkKind=false;result.kind=kindOrCommandOrEdit}else if(Command2.is(kindOrCommandOrEdit)){result.command=kindOrCommandOrEdit}else{result.edit=kindOrCommandOrEdit}if(checkKind&&kind!==void 0){result.kind=kind}return result}CodeAction3.create=create;function is(value){var candidate=value;return candidate&&Is2.string(candidate.title)&&(candidate.diagnostics===void 0||Is2.typedArray(candidate.diagnostics,Diagnostic2.is))&&(candidate.kind===void 0||Is2.string(candidate.kind))&&(candidate.edit!==void 0||candidate.command!==void 0)&&(candidate.command===void 0||Command2.is(candidate.command))&&(candidate.isPreferred===void 0||Is2.boolean(candidate.isPreferred))&&(candidate.edit===void 0||WorkspaceEdit2.is(candidate.edit))}CodeAction3.is=is})(CodeAction2||(exports3.CodeAction=CodeAction2={}));var CodeLens2;(function(CodeLens3){function create(range,data){var result={range};if(Is2.defined(data)){result.data=data}return result}CodeLens3.create=create;function is(value){var candidate=value;return Is2.defined(candidate)&&Range11.is(candidate.range)&&(Is2.undefined(candidate.command)||Command2.is(candidate.command))}CodeLens3.is=is})(CodeLens2||(exports3.CodeLens=CodeLens2={}));var FormattingOptions2;(function(FormattingOptions3){function create(tabSize,insertSpaces){return{tabSize,insertSpaces}}FormattingOptions3.create=create;function is(value){var candidate=value;return Is2.defined(candidate)&&Is2.uinteger(candidate.tabSize)&&Is2.boolean(candidate.insertSpaces)}FormattingOptions3.is=is})(FormattingOptions2||(exports3.FormattingOptions=FormattingOptions2={}));var DocumentLink2;(function(DocumentLink3){function create(range,target,data){return{range,target,data}}DocumentLink3.create=create;function is(value){var candidate=value;return Is2.defined(candidate)&&Range11.is(candidate.range)&&(Is2.undefined(candidate.target)||Is2.string(candidate.target))}DocumentLink3.is=is})(DocumentLink2||(exports3.DocumentLink=DocumentLink2={}));var SelectionRange2;(function(SelectionRange3){function create(range,parent){return{range,parent}}SelectionRange3.create=create;function is(value){var candidate=value;return Is2.objectLiteral(candidate)&&Range11.is(candidate.range)&&(candidate.parent===void 0||SelectionRange3.is(candidate.parent))}SelectionRange3.is=is})(SelectionRange2||(exports3.SelectionRange=SelectionRange2={}));var SemanticTokenTypes3;(function(SemanticTokenTypes4){SemanticTokenTypes4["namespace"]="namespace";SemanticTokenTypes4["type"]="type";SemanticTokenTypes4["class"]="class";SemanticTokenTypes4["enum"]="enum";SemanticTokenTypes4["interface"]="interface";SemanticTokenTypes4["struct"]="struct";SemanticTokenTypes4["typeParameter"]="typeParameter";SemanticTokenTypes4["parameter"]="parameter";SemanticTokenTypes4["variable"]="variable";SemanticTokenTypes4["property"]="property";SemanticTokenTypes4["enumMember"]="enumMember";SemanticTokenTypes4["event"]="event";SemanticTokenTypes4["function"]="function";SemanticTokenTypes4["method"]="method";SemanticTokenTypes4["macro"]="macro";SemanticTokenTypes4["keyword"]="keyword";SemanticTokenTypes4["modifier"]="modifier";SemanticTokenTypes4["comment"]="comment";SemanticTokenTypes4["string"]="string";SemanticTokenTypes4["number"]="number";SemanticTokenTypes4["regexp"]="regexp";SemanticTokenTypes4["operator"]="operator";SemanticTokenTypes4["decorator"]="decorator"})(SemanticTokenTypes3||(exports3.SemanticTokenTypes=SemanticTokenTypes3={}));var SemanticTokenModifiers2;(function(SemanticTokenModifiers3){SemanticTokenModifiers3["declaration"]="declaration";SemanticTokenModifiers3["definition"]="definition";SemanticTokenModifiers3["readonly"]="readonly";SemanticTokenModifiers3["static"]="static";SemanticTokenModifiers3["deprecated"]="deprecated";SemanticTokenModifiers3["abstract"]="abstract";SemanticTokenModifiers3["async"]="async";SemanticTokenModifiers3["modification"]="modification";SemanticTokenModifiers3["documentation"]="documentation";SemanticTokenModifiers3["defaultLibrary"]="defaultLibrary"})(SemanticTokenModifiers2||(exports3.SemanticTokenModifiers=SemanticTokenModifiers2={}));var SemanticTokens2;(function(SemanticTokens3){function is(value){var candidate=value;return Is2.objectLiteral(candidate)&&(candidate.resultId===void 0||typeof candidate.resultId==="string")&&Array.isArray(candidate.data)&&(candidate.data.length===0||typeof candidate.data[0]==="number")}SemanticTokens3.is=is})(SemanticTokens2||(exports3.SemanticTokens=SemanticTokens2={}));var InlineValueText2;(function(InlineValueText3){function create(range,text){return{range,text}}InlineValueText3.create=create;function is(value){var candidate=value;return candidate!==void 0&&candidate!==null&&Range11.is(candidate.range)&&Is2.string(candidate.text)}InlineValueText3.is=is})(InlineValueText2||(exports3.InlineValueText=InlineValueText2={}));var InlineValueVariableLookup2;(function(InlineValueVariableLookup3){function create(range,variableName,caseSensitiveLookup){return{range,variableName,caseSensitiveLookup}}InlineValueVariableLookup3.create=create;function is(value){var candidate=value;return candidate!==void 0&&candidate!==null&&Range11.is(candidate.range)&&Is2.boolean(candidate.caseSensitiveLookup)&&(Is2.string(candidate.variableName)||candidate.variableName===void 0)}InlineValueVariableLookup3.is=is})(InlineValueVariableLookup2||(exports3.InlineValueVariableLookup=InlineValueVariableLookup2={}));var InlineValueEvaluatableExpression2;(function(InlineValueEvaluatableExpression3){function create(range,expression){return{range,expression}}InlineValueEvaluatableExpression3.create=create;function is(value){var candidate=value;return candidate!==void 0&&candidate!==null&&Range11.is(candidate.range)&&(Is2.string(candidate.expression)||candidate.expression===void 0)}InlineValueEvaluatableExpression3.is=is})(InlineValueEvaluatableExpression2||(exports3.InlineValueEvaluatableExpression=InlineValueEvaluatableExpression2={}));var InlineValueContext2;(function(InlineValueContext3){function create(frameId,stoppedLocation){return{frameId,stoppedLocation}}InlineValueContext3.create=create;function is(value){var candidate=value;return Is2.defined(candidate)&&Range11.is(value.stoppedLocation)}InlineValueContext3.is=is})(InlineValueContext2||(exports3.InlineValueContext=InlineValueContext2={}));var InlayHintKind3;(function(InlayHintKind4){InlayHintKind4.Type=1;InlayHintKind4.Parameter=2;function is(value){return value===1||value===2}InlayHintKind4.is=is})(InlayHintKind3||(exports3.InlayHintKind=InlayHintKind3={}));var InlayHintLabelPart2;(function(InlayHintLabelPart3){function create(value){return{value}}InlayHintLabelPart3.create=create;function is(value){var candidate=value;return Is2.objectLiteral(candidate)&&(candidate.tooltip===void 0||Is2.string(candidate.tooltip)||MarkupContent3.is(candidate.tooltip))&&(candidate.location===void 0||Location3.is(candidate.location))&&(candidate.command===void 0||Command2.is(candidate.command))}InlayHintLabelPart3.is=is})(InlayHintLabelPart2||(exports3.InlayHintLabelPart=InlayHintLabelPart2={}));var InlayHint4;(function(InlayHint5){function create(position,label,kind){var result={position,label};if(kind!==void 0){result.kind=kind}return result}InlayHint5.create=create;function is(value){var candidate=value;return Is2.objectLiteral(candidate)&&Position10.is(candidate.position)&&(Is2.string(candidate.label)||Is2.typedArray(candidate.label,InlayHintLabelPart2.is))&&(candidate.kind===void 0||InlayHintKind3.is(candidate.kind))&&candidate.textEdits===void 0||Is2.typedArray(candidate.textEdits,TextEdit2.is)&&(candidate.tooltip===void 0||Is2.string(candidate.tooltip)||MarkupContent3.is(candidate.tooltip))&&(candidate.paddingLeft===void 0||Is2.boolean(candidate.paddingLeft))&&(candidate.paddingRight===void 0||Is2.boolean(candidate.paddingRight))}InlayHint5.is=is})(InlayHint4||(exports3.InlayHint=InlayHint4={}));var StringValue2;(function(StringValue3){function createSnippet(value){return{kind:"snippet",value}}StringValue3.createSnippet=createSnippet})(StringValue2||(exports3.StringValue=StringValue2={}));var InlineCompletionItem2;(function(InlineCompletionItem3){function create(insertText,filterText,range,command){return{insertText,filterText,range,command}}InlineCompletionItem3.create=create})(InlineCompletionItem2||(exports3.InlineCompletionItem=InlineCompletionItem2={}));var InlineCompletionList2;(function(InlineCompletionList3){function create(items){return{items}}InlineCompletionList3.create=create})(InlineCompletionList2||(exports3.InlineCompletionList=InlineCompletionList2={}));var InlineCompletionTriggerKind2;(function(InlineCompletionTriggerKind3){InlineCompletionTriggerKind3.Invoked=0;InlineCompletionTriggerKind3.Automatic=1})(InlineCompletionTriggerKind2||(exports3.InlineCompletionTriggerKind=InlineCompletionTriggerKind2={}));var SelectedCompletionInfo2;(function(SelectedCompletionInfo3){function create(range,text){return{range,text}}SelectedCompletionInfo3.create=create})(SelectedCompletionInfo2||(exports3.SelectedCompletionInfo=SelectedCompletionInfo2={}));var InlineCompletionContext2;(function(InlineCompletionContext3){function create(triggerKind,selectedCompletionInfo){return{triggerKind,selectedCompletionInfo}}InlineCompletionContext3.create=create})(InlineCompletionContext2||(exports3.InlineCompletionContext=InlineCompletionContext2={}));var WorkspaceFolder2;(function(WorkspaceFolder3){function is(value){var candidate=value;return Is2.objectLiteral(candidate)&&URI5.is(candidate.uri)&&Is2.string(candidate.name)}WorkspaceFolder3.is=is})(WorkspaceFolder2||(exports3.WorkspaceFolder=WorkspaceFolder2={}));exports3.EOL=["\n","\r\n","\r"];var TextDocument2;(function(TextDocument3){function create(uri,languageId,version,content){return new FullTextDocument2(uri,languageId,version,content)}TextDocument3.create=create;function is(value){var candidate=value;return Is2.defined(candidate)&&Is2.string(candidate.uri)&&(Is2.undefined(candidate.languageId)||Is2.string(candidate.languageId))&&Is2.uinteger(candidate.lineCount)&&Is2.func(candidate.getText)&&Is2.func(candidate.positionAt)&&Is2.func(candidate.offsetAt)?true:false}TextDocument3.is=is;function applyEdits(document,edits){var text=document.getText();var sortedEdits=mergeSort(edits,function(a,b){var diff=a.range.start.line-b.range.start.line;if(diff===0){return a.range.start.character-b.range.start.character}return diff});var lastModifiedOffset=text.length;for(var i=sortedEdits.length-1;i>=0;i--){var e=sortedEdits[i];var startOffset=document.offsetAt(e.range.start);var endOffset=document.offsetAt(e.range.end);if(endOffset<=lastModifiedOffset){text=text.substring(0,startOffset)+e.newText+text.substring(endOffset,text.length)}else{throw new Error("Overlapping edit")}lastModifiedOffset=startOffset}return text}TextDocument3.applyEdits=applyEdits;function mergeSort(data,compare){if(data.length<=1){return data}var p=data.length/2|0;var left=data.slice(0,p);var right=data.slice(p);mergeSort(left,compare);mergeSort(right,compare);var leftIdx=0;var rightIdx=0;var i=0;while(leftIdx<left.length&&rightIdx<right.length){var ret=compare(left[leftIdx],right[rightIdx]);if(ret<=0){data[i++]=left[leftIdx++]}else{data[i++]=right[rightIdx++]}}while(leftIdx<left.length){data[i++]=left[leftIdx++]}while(rightIdx<right.length){data[i++]=right[rightIdx++]}return data}})(TextDocument2||(exports3.TextDocument=TextDocument2={}));var FullTextDocument2=function(){function FullTextDocument3(uri,languageId,version,content){this._uri=uri;this._languageId=languageId;this._version=version;this._content=content;this._lineOffsets=void 0}Object.defineProperty(FullTextDocument3.prototype,"uri",{get:function(){return this._uri},enumerable:false,configurable:true});Object.defineProperty(FullTextDocument3.prototype,"languageId",{get:function(){return this._languageId},enumerable:false,configurable:true});Object.defineProperty(FullTextDocument3.prototype,"version",{get:function(){return this._version},enumerable:false,configurable:true});FullTextDocument3.prototype.getText=function(range){if(range){var start=this.offsetAt(range.start);var end=this.offsetAt(range.end);return this._content.substring(start,end)}return this._content};FullTextDocument3.prototype.update=function(event,version){this._content=event.text;this._version=version;this._lineOffsets=void 0};FullTextDocument3.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){var lineOffsets=[];var text=this._content;var isLineStart=true;for(var i=0;i<text.length;i++){if(isLineStart){lineOffsets.push(i);isLineStart=false}var ch=text.charAt(i);isLineStart=ch==="\r"||ch==="\n";if(ch==="\r"&&i+1<text.length&&text.charAt(i+1)==="\n"){i++}}if(isLineStart&&text.length>0){lineOffsets.push(text.length)}this._lineOffsets=lineOffsets}return this._lineOffsets};FullTextDocument3.prototype.positionAt=function(offset){offset=Math.max(Math.min(offset,this._content.length),0);var lineOffsets=this.getLineOffsets();var low=0,high=lineOffsets.length;if(high===0){return Position10.create(0,offset)}while(low<high){var mid=Math.floor((low+high)/2);if(lineOffsets[mid]>offset){high=mid}else{low=mid+1}}var line=low-1;return Position10.create(line,offset-lineOffsets[line])};FullTextDocument3.prototype.offsetAt=function(position){var lineOffsets=this.getLineOffsets();if(position.line>=lineOffsets.length){return this._content.length}else if(position.line<0){return 0}var lineOffset=lineOffsets[position.line];var nextLineOffset=position.line+1<lineOffsets.length?lineOffsets[position.line+1]:this._content.length;return Math.max(Math.min(lineOffset+position.character,nextLineOffset),lineOffset)};Object.defineProperty(FullTextDocument3.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:false,configurable:true});return FullTextDocument3}();var Is2;(function(Is3){var toString=Object.prototype.toString;function defined(value){return typeof value!=="undefined"}Is3.defined=defined;function undefined2(value){return typeof value==="undefined"}Is3.undefined=undefined2;function boolean(value){return value===true||value===false}Is3.boolean=boolean;function string(value){return toString.call(value)==="[object String]"}Is3.string=string;function number(value){return toString.call(value)==="[object Number]"}Is3.number=number;function numberRange(value,min,max){return toString.call(value)==="[object Number]"&&min<=value&&value<=max}Is3.numberRange=numberRange;function integer3(value){return toString.call(value)==="[object Number]"&&-2147483648<=value&&value<=2147483647}Is3.integer=integer3;function uinteger3(value){return toString.call(value)==="[object Number]"&&0<=value&&value<=2147483647}Is3.uinteger=uinteger3;function func(value){return toString.call(value)==="[object Function]"}Is3.func=func;function objectLiteral(value){return value!==null&&typeof value==="object"}Is3.objectLiteral=objectLiteral;function typedArray(value,check){return Array.isArray(value)&&value.every(check)}Is3.typedArray=typedArray})(Is2||(Is2={}))})}});var require_messages2=__commonJS({"server/node_modules/vscode-languageserver-protocol/lib/common/messages.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.ProtocolNotificationType=exports2.ProtocolNotificationType0=exports2.ProtocolRequestType=exports2.ProtocolRequestType0=exports2.RegistrationType=exports2.MessageDirection=void 0;var vscode_jsonrpc_1=require_main();var MessageDirection;(function(MessageDirection2){MessageDirection2["clientToServer"]="clientToServer";MessageDirection2["serverToClient"]="serverToClient";MessageDirection2["both"]="both"})(MessageDirection||(exports2.MessageDirection=MessageDirection={}));var RegistrationType=class{constructor(method){this.method=method}};exports2.RegistrationType=RegistrationType;var ProtocolRequestType0=class extends vscode_jsonrpc_1.RequestType0{constructor(method){super(method)}};exports2.ProtocolRequestType0=ProtocolRequestType0;var ProtocolRequestType=class extends vscode_jsonrpc_1.RequestType{constructor(method){super(method,vscode_jsonrpc_1.ParameterStructures.byName)}};exports2.ProtocolRequestType=ProtocolRequestType;var ProtocolNotificationType0=class extends vscode_jsonrpc_1.NotificationType0{constructor(method){super(method)}};exports2.ProtocolNotificationType0=ProtocolNotificationType0;var ProtocolNotificationType=class extends vscode_jsonrpc_1.NotificationType{constructor(method){super(method,vscode_jsonrpc_1.ParameterStructures.byName)}};exports2.ProtocolNotificationType=ProtocolNotificationType}});var require_is3=__commonJS({"server/node_modules/vscode-languageserver-protocol/lib/common/utils/is.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.objectLiteral=exports2.typedArray=exports2.stringArray=exports2.array=exports2.func=exports2.error=exports2.number=exports2.string=exports2.boolean=void 0;function boolean(value){return value===true||value===false}exports2.boolean=boolean;function string(value){return typeof value==="string"||value instanceof String}exports2.string=string;function number(value){return typeof value==="number"||value instanceof Number}exports2.number=number;function error(value){return value instanceof Error}exports2.error=error;function func(value){return typeof value==="function"}exports2.func=func;function array(value){return Array.isArray(value)}exports2.array=array;function stringArray(value){return array(value)&&value.every(elem=>string(elem))}exports2.stringArray=stringArray;function typedArray(value,check){return Array.isArray(value)&&value.every(check)}exports2.typedArray=typedArray;function objectLiteral(value){return value!==null&&typeof value==="object"}exports2.objectLiteral=objectLiteral}});var require_protocol_implementation=__commonJS({"server/node_modules/vscode-languageserver-protocol/lib/common/protocol.implementation.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.ImplementationRequest=void 0;var messages_1=require_messages2();var ImplementationRequest;(function(ImplementationRequest2){ImplementationRequest2.method="textDocument/implementation";ImplementationRequest2.messageDirection=messages_1.MessageDirection.clientToServer;ImplementationRequest2.type=new messages_1.ProtocolRequestType(ImplementationRequest2.method)})(ImplementationRequest||(exports2.ImplementationRequest=ImplementationRequest={}))}});var require_protocol_typeDefinition=__commonJS({"server/node_modules/vscode-languageserver-protocol/lib/common/protocol.typeDefinition.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.TypeDefinitionRequest=void 0;var messages_1=require_messages2();var TypeDefinitionRequest;(function(TypeDefinitionRequest2){TypeDefinitionRequest2.method="textDocument/typeDefinition";TypeDefinitionRequest2.messageDirection=messages_1.MessageDirection.clientToServer;TypeDefinitionRequest2.type=new messages_1.ProtocolRequestType(TypeDefinitionRequest2.method)})(TypeDefinitionRequest||(exports2.TypeDefinitionRequest=TypeDefinitionRequest={}))}});var require_protocol_workspaceFolder=__commonJS({"server/node_modules/vscode-languageserver-protocol/lib/common/protocol.workspaceFolder.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.DidChangeWorkspaceFoldersNotification=exports2.WorkspaceFoldersRequest=void 0;var messages_1=require_messages2();var WorkspaceFoldersRequest;(function(WorkspaceFoldersRequest2){WorkspaceFoldersRequest2.method="workspace/workspaceFolders";WorkspaceFoldersRequest2.messageDirection=messages_1.MessageDirection.serverToClient;WorkspaceFoldersRequest2.type=new messages_1.ProtocolRequestType0(WorkspaceFoldersRequest2.method)})(WorkspaceFoldersRequest||(exports2.WorkspaceFoldersRequest=WorkspaceFoldersRequest={}));var DidChangeWorkspaceFoldersNotification;(function(DidChangeWorkspaceFoldersNotification2){DidChangeWorkspaceFoldersNotification2.method="workspace/didChangeWorkspaceFolders";DidChangeWorkspaceFoldersNotification2.messageDirection=messages_1.MessageDirection.clientToServer;DidChangeWorkspaceFoldersNotification2.type=new messages_1.ProtocolNotificationType(DidChangeWorkspaceFoldersNotification2.method)})(DidChangeWorkspaceFoldersNotification||(exports2.DidChangeWorkspaceFoldersNotification=DidChangeWorkspaceFoldersNotification={}))}});var require_protocol_configuration=__commonJS({"server/node_modules/vscode-languageserver-protocol/lib/common/protocol.configuration.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.ConfigurationRequest=void 0;var messages_1=require_messages2();var ConfigurationRequest;(function(ConfigurationRequest2){ConfigurationRequest2.method="workspace/configuration";ConfigurationRequest2.messageDirection=messages_1.MessageDirection.serverToClient;ConfigurationRequest2.type=new messages_1.ProtocolRequestType(ConfigurationRequest2.method)})(ConfigurationRequest||(exports2.ConfigurationRequest=ConfigurationRequest={}))}});var require_protocol_colorProvider=__commonJS({"server/node_modules/vscode-languageserver-protocol/lib/common/protocol.colorProvider.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.ColorPresentationRequest=exports2.DocumentColorRequest=void 0;var messages_1=require_messages2();var DocumentColorRequest;(function(DocumentColorRequest2){DocumentColorRequest2.method="textDocument/documentColor";DocumentColorRequest2.messageDirection=messages_1.MessageDirection.clientToServer;DocumentColorRequest2.type=new messages_1.ProtocolRequestType(DocumentColorRequest2.method)})(DocumentColorRequest||(exports2.DocumentColorRequest=DocumentColorRequest={}));var ColorPresentationRequest;(function(ColorPresentationRequest2){ColorPresentationRequest2.method="textDocument/colorPresentation";ColorPresentationRequest2.messageDirection=messages_1.MessageDirection.clientToServer;ColorPresentationRequest2.type=new messages_1.ProtocolRequestType(ColorPresentationRequest2.method)})(ColorPresentationRequest||(exports2.ColorPresentationRequest=ColorPresentationRequest={}))}});var require_protocol_foldingRange=__commonJS({"server/node_modules/vscode-languageserver-protocol/lib/common/protocol.foldingRange.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.FoldingRangeRefreshRequest=exports2.FoldingRangeRequest=void 0;var messages_1=require_messages2();var FoldingRangeRequest;(function(FoldingRangeRequest2){FoldingRangeRequest2.method="textDocument/foldingRange";FoldingRangeRequest2.messageDirection=messages_1.MessageDirection.clientToServer;FoldingRangeRequest2.type=new messages_1.ProtocolRequestType(FoldingRangeRequest2.method)})(FoldingRangeRequest||(exports2.FoldingRangeRequest=FoldingRangeRequest={}));var FoldingRangeRefreshRequest;(function(FoldingRangeRefreshRequest2){FoldingRangeRefreshRequest2.method=`workspace/foldingRange/refresh`;FoldingRangeRefreshRequest2.messageDirection=messages_1.MessageDirection.serverToClient;FoldingRangeRefreshRequest2.type=new messages_1.ProtocolRequestType0(FoldingRangeRefreshRequest2.method)})(FoldingRangeRefreshRequest||(exports2.FoldingRangeRefreshRequest=FoldingRangeRefreshRequest={}))}});var require_protocol_declaration=__commonJS({"server/node_modules/vscode-languageserver-protocol/lib/common/protocol.declaration.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.DeclarationRequest=void 0;var messages_1=require_messages2();var DeclarationRequest;(function(DeclarationRequest2){DeclarationRequest2.method="textDocument/declaration";DeclarationRequest2.messageDirection=messages_1.MessageDirection.clientToServer;DeclarationRequest2.type=new messages_1.ProtocolRequestType(DeclarationRequest2.method)})(DeclarationRequest||(exports2.DeclarationRequest=DeclarationRequest={}))}});var require_protocol_selectionRange=__commonJS({"server/node_modules/vscode-languageserver-protocol/lib/common/protocol.selectionRange.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.SelectionRangeRequest=void 0;var messages_1=require_messages2();var SelectionRangeRequest;(function(SelectionRangeRequest2){SelectionRangeRequest2.method="textDocument/selectionRange";SelectionRangeRequest2.messageDirection=messages_1.MessageDirection.clientToServer;SelectionRangeRequest2.type=new messages_1.ProtocolRequestType(SelectionRangeRequest2.method)})(SelectionRangeRequest||(exports2.SelectionRangeRequest=SelectionRangeRequest={}))}});var require_protocol_progress=__commonJS({"server/node_modules/vscode-languageserver-protocol/lib/common/protocol.progress.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.WorkDoneProgressCancelNotification=exports2.WorkDoneProgressCreateRequest=exports2.WorkDoneProgress=void 0;var vscode_jsonrpc_1=require_main();var messages_1=require_messages2();var WorkDoneProgress;(function(WorkDoneProgress2){WorkDoneProgress2.type=new vscode_jsonrpc_1.ProgressType;function is(value){return value===WorkDoneProgress2.type}WorkDoneProgress2.is=is})(WorkDoneProgress||(exports2.WorkDoneProgress=WorkDoneProgress={}));var WorkDoneProgressCreateRequest;(function(WorkDoneProgressCreateRequest2){WorkDoneProgressCreateRequest2.method="window/workDoneProgress/create";WorkDoneProgressCreateRequest2.messageDirection=messages_1.MessageDirection.serverToClient;WorkDoneProgressCreateRequest2.type=new messages_1.ProtocolRequestType(WorkDoneProgressCreateRequest2.method)})(WorkDoneProgressCreateRequest||(exports2.WorkDoneProgressCreateRequest=WorkDoneProgressCreateRequest={}));var WorkDoneProgressCancelNotification;(function(WorkDoneProgressCancelNotification2){WorkDoneProgressCancelNotification2.method="window/workDoneProgress/cancel";WorkDoneProgressCancelNotification2.messageDirection=messages_1.MessageDirection.clientToServer;WorkDoneProgressCancelNotification2.type=new messages_1.ProtocolNotificationType(WorkDoneProgressCancelNotification2.method)})(WorkDoneProgressCancelNotification||(exports2.WorkDoneProgressCancelNotification=WorkDoneProgressCancelNotification={}))}});var require_protocol_callHierarchy=__commonJS({"server/node_modules/vscode-languageserver-protocol/lib/common/protocol.callHierarchy.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.CallHierarchyOutgoingCallsRequest=exports2.CallHierarchyIncomingCallsRequest=exports2.CallHierarchyPrepareRequest=void 0;var messages_1=require_messages2();var CallHierarchyPrepareRequest;(function(CallHierarchyPrepareRequest2){CallHierarchyPrepareRequest2.method="textDocument/prepareCallHierarchy";CallHierarchyPrepareRequest2.messageDirection=messages_1.MessageDirection.clientToServer;CallHierarchyPrepareRequest2.type=new messages_1.ProtocolRequestType(CallHierarchyPrepareRequest2.method)})(CallHierarchyPrepareRequest||(exports2.CallHierarchyPrepareRequest=CallHierarchyPrepareRequest={}));var CallHierarchyIncomingCallsRequest;(function(CallHierarchyIncomingCallsRequest2){CallHierarchyIncomingCallsRequest2.method="callHierarchy/incomingCalls";CallHierarchyIncomingCallsRequest2.messageDirection=messages_1.MessageDirection.clientToServer;CallHierarchyIncomingCallsRequest2.type=new messages_1.ProtocolRequestType(CallHierarchyIncomingCallsRequest2.method)})(CallHierarchyIncomingCallsRequest||(exports2.CallHierarchyIncomingCallsRequest=CallHierarchyIncomingCallsRequest={}));var CallHierarchyOutgoingCallsRequest;(function(CallHierarchyOutgoingCallsRequest2){CallHierarchyOutgoingCallsRequest2.method="callHierarchy/outgoingCalls";CallHierarchyOutgoingCallsRequest2.messageDirection=messages_1.MessageDirection.clientToServer;CallHierarchyOutgoingCallsRequest2.type=new messages_1.ProtocolRequestType(CallHierarchyOutgoingCallsRequest2.method)})(CallHierarchyOutgoingCallsRequest||(exports2.CallHierarchyOutgoingCallsRequest=CallHierarchyOutgoingCallsRequest={}))}});var require_protocol_semanticTokens=__commonJS({"server/node_modules/vscode-languageserver-protocol/lib/common/protocol.semanticTokens.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.SemanticTokensRefreshRequest=exports2.SemanticTokensRangeRequest=exports2.SemanticTokensDeltaRequest=exports2.SemanticTokensRequest=exports2.SemanticTokensRegistrationType=exports2.TokenFormat=void 0;var messages_1=require_messages2();var TokenFormat;(function(TokenFormat2){TokenFormat2.Relative="relative"})(TokenFormat||(exports2.TokenFormat=TokenFormat={}));var SemanticTokensRegistrationType;(function(SemanticTokensRegistrationType2){SemanticTokensRegistrationType2.method="textDocument/semanticTokens";SemanticTokensRegistrationType2.type=new messages_1.RegistrationType(SemanticTokensRegistrationType2.method)})(SemanticTokensRegistrationType||(exports2.SemanticTokensRegistrationType=SemanticTokensRegistrationType={}));var SemanticTokensRequest;(function(SemanticTokensRequest2){SemanticTokensRequest2.method="textDocument/semanticTokens/full";SemanticTokensRequest2.messageDirection=messages_1.MessageDirection.clientToServer;SemanticTokensRequest2.type=new messages_1.ProtocolRequestType(SemanticTokensRequest2.method);SemanticTokensRequest2.registrationMethod=SemanticTokensRegistrationType.method})(SemanticTokensRequest||(exports2.SemanticTokensRequest=SemanticTokensRequest={}));var SemanticTokensDeltaRequest;(function(SemanticTokensDeltaRequest2){SemanticTokensDeltaRequest2.method="textDocument/semanticTokens/full/delta";SemanticTokensDeltaRequest2.messageDirection=messages_1.MessageDirection.clientToServer;SemanticTokensDeltaRequest2.type=new messages_1.ProtocolRequestType(SemanticTokensDeltaRequest2.method);SemanticTokensDeltaRequest2.registrationMethod=SemanticTokensRegistrationType.method})(SemanticTokensDeltaRequest||(exports2.SemanticTokensDeltaRequest=SemanticTokensDeltaRequest={}));var SemanticTokensRangeRequest;(function(SemanticTokensRangeRequest2){SemanticTokensRangeRequest2.method="textDocument/semanticTokens/range";SemanticTokensRangeRequest2.messageDirection=messages_1.MessageDirection.clientToServer;SemanticTokensRangeRequest2.type=new messages_1.ProtocolRequestType(SemanticTokensRangeRequest2.method);SemanticTokensRangeRequest2.registrationMethod=SemanticTokensRegistrationType.method})(SemanticTokensRangeRequest||(exports2.SemanticTokensRangeRequest=SemanticTokensRangeRequest={}));var SemanticTokensRefreshRequest;(function(SemanticTokensRefreshRequest2){SemanticTokensRefreshRequest2.method=`workspace/semanticTokens/refresh`;SemanticTokensRefreshRequest2.messageDirection=messages_1.MessageDirection.serverToClient;SemanticTokensRefreshRequest2.type=new messages_1.ProtocolRequestType0(SemanticTokensRefreshRequest2.method)})(SemanticTokensRefreshRequest||(exports2.SemanticTokensRefreshRequest=SemanticTokensRefreshRequest={}))}});var require_protocol_showDocument=__commonJS({"server/node_modules/vscode-languageserver-protocol/lib/common/protocol.showDocument.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.ShowDocumentRequest=void 0;var messages_1=require_messages2();var ShowDocumentRequest;(function(ShowDocumentRequest2){ShowDocumentRequest2.method="window/showDocument";ShowDocumentRequest2.messageDirection=messages_1.MessageDirection.serverToClient;ShowDocumentRequest2.type=new messages_1.ProtocolRequestType(ShowDocumentRequest2.method)})(ShowDocumentRequest||(exports2.ShowDocumentRequest=ShowDocumentRequest={}))}});var require_protocol_linkedEditingRange=__commonJS({"server/node_modules/vscode-languageserver-protocol/lib/common/protocol.linkedEditingRange.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.LinkedEditingRangeRequest=void 0;var messages_1=require_messages2();var LinkedEditingRangeRequest;(function(LinkedEditingRangeRequest2){LinkedEditingRangeRequest2.method="textDocument/linkedEditingRange";LinkedEditingRangeRequest2.messageDirection=messages_1.MessageDirection.clientToServer;LinkedEditingRangeRequest2.type=new messages_1.ProtocolRequestType(LinkedEditingRangeRequest2.method)})(LinkedEditingRangeRequest||(exports2.LinkedEditingRangeRequest=LinkedEditingRangeRequest={}))}});var require_protocol_fileOperations=__commonJS({"server/node_modules/vscode-languageserver-protocol/lib/common/protocol.fileOperations.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.WillDeleteFilesRequest=exports2.DidDeleteFilesNotification=exports2.DidRenameFilesNotification=exports2.WillRenameFilesRequest=exports2.DidCreateFilesNotification=exports2.WillCreateFilesRequest=exports2.FileOperationPatternKind=void 0;var messages_1=require_messages2();var FileOperationPatternKind;(function(FileOperationPatternKind2){FileOperationPatternKind2.file="file";FileOperationPatternKind2.folder="folder"})(FileOperationPatternKind||(exports2.FileOperationPatternKind=FileOperationPatternKind={}));var WillCreateFilesRequest;(function(WillCreateFilesRequest2){WillCreateFilesRequest2.method="workspace/willCreateFiles";WillCreateFilesRequest2.messageDirection=messages_1.MessageDirection.clientToServer;WillCreateFilesRequest2.type=new messages_1.ProtocolRequestType(WillCreateFilesRequest2.method)})(WillCreateFilesRequest||(exports2.WillCreateFilesRequest=WillCreateFilesRequest={}));var DidCreateFilesNotification;(function(DidCreateFilesNotification2){DidCreateFilesNotification2.method="workspace/didCreateFiles";DidCreateFilesNotification2.messageDirection=messages_1.MessageDirection.clientToServer;DidCreateFilesNotification2.type=new messages_1.ProtocolNotificationType(DidCreateFilesNotification2.method)})(DidCreateFilesNotification||(exports2.DidCreateFilesNotification=DidCreateFilesNotification={}));var WillRenameFilesRequest;(function(WillRenameFilesRequest2){WillRenameFilesRequest2.method="workspace/willRenameFiles";WillRenameFilesRequest2.messageDirection=messages_1.MessageDirection.clientToServer;WillRenameFilesRequest2.type=new messages_1.ProtocolRequestType(WillRenameFilesRequest2.method)})(WillRenameFilesRequest||(exports2.WillRenameFilesRequest=WillRenameFilesRequest={}));var DidRenameFilesNotification;(function(DidRenameFilesNotification2){DidRenameFilesNotification2.method="workspace/didRenameFiles";DidRenameFilesNotification2.messageDirection=messages_1.MessageDirection.clientToServer;DidRenameFilesNotification2.type=new messages_1.ProtocolNotificationType(DidRenameFilesNotification2.method)})(DidRenameFilesNotification||(exports2.DidRenameFilesNotification=DidRenameFilesNotification={}));var DidDeleteFilesNotification;(function(DidDeleteFilesNotification2){DidDeleteFilesNotification2.method="workspace/didDeleteFiles";DidDeleteFilesNotification2.messageDirection=messages_1.MessageDirection.clientToServer;DidDeleteFilesNotification2.type=new messages_1.ProtocolNotificationType(DidDeleteFilesNotification2.method)})(DidDeleteFilesNotification||(exports2.DidDeleteFilesNotification=DidDeleteFilesNotification={}));var WillDeleteFilesRequest;(function(WillDeleteFilesRequest2){WillDeleteFilesRequest2.method="workspace/willDeleteFiles";WillDeleteFilesRequest2.messageDirection=messages_1.MessageDirection.clientToServer;WillDeleteFilesRequest2.type=new messages_1.ProtocolRequestType(WillDeleteFilesRequest2.method)})(WillDeleteFilesRequest||(exports2.WillDeleteFilesRequest=WillDeleteFilesRequest={}))}});var require_protocol_moniker=__commonJS({"server/node_modules/vscode-languageserver-protocol/lib/common/protocol.moniker.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.MonikerRequest=exports2.MonikerKind=exports2.UniquenessLevel=void 0;var messages_1=require_messages2();var UniquenessLevel;(function(UniquenessLevel2){UniquenessLevel2.document="document";UniquenessLevel2.project="project";UniquenessLevel2.group="group";UniquenessLevel2.scheme="scheme";UniquenessLevel2.global="global"})(UniquenessLevel||(exports2.UniquenessLevel=UniquenessLevel={}));var MonikerKind;(function(MonikerKind2){MonikerKind2.$import="import";MonikerKind2.$export="export";MonikerKind2.local="local"})(MonikerKind||(exports2.MonikerKind=MonikerKind={}));var MonikerRequest;(function(MonikerRequest2){MonikerRequest2.method="textDocument/moniker";MonikerRequest2.messageDirection=messages_1.MessageDirection.clientToServer;MonikerRequest2.type=new messages_1.ProtocolRequestType(MonikerRequest2.method)})(MonikerRequest||(exports2.MonikerRequest=MonikerRequest={}))}});var require_protocol_typeHierarchy=__commonJS({"server/node_modules/vscode-languageserver-protocol/lib/common/protocol.typeHierarchy.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.TypeHierarchySubtypesRequest=exports2.TypeHierarchySupertypesRequest=exports2.TypeHierarchyPrepareRequest=void 0;var messages_1=require_messages2();var TypeHierarchyPrepareRequest;(function(TypeHierarchyPrepareRequest2){TypeHierarchyPrepareRequest2.method="textDocument/prepareTypeHierarchy";TypeHierarchyPrepareRequest2.messageDirection=messages_1.MessageDirection.clientToServer;TypeHierarchyPrepareRequest2.type=new messages_1.ProtocolRequestType(TypeHierarchyPrepareRequest2.method)})(TypeHierarchyPrepareRequest||(exports2.TypeHierarchyPrepareRequest=TypeHierarchyPrepareRequest={}));var TypeHierarchySupertypesRequest;(function(TypeHierarchySupertypesRequest2){TypeHierarchySupertypesRequest2.method="typeHierarchy/supertypes";TypeHierarchySupertypesRequest2.messageDirection=messages_1.MessageDirection.clientToServer;TypeHierarchySupertypesRequest2.type=new messages_1.ProtocolRequestType(TypeHierarchySupertypesRequest2.method)})(TypeHierarchySupertypesRequest||(exports2.TypeHierarchySupertypesRequest=TypeHierarchySupertypesRequest={}));var TypeHierarchySubtypesRequest;(function(TypeHierarchySubtypesRequest2){TypeHierarchySubtypesRequest2.method="typeHierarchy/subtypes";TypeHierarchySubtypesRequest2.messageDirection=messages_1.MessageDirection.clientToServer;TypeHierarchySubtypesRequest2.type=new messages_1.ProtocolRequestType(TypeHierarchySubtypesRequest2.method)})(TypeHierarchySubtypesRequest||(exports2.TypeHierarchySubtypesRequest=TypeHierarchySubtypesRequest={}))}});var require_protocol_inlineValue=__commonJS({"server/node_modules/vscode-languageserver-protocol/lib/common/protocol.inlineValue.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.InlineValueRefreshRequest=exports2.InlineValueRequest=void 0;var messages_1=require_messages2();var InlineValueRequest;(function(InlineValueRequest2){InlineValueRequest2.method="textDocument/inlineValue";InlineValueRequest2.messageDirection=messages_1.MessageDirection.clientToServer;InlineValueRequest2.type=new messages_1.ProtocolRequestType(InlineValueRequest2.method)})(InlineValueRequest||(exports2.InlineValueRequest=InlineValueRequest={}));var InlineValueRefreshRequest;(function(InlineValueRefreshRequest2){InlineValueRefreshRequest2.method=`workspace/inlineValue/refresh`;InlineValueRefreshRequest2.messageDirection=messages_1.MessageDirection.serverToClient;InlineValueRefreshRequest2.type=new messages_1.ProtocolRequestType0(InlineValueRefreshRequest2.method)})(InlineValueRefreshRequest||(exports2.InlineValueRefreshRequest=InlineValueRefreshRequest={}))}});var require_protocol_inlayHint=__commonJS({"server/node_modules/vscode-languageserver-protocol/lib/common/protocol.inlayHint.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.InlayHintRefreshRequest=exports2.InlayHintResolveRequest=exports2.InlayHintRequest=void 0;var messages_1=require_messages2();var InlayHintRequest;(function(InlayHintRequest2){InlayHintRequest2.method="textDocument/inlayHint";InlayHintRequest2.messageDirection=messages_1.MessageDirection.clientToServer;InlayHintRequest2.type=new messages_1.ProtocolRequestType(InlayHintRequest2.method)})(InlayHintRequest||(exports2.InlayHintRequest=InlayHintRequest={}));var InlayHintResolveRequest;(function(InlayHintResolveRequest2){InlayHintResolveRequest2.method="inlayHint/resolve";InlayHintResolveRequest2.messageDirection=messages_1.MessageDirection.clientToServer;InlayHintResolveRequest2.type=new messages_1.ProtocolRequestType(InlayHintResolveRequest2.method)})(InlayHintResolveRequest||(exports2.InlayHintResolveRequest=InlayHintResolveRequest={}));var InlayHintRefreshRequest;(function(InlayHintRefreshRequest2){InlayHintRefreshRequest2.method=`workspace/inlayHint/refresh`;InlayHintRefreshRequest2.messageDirection=messages_1.MessageDirection.serverToClient;InlayHintRefreshRequest2.type=new messages_1.ProtocolRequestType0(InlayHintRefreshRequest2.method)})(InlayHintRefreshRequest||(exports2.InlayHintRefreshRequest=InlayHintRefreshRequest={}))}});var require_protocol_diagnostic=__commonJS({"server/node_modules/vscode-languageserver-protocol/lib/common/protocol.diagnostic.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.DiagnosticRefreshRequest=exports2.WorkspaceDiagnosticRequest=exports2.DocumentDiagnosticRequest=exports2.DocumentDiagnosticReportKind=exports2.DiagnosticServerCancellationData=void 0;var vscode_jsonrpc_1=require_main();var Is2=require_is3();var messages_1=require_messages2();var DiagnosticServerCancellationData;(function(DiagnosticServerCancellationData2){function is(value){const candidate=value;return candidate&&Is2.boolean(candidate.retriggerRequest)}DiagnosticServerCancellationData2.is=is})(DiagnosticServerCancellationData||(exports2.DiagnosticServerCancellationData=DiagnosticServerCancellationData={}));var DocumentDiagnosticReportKind;(function(DocumentDiagnosticReportKind2){DocumentDiagnosticReportKind2.Full="full";DocumentDiagnosticReportKind2.Unchanged="unchanged"})(DocumentDiagnosticReportKind||(exports2.DocumentDiagnosticReportKind=DocumentDiagnosticReportKind={}));var DocumentDiagnosticRequest;(function(DocumentDiagnosticRequest2){DocumentDiagnosticRequest2.method="textDocument/diagnostic";DocumentDiagnosticRequest2.messageDirection=messages_1.MessageDirection.clientToServer;DocumentDiagnosticRequest2.type=new messages_1.ProtocolRequestType(DocumentDiagnosticRequest2.method);DocumentDiagnosticRequest2.partialResult=new vscode_jsonrpc_1.ProgressType})(DocumentDiagnosticRequest||(exports2.DocumentDiagnosticRequest=DocumentDiagnosticRequest={}));var WorkspaceDiagnosticRequest;(function(WorkspaceDiagnosticRequest2){WorkspaceDiagnosticRequest2.method="workspace/diagnostic";WorkspaceDiagnosticRequest2.messageDirection=messages_1.MessageDirection.clientToServer;WorkspaceDiagnosticRequest2.type=new messages_1.ProtocolRequestType(WorkspaceDiagnosticRequest2.method);WorkspaceDiagnosticRequest2.partialResult=new vscode_jsonrpc_1.ProgressType})(WorkspaceDiagnosticRequest||(exports2.WorkspaceDiagnosticRequest=WorkspaceDiagnosticRequest={}));var DiagnosticRefreshRequest;(function(DiagnosticRefreshRequest2){DiagnosticRefreshRequest2.method=`workspace/diagnostic/refresh`;DiagnosticRefreshRequest2.messageDirection=messages_1.MessageDirection.serverToClient;DiagnosticRefreshRequest2.type=new messages_1.ProtocolRequestType0(DiagnosticRefreshRequest2.method)})(DiagnosticRefreshRequest||(exports2.DiagnosticRefreshRequest=DiagnosticRefreshRequest={}))}});var require_protocol_notebook=__commonJS({"server/node_modules/vscode-languageserver-protocol/lib/common/protocol.notebook.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.DidCloseNotebookDocumentNotification=exports2.DidSaveNotebookDocumentNotification=exports2.DidChangeNotebookDocumentNotification=exports2.NotebookCellArrayChange=exports2.DidOpenNotebookDocumentNotification=exports2.NotebookDocumentSyncRegistrationType=exports2.NotebookDocument=exports2.NotebookCell=exports2.ExecutionSummary=exports2.NotebookCellKind=void 0;var vscode_languageserver_types_1=require_main2();var Is2=require_is3();var messages_1=require_messages2();var NotebookCellKind;(function(NotebookCellKind2){NotebookCellKind2.Markup=1;NotebookCellKind2.Code=2;function is(value){return value===1||value===2}NotebookCellKind2.is=is})(NotebookCellKind||(exports2.NotebookCellKind=NotebookCellKind={}));var ExecutionSummary;(function(ExecutionSummary2){function create(executionOrder,success){const result={executionOrder};if(success===true||success===false){result.success=success}return result}ExecutionSummary2.create=create;function is(value){const candidate=value;return Is2.objectLiteral(candidate)&&vscode_languageserver_types_1.uinteger.is(candidate.executionOrder)&&(candidate.success===void 0||Is2.boolean(candidate.success))}ExecutionSummary2.is=is;function equals(one,other){if(one===other){return true}if(one===null||one===void 0||other===null||other===void 0){return false}return one.executionOrder===other.executionOrder&&one.success===other.success}ExecutionSummary2.equals=equals})(ExecutionSummary||(exports2.ExecutionSummary=ExecutionSummary={}));var NotebookCell;(function(NotebookCell2){function create(kind,document){return{kind,document}}NotebookCell2.create=create;function is(value){const candidate=value;return Is2.objectLiteral(candidate)&&NotebookCellKind.is(candidate.kind)&&vscode_languageserver_types_1.DocumentUri.is(candidate.document)&&(candidate.metadata===void 0||Is2.objectLiteral(candidate.metadata))}NotebookCell2.is=is;function diff(one,two){const result=new Set;if(one.document!==two.document){result.add("document")}if(one.kind!==two.kind){result.add("kind")}if(one.executionSummary!==two.executionSummary){result.add("executionSummary")}if((one.metadata!==void 0||two.metadata!==void 0)&&!equalsMetadata(one.metadata,two.metadata)){result.add("metadata")}if((one.executionSummary!==void 0||two.executionSummary!==void 0)&&!ExecutionSummary.equals(one.executionSummary,two.executionSummary)){result.add("executionSummary")}return result}NotebookCell2.diff=diff;function equalsMetadata(one,other){if(one===other){return true}if(one===null||one===void 0||other===null||other===void 0){return false}if(typeof one!==typeof other){return false}if(typeof one!=="object"){return false}const oneArray=Array.isArray(one);const otherArray=Array.isArray(other);if(oneArray!==otherArray){return false}if(oneArray&&otherArray){if(one.length!==other.length){return false}for(let i=0;i<one.length;i++){if(!equalsMetadata(one[i],other[i])){return false}}}if(Is2.objectLiteral(one)&&Is2.objectLiteral(other)){const oneKeys=Object.keys(one);const otherKeys=Object.keys(other);if(oneKeys.length!==otherKeys.length){return false}oneKeys.sort();otherKeys.sort();if(!equalsMetadata(oneKeys,otherKeys)){return false}for(let i=0;i<oneKeys.length;i++){const prop=oneKeys[i];if(!equalsMetadata(one[prop],other[prop])){return false}}}return true}})(NotebookCell||(exports2.NotebookCell=NotebookCell={}));var NotebookDocument;(function(NotebookDocument2){function create(uri,notebookType,version,cells){return{uri,notebookType,version,cells}}NotebookDocument2.create=create;function is(value){const candidate=value;return Is2.objectLiteral(candidate)&&Is2.string(candidate.uri)&&vscode_languageserver_types_1.integer.is(candidate.version)&&Is2.typedArray(candidate.cells,NotebookCell.is)}NotebookDocument2.is=is})(NotebookDocument||(exports2.NotebookDocument=NotebookDocument={}));var NotebookDocumentSyncRegistrationType;(function(NotebookDocumentSyncRegistrationType2){NotebookDocumentSyncRegistrationType2.method="notebookDocument/sync";NotebookDocumentSyncRegistrationType2.messageDirection=messages_1.MessageDirection.clientToServer;NotebookDocumentSyncRegistrationType2.type=new messages_1.RegistrationType(NotebookDocumentSyncRegistrationType2.method)})(NotebookDocumentSyncRegistrationType||(exports2.NotebookDocumentSyncRegistrationType=NotebookDocumentSyncRegistrationType={}));var DidOpenNotebookDocumentNotification;(function(DidOpenNotebookDocumentNotification2){DidOpenNotebookDocumentNotification2.method="notebookDocument/didOpen";DidOpenNotebookDocumentNotification2.messageDirection=messages_1.MessageDirection.clientToServer;DidOpenNotebookDocumentNotification2.type=new messages_1.ProtocolNotificationType(DidOpenNotebookDocumentNotification2.method);DidOpenNotebookDocumentNotification2.registrationMethod=NotebookDocumentSyncRegistrationType.method})(DidOpenNotebookDocumentNotification||(exports2.DidOpenNotebookDocumentNotification=DidOpenNotebookDocumentNotification={}));var NotebookCellArrayChange;(function(NotebookCellArrayChange2){function is(value){const candidate=value;return Is2.objectLiteral(candidate)&&vscode_languageserver_types_1.uinteger.is(candidate.start)&&vscode_languageserver_types_1.uinteger.is(candidate.deleteCount)&&(candidate.cells===void 0||Is2.typedArray(candidate.cells,NotebookCell.is))}NotebookCellArrayChange2.is=is;function create(start,deleteCount,cells){const result={start,deleteCount};if(cells!==void 0){result.cells=cells}return result}NotebookCellArrayChange2.create=create})(NotebookCellArrayChange||(exports2.NotebookCellArrayChange=NotebookCellArrayChange={}));var DidChangeNotebookDocumentNotification;(function(DidChangeNotebookDocumentNotification2){DidChangeNotebookDocumentNotification2.method="notebookDocument/didChange";DidChangeNotebookDocumentNotification2.messageDirection=messages_1.MessageDirection.clientToServer;DidChangeNotebookDocumentNotification2.type=new messages_1.ProtocolNotificationType(DidChangeNotebookDocumentNotification2.method);DidChangeNotebookDocumentNotification2.registrationMethod=NotebookDocumentSyncRegistrationType.method})(DidChangeNotebookDocumentNotification||(exports2.DidChangeNotebookDocumentNotification=DidChangeNotebookDocumentNotification={}));var DidSaveNotebookDocumentNotification;(function(DidSaveNotebookDocumentNotification2){DidSaveNotebookDocumentNotification2.method="notebookDocument/didSave";DidSaveNotebookDocumentNotification2.messageDirection=messages_1.MessageDirection.clientToServer;DidSaveNotebookDocumentNotification2.type=new messages_1.ProtocolNotificationType(DidSaveNotebookDocumentNotification2.method);DidSaveNotebookDocumentNotification2.registrationMethod=NotebookDocumentSyncRegistrationType.method})(DidSaveNotebookDocumentNotification||(exports2.DidSaveNotebookDocumentNotification=DidSaveNotebookDocumentNotification={}));var DidCloseNotebookDocumentNotification;(function(DidCloseNotebookDocumentNotification2){DidCloseNotebookDocumentNotification2.method="notebookDocument/didClose";DidCloseNotebookDocumentNotification2.messageDirection=messages_1.MessageDirection.clientToServer;DidCloseNotebookDocumentNotification2.type=new messages_1.ProtocolNotificationType(DidCloseNotebookDocumentNotification2.method);DidCloseNotebookDocumentNotification2.registrationMethod=NotebookDocumentSyncRegistrationType.method})(DidCloseNotebookDocumentNotification||(exports2.DidCloseNotebookDocumentNotification=DidCloseNotebookDocumentNotification={}))}});var require_protocol_inlineCompletion=__commonJS({"server/node_modules/vscode-languageserver-protocol/lib/common/protocol.inlineCompletion.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.InlineCompletionRequest=void 0;var messages_1=require_messages2();var InlineCompletionRequest;(function(InlineCompletionRequest2){InlineCompletionRequest2.method="textDocument/inlineCompletion";InlineCompletionRequest2.messageDirection=messages_1.MessageDirection.clientToServer;InlineCompletionRequest2.type=new messages_1.ProtocolRequestType(InlineCompletionRequest2.method)})(InlineCompletionRequest||(exports2.InlineCompletionRequest=InlineCompletionRequest={}))}});var require_protocol=__commonJS({"server/node_modules/vscode-languageserver-protocol/lib/common/protocol.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.WorkspaceSymbolRequest=exports2.CodeActionResolveRequest=exports2.CodeActionRequest=exports2.DocumentSymbolRequest=exports2.DocumentHighlightRequest=exports2.ReferencesRequest=exports2.DefinitionRequest=exports2.SignatureHelpRequest=exports2.SignatureHelpTriggerKind=exports2.HoverRequest=exports2.CompletionResolveRequest=exports2.CompletionRequest=exports2.CompletionTriggerKind=exports2.PublishDiagnosticsNotification=exports2.WatchKind=exports2.RelativePattern=exports2.FileChangeType=exports2.DidChangeWatchedFilesNotification=exports2.WillSaveTextDocumentWaitUntilRequest=exports2.WillSaveTextDocumentNotification=exports2.TextDocumentSaveReason=exports2.DidSaveTextDocumentNotification=exports2.DidCloseTextDocumentNotification=exports2.DidChangeTextDocumentNotification=exports2.TextDocumentContentChangeEvent=exports2.DidOpenTextDocumentNotification=exports2.TextDocumentSyncKind=exports2.TelemetryEventNotification=exports2.LogMessageNotification=exports2.ShowMessageRequest=exports2.ShowMessageNotification=exports2.MessageType=exports2.DidChangeConfigurationNotification=exports2.ExitNotification=exports2.ShutdownRequest=exports2.InitializedNotification=exports2.InitializeErrorCodes=exports2.InitializeRequest=exports2.WorkDoneProgressOptions=exports2.TextDocumentRegistrationOptions=exports2.StaticRegistrationOptions=exports2.PositionEncodingKind=exports2.FailureHandlingKind=exports2.ResourceOperationKind=exports2.UnregistrationRequest=exports2.RegistrationRequest=exports2.DocumentSelector=exports2.NotebookCellTextDocumentFilter=exports2.NotebookDocumentFilter=exports2.TextDocumentFilter=void 0;exports2.MonikerRequest=exports2.MonikerKind=exports2.UniquenessLevel=exports2.WillDeleteFilesRequest=exports2.DidDeleteFilesNotification=exports2.WillRenameFilesRequest=exports2.DidRenameFilesNotification=exports2.WillCreateFilesRequest=exports2.DidCreateFilesNotification=exports2.FileOperationPatternKind=exports2.LinkedEditingRangeRequest=exports2.ShowDocumentRequest=exports2.SemanticTokensRegistrationType=exports2.SemanticTokensRefreshRequest=exports2.SemanticTokensRangeRequest=exports2.SemanticTokensDeltaRequest=exports2.SemanticTokensRequest=exports2.TokenFormat=exports2.CallHierarchyPrepareRequest=exports2.CallHierarchyOutgoingCallsRequest=exports2.CallHierarchyIncomingCallsRequest=exports2.WorkDoneProgressCancelNotification=exports2.WorkDoneProgressCreateRequest=exports2.WorkDoneProgress=exports2.SelectionRangeRequest=exports2.DeclarationRequest=exports2.FoldingRangeRefreshRequest=exports2.FoldingRangeRequest=exports2.ColorPresentationRequest=exports2.DocumentColorRequest=exports2.ConfigurationRequest=exports2.DidChangeWorkspaceFoldersNotification=exports2.WorkspaceFoldersRequest=exports2.TypeDefinitionRequest=exports2.ImplementationRequest=exports2.ApplyWorkspaceEditRequest=exports2.ExecuteCommandRequest=exports2.PrepareRenameRequest=exports2.RenameRequest=exports2.PrepareSupportDefaultBehavior=exports2.DocumentOnTypeFormattingRequest=exports2.DocumentRangesFormattingRequest=exports2.DocumentRangeFormattingRequest=exports2.DocumentFormattingRequest=exports2.DocumentLinkResolveRequest=exports2.DocumentLinkRequest=exports2.CodeLensRefreshRequest=exports2.CodeLensResolveRequest=exports2.CodeLensRequest=exports2.WorkspaceSymbolResolveRequest=void 0;exports2.InlineCompletionRequest=exports2.DidCloseNotebookDocumentNotification=exports2.DidSaveNotebookDocumentNotification=exports2.DidChangeNotebookDocumentNotification=exports2.NotebookCellArrayChange=exports2.DidOpenNotebookDocumentNotification=exports2.NotebookDocumentSyncRegistrationType=exports2.NotebookDocument=exports2.NotebookCell=exports2.ExecutionSummary=exports2.NotebookCellKind=exports2.DiagnosticRefreshRequest=exports2.WorkspaceDiagnosticRequest=exports2.DocumentDiagnosticRequest=exports2.DocumentDiagnosticReportKind=exports2.DiagnosticServerCancellationData=exports2.InlayHintRefreshRequest=exports2.InlayHintResolveRequest=exports2.InlayHintRequest=exports2.InlineValueRefreshRequest=exports2.InlineValueRequest=exports2.TypeHierarchySupertypesRequest=exports2.TypeHierarchySubtypesRequest=exports2.TypeHierarchyPrepareRequest=void 0;var messages_1=require_messages2();var vscode_languageserver_types_1=require_main2();var Is2=require_is3();var protocol_implementation_1=require_protocol_implementation();Object.defineProperty(exports2,"ImplementationRequest",{enumerable:true,get:function(){return protocol_implementation_1.ImplementationRequest}});var protocol_typeDefinition_1=require_protocol_typeDefinition();Object.defineProperty(exports2,"TypeDefinitionRequest",{enumerable:true,get:function(){return protocol_typeDefinition_1.TypeDefinitionRequest}});var protocol_workspaceFolder_1=require_protocol_workspaceFolder();Object.defineProperty(exports2,"WorkspaceFoldersRequest",{enumerable:true,get:function(){return protocol_workspaceFolder_1.WorkspaceFoldersRequest}});Object.defineProperty(exports2,"DidChangeWorkspaceFoldersNotification",{enumerable:true,get:function(){return protocol_workspaceFolder_1.DidChangeWorkspaceFoldersNotification}});var protocol_configuration_1=require_protocol_configuration();Object.defineProperty(exports2,"ConfigurationRequest",{enumerable:true,get:function(){return protocol_configuration_1.ConfigurationRequest}});var protocol_colorProvider_1=require_protocol_colorProvider();Object.defineProperty(exports2,"DocumentColorRequest",{enumerable:true,get:function(){return protocol_colorProvider_1.DocumentColorRequest}});Object.defineProperty(exports2,"ColorPresentationRequest",{enumerable:true,get:function(){return protocol_colorProvider_1.ColorPresentationRequest}});var protocol_foldingRange_1=require_protocol_foldingRange();Object.defineProperty(exports2,"FoldingRangeRequest",{enumerable:true,get:function(){return protocol_foldingRange_1.FoldingRangeRequest}});Object.defineProperty(exports2,"FoldingRangeRefreshRequest",{enumerable:true,get:function(){return protocol_foldingRange_1.FoldingRangeRefreshRequest}});var protocol_declaration_1=require_protocol_declaration();Object.defineProperty(exports2,"DeclarationRequest",{enumerable:true,get:function(){return protocol_declaration_1.DeclarationRequest}});var protocol_selectionRange_1=require_protocol_selectionRange();Object.defineProperty(exports2,"SelectionRangeRequest",{enumerable:true,get:function(){return protocol_selectionRange_1.SelectionRangeRequest}});var protocol_progress_1=require_protocol_progress();Object.defineProperty(exports2,"WorkDoneProgress",{enumerable:true,get:function(){return protocol_progress_1.WorkDoneProgress}});Object.defineProperty(exports2,"WorkDoneProgressCreateRequest",{enumerable:true,get:function(){return protocol_progress_1.WorkDoneProgressCreateRequest}});Object.defineProperty(exports2,"WorkDoneProgressCancelNotification",{enumerable:true,get:function(){return protocol_progress_1.WorkDoneProgressCancelNotification}});var protocol_callHierarchy_1=require_protocol_callHierarchy();Object.defineProperty(exports2,"CallHierarchyIncomingCallsRequest",{enumerable:true,get:function(){return protocol_callHierarchy_1.CallHierarchyIncomingCallsRequest}});Object.defineProperty(exports2,"CallHierarchyOutgoingCallsRequest",{enumerable:true,get:function(){return protocol_callHierarchy_1.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(exports2,"CallHierarchyPrepareRequest",{enumerable:true,get:function(){return protocol_callHierarchy_1.CallHierarchyPrepareRequest}});var protocol_semanticTokens_1=require_protocol_semanticTokens();Object.defineProperty(exports2,"TokenFormat",{enumerable:true,get:function(){return protocol_semanticTokens_1.TokenFormat}});Object.defineProperty(exports2,"SemanticTokensRequest",{enumerable:true,get:function(){return protocol_semanticTokens_1.SemanticTokensRequest}});Object.defineProperty(exports2,"SemanticTokensDeltaRequest",{enumerable:true,get:function(){return protocol_semanticTokens_1.SemanticTokensDeltaRequest}});Object.defineProperty(exports2,"SemanticTokensRangeRequest",{enumerable:true,get:function(){return protocol_semanticTokens_1.SemanticTokensRangeRequest}});Object.defineProperty(exports2,"SemanticTokensRefreshRequest",{enumerable:true,get:function(){return protocol_semanticTokens_1.SemanticTokensRefreshRequest}});Object.defineProperty(exports2,"SemanticTokensRegistrationType",{enumerable:true,get:function(){return protocol_semanticTokens_1.SemanticTokensRegistrationType}});var protocol_showDocument_1=require_protocol_showDocument();Object.defineProperty(exports2,"ShowDocumentRequest",{enumerable:true,get:function(){return protocol_showDocument_1.ShowDocumentRequest}});var protocol_linkedEditingRange_1=require_protocol_linkedEditingRange();Object.defineProperty(exports2,"LinkedEditingRangeRequest",{enumerable:true,get:function(){return protocol_linkedEditingRange_1.LinkedEditingRangeRequest}});var protocol_fileOperations_1=require_protocol_fileOperations();Object.defineProperty(exports2,"FileOperationPatternKind",{enumerable:true,get:function(){return protocol_fileOperations_1.FileOperationPatternKind}});Object.defineProperty(exports2,"DidCreateFilesNotification",{enumerable:true,get:function(){return protocol_fileOperations_1.DidCreateFilesNotification}});Object.defineProperty(exports2,"WillCreateFilesRequest",{enumerable:true,get:function(){return protocol_fileOperations_1.WillCreateFilesRequest}});Object.defineProperty(exports2,"DidRenameFilesNotification",{enumerable:true,get:function(){return protocol_fileOperations_1.DidRenameFilesNotification}});Object.defineProperty(exports2,"WillRenameFilesRequest",{enumerable:true,get:function(){return protocol_fileOperations_1.WillRenameFilesRequest}});Object.defineProperty(exports2,"DidDeleteFilesNotification",{enumerable:true,get:function(){return protocol_fileOperations_1.DidDeleteFilesNotification}});Object.defineProperty(exports2,"WillDeleteFilesRequest",{enumerable:true,get:function(){return protocol_fileOperations_1.WillDeleteFilesRequest}});var protocol_moniker_1=require_protocol_moniker();Object.defineProperty(exports2,"UniquenessLevel",{enumerable:true,get:function(){return protocol_moniker_1.UniquenessLevel}});Object.defineProperty(exports2,"MonikerKind",{enumerable:true,get:function(){return protocol_moniker_1.MonikerKind}});Object.defineProperty(exports2,"MonikerRequest",{enumerable:true,get:function(){return protocol_moniker_1.MonikerRequest}});var protocol_typeHierarchy_1=require_protocol_typeHierarchy();Object.defineProperty(exports2,"TypeHierarchyPrepareRequest",{enumerable:true,get:function(){return protocol_typeHierarchy_1.TypeHierarchyPrepareRequest}});Object.defineProperty(exports2,"TypeHierarchySubtypesRequest",{enumerable:true,get:function(){return protocol_typeHierarchy_1.TypeHierarchySubtypesRequest}});Object.defineProperty(exports2,"TypeHierarchySupertypesRequest",{enumerable:true,get:function(){return protocol_typeHierarchy_1.TypeHierarchySupertypesRequest}});var protocol_inlineValue_1=require_protocol_inlineValue();Object.defineProperty(exports2,"InlineValueRequest",{enumerable:true,get:function(){return protocol_inlineValue_1.InlineValueRequest}});Object.defineProperty(exports2,"InlineValueRefreshRequest",{enumerable:true,get:function(){return protocol_inlineValue_1.InlineValueRefreshRequest}});var protocol_inlayHint_1=require_protocol_inlayHint();Object.defineProperty(exports2,"InlayHintRequest",{enumerable:true,get:function(){return protocol_inlayHint_1.InlayHintRequest}});Object.defineProperty(exports2,"InlayHintResolveRequest",{enumerable:true,get:function(){return protocol_inlayHint_1.InlayHintResolveRequest}});Object.defineProperty(exports2,"InlayHintRefreshRequest",{enumerable:true,get:function(){return protocol_inlayHint_1.InlayHintRefreshRequest}});var protocol_diagnostic_1=require_protocol_diagnostic();Object.defineProperty(exports2,"DiagnosticServerCancellationData",{enumerable:true,get:function(){return protocol_diagnostic_1.DiagnosticServerCancellationData}});Object.defineProperty(exports2,"DocumentDiagnosticReportKind",{enumerable:true,get:function(){return protocol_diagnostic_1.DocumentDiagnosticReportKind}});Object.defineProperty(exports2,"DocumentDiagnosticRequest",{enumerable:true,get:function(){return protocol_diagnostic_1.DocumentDiagnosticRequest}});Object.defineProperty(exports2,"WorkspaceDiagnosticRequest",{enumerable:true,get:function(){return protocol_diagnostic_1.WorkspaceDiagnosticRequest}});Object.defineProperty(exports2,"DiagnosticRefreshRequest",{enumerable:true,get:function(){return protocol_diagnostic_1.DiagnosticRefreshRequest}});var protocol_notebook_1=require_protocol_notebook();Object.defineProperty(exports2,"NotebookCellKind",{enumerable:true,get:function(){return protocol_notebook_1.NotebookCellKind}});Object.defineProperty(exports2,"ExecutionSummary",{enumerable:true,get:function(){return protocol_notebook_1.ExecutionSummary}});Object.defineProperty(exports2,"NotebookCell",{enumerable:true,get:function(){return protocol_notebook_1.NotebookCell}});Object.defineProperty(exports2,"NotebookDocument",{enumerable:true,get:function(){return protocol_notebook_1.NotebookDocument}});Object.defineProperty(exports2,"NotebookDocumentSyncRegistrationType",{enumerable:true,get:function(){return protocol_notebook_1.NotebookDocumentSyncRegistrationType}});Object.defineProperty(exports2,"DidOpenNotebookDocumentNotification",{enumerable:true,get:function(){return protocol_notebook_1.DidOpenNotebookDocumentNotification}});Object.defineProperty(exports2,"NotebookCellArrayChange",{enumerable:true,get:function(){return protocol_notebook_1.NotebookCellArrayChange}});Object.defineProperty(exports2,"DidChangeNotebookDocumentNotification",{enumerable:true,get:function(){return protocol_notebook_1.DidChangeNotebookDocumentNotification}});Object.defineProperty(exports2,"DidSaveNotebookDocumentNotification",{enumerable:true,get:function(){return protocol_notebook_1.DidSaveNotebookDocumentNotification}});Object.defineProperty(exports2,"DidCloseNotebookDocumentNotification",{enumerable:true,get:function(){return protocol_notebook_1.DidCloseNotebookDocumentNotification}});var protocol_inlineCompletion_1=require_protocol_inlineCompletion();Object.defineProperty(exports2,"InlineCompletionRequest",{enumerable:true,get:function(){return protocol_inlineCompletion_1.InlineCompletionRequest}});var TextDocumentFilter;(function(TextDocumentFilter2){function is(value){const candidate=value;return Is2.string(candidate)||(Is2.string(candidate.language)||Is2.string(candidate.scheme)||Is2.string(candidate.pattern))}TextDocumentFilter2.is=is})(TextDocumentFilter||(exports2.TextDocumentFilter=TextDocumentFilter={}));var NotebookDocumentFilter;(function(NotebookDocumentFilter2){function is(value){const candidate=value;return Is2.objectLiteral(candidate)&&(Is2.string(candidate.notebookType)||Is2.string(candidate.scheme)||Is2.string(candidate.pattern))}NotebookDocumentFilter2.is=is})(NotebookDocumentFilter||(exports2.NotebookDocumentFilter=NotebookDocumentFilter={}));var NotebookCellTextDocumentFilter;(function(NotebookCellTextDocumentFilter2){function is(value){const candidate=value;return Is2.objectLiteral(candidate)&&(Is2.string(candidate.notebook)||NotebookDocumentFilter.is(candidate.notebook))&&(candidate.language===void 0||Is2.string(candidate.language))}NotebookCellTextDocumentFilter2.is=is})(NotebookCellTextDocumentFilter||(exports2.NotebookCellTextDocumentFilter=NotebookCellTextDocumentFilter={}));var DocumentSelector;(function(DocumentSelector2){function is(value){if(!Array.isArray(value)){return false}for(let elem of value){if(!Is2.string(elem)&&!TextDocumentFilter.is(elem)&&!NotebookCellTextDocumentFilter.is(elem)){return false}}return true}DocumentSelector2.is=is})(DocumentSelector||(exports2.DocumentSelector=DocumentSelector={}));var RegistrationRequest;(function(RegistrationRequest2){RegistrationRequest2.method="client/registerCapability";RegistrationRequest2.messageDirection=messages_1.MessageDirection.serverToClient;RegistrationRequest2.type=new messages_1.ProtocolRequestType(RegistrationRequest2.method)})(RegistrationRequest||(exports2.RegistrationRequest=RegistrationRequest={}));var UnregistrationRequest;(function(UnregistrationRequest2){UnregistrationRequest2.method="client/unregisterCapability";UnregistrationRequest2.messageDirection=messages_1.MessageDirection.serverToClient;UnregistrationRequest2.type=new messages_1.ProtocolRequestType(UnregistrationRequest2.method)})(UnregistrationRequest||(exports2.UnregistrationRequest=UnregistrationRequest={}));var ResourceOperationKind;(function(ResourceOperationKind2){ResourceOperationKind2.Create="create";ResourceOperationKind2.Rename="rename";ResourceOperationKind2.Delete="delete"})(ResourceOperationKind||(exports2.ResourceOperationKind=ResourceOperationKind={}));var FailureHandlingKind;(function(FailureHandlingKind2){FailureHandlingKind2.Abort="abort";FailureHandlingKind2.Transactional="transactional";FailureHandlingKind2.TextOnlyTransactional="textOnlyTransactional";FailureHandlingKind2.Undo="undo"})(FailureHandlingKind||(exports2.FailureHandlingKind=FailureHandlingKind={}));var PositionEncodingKind;(function(PositionEncodingKind2){PositionEncodingKind2.UTF8="utf-8";PositionEncodingKind2.UTF16="utf-16";PositionEncodingKind2.UTF32="utf-32"})(PositionEncodingKind||(exports2.PositionEncodingKind=PositionEncodingKind={}));var StaticRegistrationOptions;(function(StaticRegistrationOptions2){function hasId(value){const candidate=value;return candidate&&Is2.string(candidate.id)&&candidate.id.length>0}StaticRegistrationOptions2.hasId=hasId})(StaticRegistrationOptions||(exports2.StaticRegistrationOptions=StaticRegistrationOptions={}));var TextDocumentRegistrationOptions;(function(TextDocumentRegistrationOptions2){function is(value){const candidate=value;return candidate&&(candidate.documentSelector===null||DocumentSelector.is(candidate.documentSelector))}TextDocumentRegistrationOptions2.is=is})(TextDocumentRegistrationOptions||(exports2.TextDocumentRegistrationOptions=TextDocumentRegistrationOptions={}));var WorkDoneProgressOptions;(function(WorkDoneProgressOptions2){function is(value){const candidate=value;return Is2.objectLiteral(candidate)&&(candidate.workDoneProgress===void 0||Is2.boolean(candidate.workDoneProgress))}WorkDoneProgressOptions2.is=is;function hasWorkDoneProgress(value){const candidate=value;return candidate&&Is2.boolean(candidate.workDoneProgress)}WorkDoneProgressOptions2.hasWorkDoneProgress=hasWorkDoneProgress})(WorkDoneProgressOptions||(exports2.WorkDoneProgressOptions=WorkDoneProgressOptions={}));var InitializeRequest;(function(InitializeRequest2){InitializeRequest2.method="initialize";InitializeRequest2.messageDirection=messages_1.MessageDirection.clientToServer;InitializeRequest2.type=new messages_1.ProtocolRequestType(InitializeRequest2.method)})(InitializeRequest||(exports2.InitializeRequest=InitializeRequest={}));var InitializeErrorCodes;(function(InitializeErrorCodes2){InitializeErrorCodes2.unknownProtocolVersion=1})(InitializeErrorCodes||(exports2.InitializeErrorCodes=InitializeErrorCodes={}));var InitializedNotification;(function(InitializedNotification2){InitializedNotification2.method="initialized";InitializedNotification2.messageDirection=messages_1.MessageDirection.clientToServer;InitializedNotification2.type=new messages_1.ProtocolNotificationType(InitializedNotification2.method)})(InitializedNotification||(exports2.InitializedNotification=InitializedNotification={}));var ShutdownRequest;(function(ShutdownRequest2){ShutdownRequest2.method="shutdown";ShutdownRequest2.messageDirection=messages_1.MessageDirection.clientToServer;ShutdownRequest2.type=new messages_1.ProtocolRequestType0(ShutdownRequest2.method)})(ShutdownRequest||(exports2.ShutdownRequest=ShutdownRequest={}));var ExitNotification;(function(ExitNotification2){ExitNotification2.method="exit";ExitNotification2.messageDirection=messages_1.MessageDirection.clientToServer;ExitNotification2.type=new messages_1.ProtocolNotificationType0(ExitNotification2.method)})(ExitNotification||(exports2.ExitNotification=ExitNotification={}));var DidChangeConfigurationNotification;(function(DidChangeConfigurationNotification2){DidChangeConfigurationNotification2.method="workspace/didChangeConfiguration";DidChangeConfigurationNotification2.messageDirection=messages_1.MessageDirection.clientToServer;DidChangeConfigurationNotification2.type=new messages_1.ProtocolNotificationType(DidChangeConfigurationNotification2.method)})(DidChangeConfigurationNotification||(exports2.DidChangeConfigurationNotification=DidChangeConfigurationNotification={}));var MessageType;(function(MessageType2){MessageType2.Error=1;MessageType2.Warning=2;MessageType2.Info=3;MessageType2.Log=4;MessageType2.Debug=5})(MessageType||(exports2.MessageType=MessageType={}));var ShowMessageNotification;(function(ShowMessageNotification2){ShowMessageNotification2.method="window/showMessage";ShowMessageNotification2.messageDirection=messages_1.MessageDirection.serverToClient;ShowMessageNotification2.type=new messages_1.ProtocolNotificationType(ShowMessageNotification2.method)})(ShowMessageNotification||(exports2.ShowMessageNotification=ShowMessageNotification={}));var ShowMessageRequest;(function(ShowMessageRequest2){ShowMessageRequest2.method="window/showMessageRequest";ShowMessageRequest2.messageDirection=messages_1.MessageDirection.serverToClient;ShowMessageRequest2.type=new messages_1.ProtocolRequestType(ShowMessageRequest2.method)})(ShowMessageRequest||(exports2.ShowMessageRequest=ShowMessageRequest={}));var LogMessageNotification;(function(LogMessageNotification2){LogMessageNotification2.method="window/logMessage";LogMessageNotification2.messageDirection=messages_1.MessageDirection.serverToClient;LogMessageNotification2.type=new messages_1.ProtocolNotificationType(LogMessageNotification2.method)})(LogMessageNotification||(exports2.LogMessageNotification=LogMessageNotification={}));var TelemetryEventNotification;(function(TelemetryEventNotification2){TelemetryEventNotification2.method="telemetry/event";TelemetryEventNotification2.messageDirection=messages_1.MessageDirection.serverToClient;TelemetryEventNotification2.type=new messages_1.ProtocolNotificationType(TelemetryEventNotification2.method)})(TelemetryEventNotification||(exports2.TelemetryEventNotification=TelemetryEventNotification={}));var TextDocumentSyncKind;(function(TextDocumentSyncKind2){TextDocumentSyncKind2.None=0;TextDocumentSyncKind2.Full=1;TextDocumentSyncKind2.Incremental=2})(TextDocumentSyncKind||(exports2.TextDocumentSyncKind=TextDocumentSyncKind={}));var DidOpenTextDocumentNotification;(function(DidOpenTextDocumentNotification2){DidOpenTextDocumentNotification2.method="textDocument/didOpen";DidOpenTextDocumentNotification2.messageDirection=messages_1.MessageDirection.clientToServer;DidOpenTextDocumentNotification2.type=new messages_1.ProtocolNotificationType(DidOpenTextDocumentNotification2.method)})(DidOpenTextDocumentNotification||(exports2.DidOpenTextDocumentNotification=DidOpenTextDocumentNotification={}));var TextDocumentContentChangeEvent;(function(TextDocumentContentChangeEvent2){function isIncremental(event){let candidate=event;return candidate!==void 0&&candidate!==null&&typeof candidate.text==="string"&&candidate.range!==void 0&&(candidate.rangeLength===void 0||typeof candidate.rangeLength==="number")}TextDocumentContentChangeEvent2.isIncremental=isIncremental;function isFull(event){let candidate=event;return candidate!==void 0&&candidate!==null&&typeof candidate.text==="string"&&candidate.range===void 0&&candidate.rangeLength===void 0}TextDocumentContentChangeEvent2.isFull=isFull})(TextDocumentContentChangeEvent||(exports2.TextDocumentContentChangeEvent=TextDocumentContentChangeEvent={}));var DidChangeTextDocumentNotification;(function(DidChangeTextDocumentNotification2){DidChangeTextDocumentNotification2.method="textDocument/didChange";DidChangeTextDocumentNotification2.messageDirection=messages_1.MessageDirection.clientToServer;DidChangeTextDocumentNotification2.type=new messages_1.ProtocolNotificationType(DidChangeTextDocumentNotification2.method)})(DidChangeTextDocumentNotification||(exports2.DidChangeTextDocumentNotification=DidChangeTextDocumentNotification={}));var DidCloseTextDocumentNotification;(function(DidCloseTextDocumentNotification2){DidCloseTextDocumentNotification2.method="textDocument/didClose";DidCloseTextDocumentNotification2.messageDirection=messages_1.MessageDirection.clientToServer;DidCloseTextDocumentNotification2.type=new messages_1.ProtocolNotificationType(DidCloseTextDocumentNotification2.method)})(DidCloseTextDocumentNotification||(exports2.DidCloseTextDocumentNotification=DidCloseTextDocumentNotification={}));var DidSaveTextDocumentNotification;(function(DidSaveTextDocumentNotification2){DidSaveTextDocumentNotification2.method="textDocument/didSave";DidSaveTextDocumentNotification2.messageDirection=messages_1.MessageDirection.clientToServer;DidSaveTextDocumentNotification2.type=new messages_1.ProtocolNotificationType(DidSaveTextDocumentNotification2.method)})(DidSaveTextDocumentNotification||(exports2.DidSaveTextDocumentNotification=DidSaveTextDocumentNotification={}));var TextDocumentSaveReason;(function(TextDocumentSaveReason2){TextDocumentSaveReason2.Manual=1;TextDocumentSaveReason2.AfterDelay=2;TextDocumentSaveReason2.FocusOut=3})(TextDocumentSaveReason||(exports2.TextDocumentSaveReason=TextDocumentSaveReason={}));var WillSaveTextDocumentNotification;(function(WillSaveTextDocumentNotification2){WillSaveTextDocumentNotification2.method="textDocument/willSave";WillSaveTextDocumentNotification2.messageDirection=messages_1.MessageDirection.clientToServer;WillSaveTextDocumentNotification2.type=new messages_1.ProtocolNotificationType(WillSaveTextDocumentNotification2.method)})(WillSaveTextDocumentNotification||(exports2.WillSaveTextDocumentNotification=WillSaveTextDocumentNotification={}));var WillSaveTextDocumentWaitUntilRequest;(function(WillSaveTextDocumentWaitUntilRequest2){WillSaveTextDocumentWaitUntilRequest2.method="textDocument/willSaveWaitUntil";WillSaveTextDocumentWaitUntilRequest2.messageDirection=messages_1.MessageDirection.clientToServer;WillSaveTextDocumentWaitUntilRequest2.type=new messages_1.ProtocolRequestType(WillSaveTextDocumentWaitUntilRequest2.method)})(WillSaveTextDocumentWaitUntilRequest||(exports2.WillSaveTextDocumentWaitUntilRequest=WillSaveTextDocumentWaitUntilRequest={}));var DidChangeWatchedFilesNotification;(function(DidChangeWatchedFilesNotification2){DidChangeWatchedFilesNotification2.method="workspace/didChangeWatchedFiles";DidChangeWatchedFilesNotification2.messageDirection=messages_1.MessageDirection.clientToServer;DidChangeWatchedFilesNotification2.type=new messages_1.ProtocolNotificationType(DidChangeWatchedFilesNotification2.method)})(DidChangeWatchedFilesNotification||(exports2.DidChangeWatchedFilesNotification=DidChangeWatchedFilesNotification={}));var FileChangeType2;(function(FileChangeType3){FileChangeType3.Created=1;FileChangeType3.Changed=2;FileChangeType3.Deleted=3})(FileChangeType2||(exports2.FileChangeType=FileChangeType2={}));var RelativePattern;(function(RelativePattern2){function is(value){const candidate=value;return Is2.objectLiteral(candidate)&&(vscode_languageserver_types_1.URI.is(candidate.baseUri)||vscode_languageserver_types_1.WorkspaceFolder.is(candidate.baseUri))&&Is2.string(candidate.pattern)}RelativePattern2.is=is})(RelativePattern||(exports2.RelativePattern=RelativePattern={}));var WatchKind;(function(WatchKind2){WatchKind2.Create=1;WatchKind2.Change=2;WatchKind2.Delete=4})(WatchKind||(exports2.WatchKind=WatchKind={}));var PublishDiagnosticsNotification;(function(PublishDiagnosticsNotification2){PublishDiagnosticsNotification2.method="textDocument/publishDiagnostics";PublishDiagnosticsNotification2.messageDirection=messages_1.MessageDirection.serverToClient;PublishDiagnosticsNotification2.type=new messages_1.ProtocolNotificationType(PublishDiagnosticsNotification2.method)})(PublishDiagnosticsNotification||(exports2.PublishDiagnosticsNotification=PublishDiagnosticsNotification={}));var CompletionTriggerKind;(function(CompletionTriggerKind2){CompletionTriggerKind2.Invoked=1;CompletionTriggerKind2.TriggerCharacter=2;CompletionTriggerKind2.TriggerForIncompleteCompletions=3})(CompletionTriggerKind||(exports2.CompletionTriggerKind=CompletionTriggerKind={}));var CompletionRequest;(function(CompletionRequest2){CompletionRequest2.method="textDocument/completion";CompletionRequest2.messageDirection=messages_1.MessageDirection.clientToServer;CompletionRequest2.type=new messages_1.ProtocolRequestType(CompletionRequest2.method)})(CompletionRequest||(exports2.CompletionRequest=CompletionRequest={}));var CompletionResolveRequest;(function(CompletionResolveRequest2){CompletionResolveRequest2.method="completionItem/resolve";CompletionResolveRequest2.messageDirection=messages_1.MessageDirection.clientToServer;CompletionResolveRequest2.type=new messages_1.ProtocolRequestType(CompletionResolveRequest2.method)})(CompletionResolveRequest||(exports2.CompletionResolveRequest=CompletionResolveRequest={}));var HoverRequest;(function(HoverRequest2){HoverRequest2.method="textDocument/hover";HoverRequest2.messageDirection=messages_1.MessageDirection.clientToServer;HoverRequest2.type=new messages_1.ProtocolRequestType(HoverRequest2.method)})(HoverRequest||(exports2.HoverRequest=HoverRequest={}));var SignatureHelpTriggerKind;(function(SignatureHelpTriggerKind2){SignatureHelpTriggerKind2.Invoked=1;SignatureHelpTriggerKind2.TriggerCharacter=2;SignatureHelpTriggerKind2.ContentChange=3})(SignatureHelpTriggerKind||(exports2.SignatureHelpTriggerKind=SignatureHelpTriggerKind={}));var SignatureHelpRequest;(function(SignatureHelpRequest2){SignatureHelpRequest2.method="textDocument/signatureHelp";SignatureHelpRequest2.messageDirection=messages_1.MessageDirection.clientToServer;SignatureHelpRequest2.type=new messages_1.ProtocolRequestType(SignatureHelpRequest2.method)})(SignatureHelpRequest||(exports2.SignatureHelpRequest=SignatureHelpRequest={}));var DefinitionRequest;(function(DefinitionRequest2){DefinitionRequest2.method="textDocument/definition";DefinitionRequest2.messageDirection=messages_1.MessageDirection.clientToServer;DefinitionRequest2.type=new messages_1.ProtocolRequestType(DefinitionRequest2.method)})(DefinitionRequest||(exports2.DefinitionRequest=DefinitionRequest={}));var ReferencesRequest;(function(ReferencesRequest2){ReferencesRequest2.method="textDocument/references";ReferencesRequest2.messageDirection=messages_1.MessageDirection.clientToServer;ReferencesRequest2.type=new messages_1.ProtocolRequestType(ReferencesRequest2.method)})(ReferencesRequest||(exports2.ReferencesRequest=ReferencesRequest={}));var DocumentHighlightRequest;(function(DocumentHighlightRequest2){DocumentHighlightRequest2.method="textDocument/documentHighlight";DocumentHighlightRequest2.messageDirection=messages_1.MessageDirection.clientToServer;DocumentHighlightRequest2.type=new messages_1.ProtocolRequestType(DocumentHighlightRequest2.method)})(DocumentHighlightRequest||(exports2.DocumentHighlightRequest=DocumentHighlightRequest={}));var DocumentSymbolRequest;(function(DocumentSymbolRequest2){DocumentSymbolRequest2.method="textDocument/documentSymbol";DocumentSymbolRequest2.messageDirection=messages_1.MessageDirection.clientToServer;DocumentSymbolRequest2.type=new messages_1.ProtocolRequestType(DocumentSymbolRequest2.method)})(DocumentSymbolRequest||(exports2.DocumentSymbolRequest=DocumentSymbolRequest={}));var CodeActionRequest;(function(CodeActionRequest2){CodeActionRequest2.method="textDocument/codeAction";CodeActionRequest2.messageDirection=messages_1.MessageDirection.clientToServer;CodeActionRequest2.type=new messages_1.ProtocolRequestType(CodeActionRequest2.method)})(CodeActionRequest||(exports2.CodeActionRequest=CodeActionRequest={}));var CodeActionResolveRequest;(function(CodeActionResolveRequest2){CodeActionResolveRequest2.method="codeAction/resolve";CodeActionResolveRequest2.messageDirection=messages_1.MessageDirection.clientToServer;CodeActionResolveRequest2.type=new messages_1.ProtocolRequestType(CodeActionResolveRequest2.method)})(CodeActionResolveRequest||(exports2.CodeActionResolveRequest=CodeActionResolveRequest={}));var WorkspaceSymbolRequest;(function(WorkspaceSymbolRequest2){WorkspaceSymbolRequest2.method="workspace/symbol";WorkspaceSymbolRequest2.messageDirection=messages_1.MessageDirection.clientToServer;WorkspaceSymbolRequest2.type=new messages_1.ProtocolRequestType(WorkspaceSymbolRequest2.method)})(WorkspaceSymbolRequest||(exports2.WorkspaceSymbolRequest=WorkspaceSymbolRequest={}));var WorkspaceSymbolResolveRequest;(function(WorkspaceSymbolResolveRequest2){WorkspaceSymbolResolveRequest2.method="workspaceSymbol/resolve";WorkspaceSymbolResolveRequest2.messageDirection=messages_1.MessageDirection.clientToServer;WorkspaceSymbolResolveRequest2.type=new messages_1.ProtocolRequestType(WorkspaceSymbolResolveRequest2.method)})(WorkspaceSymbolResolveRequest||(exports2.WorkspaceSymbolResolveRequest=WorkspaceSymbolResolveRequest={}));var CodeLensRequest;(function(CodeLensRequest2){CodeLensRequest2.method="textDocument/codeLens";CodeLensRequest2.messageDirection=messages_1.MessageDirection.clientToServer;CodeLensRequest2.type=new messages_1.ProtocolRequestType(CodeLensRequest2.method)})(CodeLensRequest||(exports2.CodeLensRequest=CodeLensRequest={}));var CodeLensResolveRequest;(function(CodeLensResolveRequest2){CodeLensResolveRequest2.method="codeLens/resolve";CodeLensResolveRequest2.messageDirection=messages_1.MessageDirection.clientToServer;CodeLensResolveRequest2.type=new messages_1.ProtocolRequestType(CodeLensResolveRequest2.method)})(CodeLensResolveRequest||(exports2.CodeLensResolveRequest=CodeLensResolveRequest={}));var CodeLensRefreshRequest;(function(CodeLensRefreshRequest2){CodeLensRefreshRequest2.method=`workspace/codeLens/refresh`;CodeLensRefreshRequest2.messageDirection=messages_1.MessageDirection.serverToClient;CodeLensRefreshRequest2.type=new messages_1.ProtocolRequestType0(CodeLensRefreshRequest2.method)})(CodeLensRefreshRequest||(exports2.CodeLensRefreshRequest=CodeLensRefreshRequest={}));var DocumentLinkRequest;(function(DocumentLinkRequest2){DocumentLinkRequest2.method="textDocument/documentLink";DocumentLinkRequest2.messageDirection=messages_1.MessageDirection.clientToServer;DocumentLinkRequest2.type=new messages_1.ProtocolRequestType(DocumentLinkRequest2.method)})(DocumentLinkRequest||(exports2.DocumentLinkRequest=DocumentLinkRequest={}));var DocumentLinkResolveRequest;(function(DocumentLinkResolveRequest2){DocumentLinkResolveRequest2.method="documentLink/resolve";DocumentLinkResolveRequest2.messageDirection=messages_1.MessageDirection.clientToServer;DocumentLinkResolveRequest2.type=new messages_1.ProtocolRequestType(DocumentLinkResolveRequest2.method)})(DocumentLinkResolveRequest||(exports2.DocumentLinkResolveRequest=DocumentLinkResolveRequest={}));var DocumentFormattingRequest;(function(DocumentFormattingRequest2){DocumentFormattingRequest2.method="textDocument/formatting";DocumentFormattingRequest2.messageDirection=messages_1.MessageDirection.clientToServer;DocumentFormattingRequest2.type=new messages_1.ProtocolRequestType(DocumentFormattingRequest2.method)})(DocumentFormattingRequest||(exports2.DocumentFormattingRequest=DocumentFormattingRequest={}));var DocumentRangeFormattingRequest;(function(DocumentRangeFormattingRequest2){DocumentRangeFormattingRequest2.method="textDocument/rangeFormatting";DocumentRangeFormattingRequest2.messageDirection=messages_1.MessageDirection.clientToServer;DocumentRangeFormattingRequest2.type=new messages_1.ProtocolRequestType(DocumentRangeFormattingRequest2.method)})(DocumentRangeFormattingRequest||(exports2.DocumentRangeFormattingRequest=DocumentRangeFormattingRequest={}));var DocumentRangesFormattingRequest;(function(DocumentRangesFormattingRequest2){DocumentRangesFormattingRequest2.method="textDocument/rangesFormatting";DocumentRangesFormattingRequest2.messageDirection=messages_1.MessageDirection.clientToServer;DocumentRangesFormattingRequest2.type=new messages_1.ProtocolRequestType(DocumentRangesFormattingRequest2.method)})(DocumentRangesFormattingRequest||(exports2.DocumentRangesFormattingRequest=DocumentRangesFormattingRequest={}));var DocumentOnTypeFormattingRequest;(function(DocumentOnTypeFormattingRequest2){DocumentOnTypeFormattingRequest2.method="textDocument/onTypeFormatting";DocumentOnTypeFormattingRequest2.messageDirection=messages_1.MessageDirection.clientToServer;DocumentOnTypeFormattingRequest2.type=new messages_1.ProtocolRequestType(DocumentOnTypeFormattingRequest2.method)})(DocumentOnTypeFormattingRequest||(exports2.DocumentOnTypeFormattingRequest=DocumentOnTypeFormattingRequest={}));var PrepareSupportDefaultBehavior;(function(PrepareSupportDefaultBehavior2){PrepareSupportDefaultBehavior2.Identifier=1})(PrepareSupportDefaultBehavior||(exports2.PrepareSupportDefaultBehavior=PrepareSupportDefaultBehavior={}));var RenameRequest;(function(RenameRequest2){RenameRequest2.method="textDocument/rename";RenameRequest2.messageDirection=messages_1.MessageDirection.clientToServer;RenameRequest2.type=new messages_1.ProtocolRequestType(RenameRequest2.method)})(RenameRequest||(exports2.RenameRequest=RenameRequest={}));var PrepareRenameRequest;(function(PrepareRenameRequest2){PrepareRenameRequest2.method="textDocument/prepareRename";PrepareRenameRequest2.messageDirection=messages_1.MessageDirection.clientToServer;PrepareRenameRequest2.type=new messages_1.ProtocolRequestType(PrepareRenameRequest2.method)})(PrepareRenameRequest||(exports2.PrepareRenameRequest=PrepareRenameRequest={}));var ExecuteCommandRequest;(function(ExecuteCommandRequest2){ExecuteCommandRequest2.method="workspace/executeCommand";ExecuteCommandRequest2.messageDirection=messages_1.MessageDirection.clientToServer;ExecuteCommandRequest2.type=new messages_1.ProtocolRequestType(ExecuteCommandRequest2.method)})(ExecuteCommandRequest||(exports2.ExecuteCommandRequest=ExecuteCommandRequest={}));var ApplyWorkspaceEditRequest;(function(ApplyWorkspaceEditRequest2){ApplyWorkspaceEditRequest2.method="workspace/applyEdit";ApplyWorkspaceEditRequest2.messageDirection=messages_1.MessageDirection.serverToClient;ApplyWorkspaceEditRequest2.type=new messages_1.ProtocolRequestType("workspace/applyEdit")})(ApplyWorkspaceEditRequest||(exports2.ApplyWorkspaceEditRequest=ApplyWorkspaceEditRequest={}))}});var require_connection2=__commonJS({"server/node_modules/vscode-languageserver-protocol/lib/common/connection.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.createProtocolConnection=void 0;var vscode_jsonrpc_1=require_main();function createProtocolConnection(input,output,logger2,options){if(vscode_jsonrpc_1.ConnectionStrategy.is(options)){options={connectionStrategy:options}}return(0,vscode_jsonrpc_1.createMessageConnection)(input,output,logger2,options)}exports2.createProtocolConnection=createProtocolConnection}});var require_api2=__commonJS({"server/node_modules/vscode-languageserver-protocol/lib/common/api.js"(exports2){"use strict";var __createBinding=exports2&&exports2.__createBinding||(Object.create?function(o,m,k,k2){if(k2===void 0)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable)){desc={enumerable:true,get:function(){return m[k]}}}Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){if(k2===void 0)k2=k;o[k2]=m[k]});var __exportStar=exports2&&exports2.__exportStar||function(m,exports3){for(var p in m)if(p!=="default"&&!Object.prototype.hasOwnProperty.call(exports3,p))__createBinding(exports3,m,p)};Object.defineProperty(exports2,"__esModule",{value:true});exports2.LSPErrorCodes=exports2.createProtocolConnection=void 0;__exportStar(require_main(),exports2);__exportStar(require_main2(),exports2);__exportStar(require_messages2(),exports2);__exportStar(require_protocol(),exports2);var connection_1=require_connection2();Object.defineProperty(exports2,"createProtocolConnection",{enumerable:true,get:function(){return connection_1.createProtocolConnection}});var LSPErrorCodes;(function(LSPErrorCodes2){LSPErrorCodes2.lspReservedErrorRangeStart=-32899;LSPErrorCodes2.RequestFailed=-32803;LSPErrorCodes2.ServerCancelled=-32802;LSPErrorCodes2.ContentModified=-32801;LSPErrorCodes2.RequestCancelled=-32800;LSPErrorCodes2.lspReservedErrorRangeEnd=-32800})(LSPErrorCodes||(exports2.LSPErrorCodes=LSPErrorCodes={}))}});var require_main3=__commonJS({"server/node_modules/vscode-languageserver-protocol/lib/node/main.js"(exports2){"use strict";var __createBinding=exports2&&exports2.__createBinding||(Object.create?function(o,m,k,k2){if(k2===void 0)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable)){desc={enumerable:true,get:function(){return m[k]}}}Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){if(k2===void 0)k2=k;o[k2]=m[k]});var __exportStar=exports2&&exports2.__exportStar||function(m,exports3){for(var p in m)if(p!=="default"&&!Object.prototype.hasOwnProperty.call(exports3,p))__createBinding(exports3,m,p)};Object.defineProperty(exports2,"__esModule",{value:true});exports2.createProtocolConnection=void 0;var node_1=require_node();__exportStar(require_node(),exports2);__exportStar(require_api2(),exports2);function createProtocolConnection(input,output,logger2,options){return(0,node_1.createMessageConnection)(input,output,logger2,options)}exports2.createProtocolConnection=createProtocolConnection}});var require_uuid=__commonJS({"server/node_modules/vscode-languageserver/lib/common/utils/uuid.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.generateUuid=exports2.parse=exports2.isUUID=exports2.v4=exports2.empty=void 0;var ValueUUID=class{constructor(_value){this._value=_value}asHex(){return this._value}equals(other){return this.asHex()===other.asHex()}};var V4UUID=class _V4UUID extends ValueUUID{static _oneOf(array){return array[Math.floor(array.length*Math.random())]}static _randomHex(){return _V4UUID._oneOf(_V4UUID._chars)}constructor(){super([_V4UUID._randomHex(),_V4UUID._randomHex(),_V4UUID._randomHex(),_V4UUID._randomHex(),_V4UUID._randomHex(),_V4UUID._randomHex(),_V4UUID._randomHex(),_V4UUID._randomHex(),"-",_V4UUID._randomHex(),_V4UUID._randomHex(),_V4UUID._randomHex(),_V4UUID._randomHex(),"-","4",_V4UUID._randomHex(),_V4UUID._randomHex(),_V4UUID._randomHex(),"-",_V4UUID._oneOf(_V4UUID._timeHighBits),_V4UUID._randomHex(),_V4UUID._randomHex(),_V4UUID._randomHex(),"-",_V4UUID._randomHex(),_V4UUID._randomHex(),_V4UUID._randomHex(),_V4UUID._randomHex(),_V4UUID._randomHex(),_V4UUID._randomHex(),_V4UUID._randomHex(),_V4UUID._randomHex(),_V4UUID._randomHex(),_V4UUID._randomHex(),_V4UUID._randomHex(),_V4UUID._randomHex()].join(""))}};V4UUID._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];V4UUID._timeHighBits=["8","9","a","b"];exports2.empty=new ValueUUID("00000000-0000-0000-0000-000000000000");function v4(){return new V4UUID}exports2.v4=v4;var _UUIDPattern=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function isUUID(value){return _UUIDPattern.test(value)}exports2.isUUID=isUUID;function parse(value){if(!isUUID(value)){throw new Error("invalid uuid")}return new ValueUUID(value)}exports2.parse=parse;function generateUuid(){return v4().asHex()}exports2.generateUuid=generateUuid}});var require_progress=__commonJS({"server/node_modules/vscode-languageserver/lib/common/progress.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.attachPartialResult=exports2.ProgressFeature=exports2.attachWorkDone=void 0;var vscode_languageserver_protocol_1=require_main3();var uuid_1=require_uuid();var WorkDoneProgressReporterImpl=class _WorkDoneProgressReporterImpl{constructor(_connection,_token){this._connection=_connection;this._token=_token;_WorkDoneProgressReporterImpl.Instances.set(this._token,this)}begin(title,percentage,message,cancellable){let param={kind:"begin",title,percentage,message,cancellable};this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type,this._token,param)}report(arg0,arg1){let param={kind:"report"};if(typeof arg0==="number"){param.percentage=arg0;if(arg1!==void 0){param.message=arg1}}else{param.message=arg0}this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type,this._token,param)}done(){_WorkDoneProgressReporterImpl.Instances.delete(this._token);this._connection.sendProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type,this._token,{kind:"end"})}};WorkDoneProgressReporterImpl.Instances=new Map;var WorkDoneProgressServerReporterImpl=class extends WorkDoneProgressReporterImpl{constructor(connection2,token){super(connection2,token);this._source=new vscode_languageserver_protocol_1.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose();super.done()}cancel(){this._source.cancel()}};var NullProgressReporter=class{constructor(){}begin(){}report(){}done(){}};var NullProgressServerReporter=class extends NullProgressReporter{constructor(){super();this._source=new vscode_languageserver_protocol_1.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function attachWorkDone(connection2,params){if(params===void 0||params.workDoneToken===void 0){return new NullProgressReporter}const token=params.workDoneToken;delete params.workDoneToken;return new WorkDoneProgressReporterImpl(connection2,token)}exports2.attachWorkDone=attachWorkDone;var ProgressFeature=Base=>{return class extends Base{constructor(){super();this._progressSupported=false}initialize(capabilities){super.initialize(capabilities);if(capabilities?.window?.workDoneProgress===true){this._progressSupported=true;this.connection.onNotification(vscode_languageserver_protocol_1.WorkDoneProgressCancelNotification.type,params=>{let progress=WorkDoneProgressReporterImpl.Instances.get(params.token);if(progress instanceof WorkDoneProgressServerReporterImpl||progress instanceof NullProgressServerReporter){progress.cancel()}})}}attachWorkDoneProgress(token){if(token===void 0){return new NullProgressReporter}else{return new WorkDoneProgressReporterImpl(this.connection,token)}}createWorkDoneProgress(){if(this._progressSupported){const token=(0,uuid_1.generateUuid)();return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.type,{token}).then(()=>{const result=new WorkDoneProgressServerReporterImpl(this.connection,token);return result})}else{return Promise.resolve(new NullProgressServerReporter)}}}};exports2.ProgressFeature=ProgressFeature;var ResultProgress;(function(ResultProgress2){ResultProgress2.type=new vscode_languageserver_protocol_1.ProgressType})(ResultProgress||(ResultProgress={}));var ResultProgressReporterImpl=class{constructor(_connection,_token){this._connection=_connection;this._token=_token}report(data){this._connection.sendProgress(ResultProgress.type,this._token,data)}};function attachPartialResult(connection2,params){if(params===void 0||params.partialResultToken===void 0){return void 0}const token=params.partialResultToken;delete params.partialResultToken;return new ResultProgressReporterImpl(connection2,token)}exports2.attachPartialResult=attachPartialResult}});var require_configuration=__commonJS({"server/node_modules/vscode-languageserver/lib/common/configuration.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.ConfigurationFeature=void 0;var vscode_languageserver_protocol_1=require_main3();var Is2=require_is();var ConfigurationFeature=Base=>{return class extends Base{getConfiguration(arg){if(!arg){return this._getConfiguration({})}else if(Is2.string(arg)){return this._getConfiguration({section:arg})}else{return this._getConfiguration(arg)}}_getConfiguration(arg){let params={items:Array.isArray(arg)?arg:[arg]};return this.connection.sendRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type,params).then(result=>{if(Array.isArray(result)){return Array.isArray(arg)?result:result[0]}else{return Array.isArray(arg)?[]:null}})}}};exports2.ConfigurationFeature=ConfigurationFeature}});var require_workspaceFolder=__commonJS({"server/node_modules/vscode-languageserver/lib/common/workspaceFolder.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.WorkspaceFoldersFeature=void 0;var vscode_languageserver_protocol_1=require_main3();var WorkspaceFoldersFeature=Base=>{return class extends Base{constructor(){super();this._notificationIsAutoRegistered=false}initialize(capabilities){super.initialize(capabilities);let workspaceCapabilities=capabilities.workspace;if(workspaceCapabilities&&workspaceCapabilities.workspaceFolders){this._onDidChangeWorkspaceFolders=new vscode_languageserver_protocol_1.Emitter;this.connection.onNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type,params=>{this._onDidChangeWorkspaceFolders.fire(params.event)})}}fillServerCapabilities(capabilities){super.fillServerCapabilities(capabilities);const changeNotifications=capabilities.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=changeNotifications===true||typeof changeNotifications==="string"}getWorkspaceFolders(){return this.connection.sendRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders){throw new Error("Client doesn't support sending workspace folder change events.")}if(!this._notificationIsAutoRegistered&&!this._unregistration){this._unregistration=this.connection.client.register(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type)}return this._onDidChangeWorkspaceFolders.event}}};exports2.WorkspaceFoldersFeature=WorkspaceFoldersFeature}});var require_callHierarchy=__commonJS({"server/node_modules/vscode-languageserver/lib/common/callHierarchy.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.CallHierarchyFeature=void 0;var vscode_languageserver_protocol_1=require_main3();var CallHierarchyFeature=Base=>{return class extends Base{get callHierarchy(){return{onPrepare:handler=>{return this.connection.onRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type,(params,cancel)=>{return handler(params,cancel,this.attachWorkDoneProgress(params),void 0)})},onIncomingCalls:handler=>{const type=vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(type,(params,cancel)=>{return handler(params,cancel,this.attachWorkDoneProgress(params),this.attachPartialResultProgress(type,params))})},onOutgoingCalls:handler=>{const type=vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(type,(params,cancel)=>{return handler(params,cancel,this.attachWorkDoneProgress(params),this.attachPartialResultProgress(type,params))})}}}}};exports2.CallHierarchyFeature=CallHierarchyFeature}});var require_semanticTokens=__commonJS({"server/node_modules/vscode-languageserver/lib/common/semanticTokens.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.SemanticTokensBuilder=exports2.SemanticTokensDiff=exports2.SemanticTokensFeature=void 0;var vscode_languageserver_protocol_1=require_main3();var SemanticTokensFeature=Base=>{return class extends Base{get semanticTokens(){return{refresh:()=>{return this.connection.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRefreshRequest.type)},on:handler=>{const type=vscode_languageserver_protocol_1.SemanticTokensRequest.type;return this.connection.onRequest(type,(params,cancel)=>{return handler(params,cancel,this.attachWorkDoneProgress(params),this.attachPartialResultProgress(type,params))})},onDelta:handler=>{const type=vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type;return this.connection.onRequest(type,(params,cancel)=>{return handler(params,cancel,this.attachWorkDoneProgress(params),this.attachPartialResultProgress(type,params))})},onRange:handler=>{const type=vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type;return this.connection.onRequest(type,(params,cancel)=>{return handler(params,cancel,this.attachWorkDoneProgress(params),this.attachPartialResultProgress(type,params))})}}}}};exports2.SemanticTokensFeature=SemanticTokensFeature;var SemanticTokensDiff=class{constructor(originalSequence,modifiedSequence){this.originalSequence=originalSequence;this.modifiedSequence=modifiedSequence}computeDiff(){const originalLength=this.originalSequence.length;const modifiedLength=this.modifiedSequence.length;let startIndex=0;while(startIndex<modifiedLength&&startIndex<originalLength&&this.originalSequence[startIndex]===this.modifiedSequence[startIndex]){startIndex++}if(startIndex<modifiedLength&&startIndex<originalLength){let originalEndIndex=originalLength-1;let modifiedEndIndex=modifiedLength-1;while(originalEndIndex>=startIndex&&modifiedEndIndex>=startIndex&&this.originalSequence[originalEndIndex]===this.modifiedSequence[modifiedEndIndex]){originalEndIndex--;modifiedEndIndex--}if(originalEndIndex<startIndex||modifiedEndIndex<startIndex){originalEndIndex++;modifiedEndIndex++}const deleteCount=originalEndIndex-startIndex+1;const newData=this.modifiedSequence.slice(startIndex,modifiedEndIndex+1);if(newData.length===1&&newData[0]===this.originalSequence[originalEndIndex]){return[{start:startIndex,deleteCount:deleteCount-1}]}else{return[{start:startIndex,deleteCount,data:newData}]}}else if(startIndex<modifiedLength){return[{start:startIndex,deleteCount:0,data:this.modifiedSequence.slice(startIndex)}]}else if(startIndex<originalLength){return[{start:startIndex,deleteCount:originalLength-startIndex}]}else{return[]}}};exports2.SemanticTokensDiff=SemanticTokensDiff;var SemanticTokensBuilder=class{constructor(){this._prevData=void 0;this.initialize()}initialize(){this._id=Date.now();this._prevLine=0;this._prevChar=0;this._data=[];this._dataLen=0}push(line,char,length,tokenType,tokenModifiers){let pushLine=line;let pushChar=char;if(this._dataLen>0){pushLine-=this._prevLine;if(pushLine===0){pushChar-=this._prevChar}}this._data[this._dataLen++]=pushLine;this._data[this._dataLen++]=pushChar;this._data[this._dataLen++]=length;this._data[this._dataLen++]=tokenType;this._data[this._dataLen++]=tokenModifiers;this._prevLine=line;this._prevChar=char}get id(){return this._id.toString()}previousResult(id){if(this.id===id){this._prevData=this._data}this.initialize()}build(){this._prevData=void 0;return{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){return{resultId:this.id,edits:new SemanticTokensDiff(this._prevData,this._data).computeDiff()}}else{return this.build()}}};exports2.SemanticTokensBuilder=SemanticTokensBuilder}});var require_showDocument=__commonJS({"server/node_modules/vscode-languageserver/lib/common/showDocument.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.ShowDocumentFeature=void 0;var vscode_languageserver_protocol_1=require_main3();var ShowDocumentFeature=Base=>{return class extends Base{showDocument(params){return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowDocumentRequest.type,params)}}};exports2.ShowDocumentFeature=ShowDocumentFeature}});var require_fileOperations=__commonJS({"server/node_modules/vscode-languageserver/lib/common/fileOperations.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.FileOperationsFeature=void 0;var vscode_languageserver_protocol_1=require_main3();var FileOperationsFeature=Base=>{return class extends Base{onDidCreateFiles(handler){return this.connection.onNotification(vscode_languageserver_protocol_1.DidCreateFilesNotification.type,params=>{handler(params)})}onDidRenameFiles(handler){return this.connection.onNotification(vscode_languageserver_protocol_1.DidRenameFilesNotification.type,params=>{handler(params)})}onDidDeleteFiles(handler){return this.connection.onNotification(vscode_languageserver_protocol_1.DidDeleteFilesNotification.type,params=>{handler(params)})}onWillCreateFiles(handler){return this.connection.onRequest(vscode_languageserver_protocol_1.WillCreateFilesRequest.type,(params,cancel)=>{return handler(params,cancel)})}onWillRenameFiles(handler){return this.connection.onRequest(vscode_languageserver_protocol_1.WillRenameFilesRequest.type,(params,cancel)=>{return handler(params,cancel)})}onWillDeleteFiles(handler){return this.connection.onRequest(vscode_languageserver_protocol_1.WillDeleteFilesRequest.type,(params,cancel)=>{return handler(params,cancel)})}}};exports2.FileOperationsFeature=FileOperationsFeature}});var require_linkedEditingRange=__commonJS({"server/node_modules/vscode-languageserver/lib/common/linkedEditingRange.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.LinkedEditingRangeFeature=void 0;var vscode_languageserver_protocol_1=require_main3();var LinkedEditingRangeFeature=Base=>{return class extends Base{onLinkedEditingRange(handler){return this.connection.onRequest(vscode_languageserver_protocol_1.LinkedEditingRangeRequest.type,(params,cancel)=>{return handler(params,cancel,this.attachWorkDoneProgress(params),void 0)})}}};exports2.LinkedEditingRangeFeature=LinkedEditingRangeFeature}});var require_typeHierarchy=__commonJS({"server/node_modules/vscode-languageserver/lib/common/typeHierarchy.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.TypeHierarchyFeature=void 0;var vscode_languageserver_protocol_1=require_main3();var TypeHierarchyFeature=Base=>{return class extends Base{get typeHierarchy(){return{onPrepare:handler=>{return this.connection.onRequest(vscode_languageserver_protocol_1.TypeHierarchyPrepareRequest.type,(params,cancel)=>{return handler(params,cancel,this.attachWorkDoneProgress(params),void 0)})},onSupertypes:handler=>{const type=vscode_languageserver_protocol_1.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(type,(params,cancel)=>{return handler(params,cancel,this.attachWorkDoneProgress(params),this.attachPartialResultProgress(type,params))})},onSubtypes:handler=>{const type=vscode_languageserver_protocol_1.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(type,(params,cancel)=>{return handler(params,cancel,this.attachWorkDoneProgress(params),this.attachPartialResultProgress(type,params))})}}}}};exports2.TypeHierarchyFeature=TypeHierarchyFeature}});var require_inlineValue=__commonJS({"server/node_modules/vscode-languageserver/lib/common/inlineValue.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.InlineValueFeature=void 0;var vscode_languageserver_protocol_1=require_main3();var InlineValueFeature=Base=>{return class extends Base{get inlineValue(){return{refresh:()=>{return this.connection.sendRequest(vscode_languageserver_protocol_1.InlineValueRefreshRequest.type)},on:handler=>{return this.connection.onRequest(vscode_languageserver_protocol_1.InlineValueRequest.type,(params,cancel)=>{return handler(params,cancel,this.attachWorkDoneProgress(params))})}}}}};exports2.InlineValueFeature=InlineValueFeature}});var require_foldingRange=__commonJS({"server/node_modules/vscode-languageserver/lib/common/foldingRange.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.FoldingRangeFeature=void 0;var vscode_languageserver_protocol_1=require_main3();var FoldingRangeFeature=Base=>{return class extends Base{get foldingRange(){return{refresh:()=>{return this.connection.sendRequest(vscode_languageserver_protocol_1.FoldingRangeRefreshRequest.type)},on:handler=>{const type=vscode_languageserver_protocol_1.FoldingRangeRequest.type;return this.connection.onRequest(type,(params,cancel)=>{return handler(params,cancel,this.attachWorkDoneProgress(params),this.attachPartialResultProgress(type,params))})}}}}};exports2.FoldingRangeFeature=FoldingRangeFeature}});var require_inlayHint=__commonJS({"server/node_modules/vscode-languageserver/lib/common/inlayHint.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.InlayHintFeature=void 0;var vscode_languageserver_protocol_1=require_main3();var InlayHintFeature=Base=>{return class extends Base{get inlayHint(){return{refresh:()=>{return this.connection.sendRequest(vscode_languageserver_protocol_1.InlayHintRefreshRequest.type)},on:handler=>{return this.connection.onRequest(vscode_languageserver_protocol_1.InlayHintRequest.type,(params,cancel)=>{return handler(params,cancel,this.attachWorkDoneProgress(params))})},resolve:handler=>{return this.connection.onRequest(vscode_languageserver_protocol_1.InlayHintResolveRequest.type,(params,cancel)=>{return handler(params,cancel)})}}}}};exports2.InlayHintFeature=InlayHintFeature}});var require_diagnostic=__commonJS({"server/node_modules/vscode-languageserver/lib/common/diagnostic.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.DiagnosticFeature=void 0;var vscode_languageserver_protocol_1=require_main3();var DiagnosticFeature=Base=>{return class extends Base{get diagnostics(){return{refresh:()=>{return this.connection.sendRequest(vscode_languageserver_protocol_1.DiagnosticRefreshRequest.type)},on:handler=>{return this.connection.onRequest(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type,(params,cancel)=>{return handler(params,cancel,this.attachWorkDoneProgress(params),this.attachPartialResultProgress(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.partialResult,params))})},onWorkspace:handler=>{return this.connection.onRequest(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.type,(params,cancel)=>{return handler(params,cancel,this.attachWorkDoneProgress(params),this.attachPartialResultProgress(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.partialResult,params))})}}}}};exports2.DiagnosticFeature=DiagnosticFeature}});var require_textDocuments=__commonJS({"server/node_modules/vscode-languageserver/lib/common/textDocuments.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.TextDocuments=void 0;var vscode_languageserver_protocol_1=require_main3();var TextDocuments=class{constructor(configuration){this._configuration=configuration;this._syncedDocuments=new Map;this._onDidChangeContent=new vscode_languageserver_protocol_1.Emitter;this._onDidOpen=new vscode_languageserver_protocol_1.Emitter;this._onDidClose=new vscode_languageserver_protocol_1.Emitter;this._onDidSave=new vscode_languageserver_protocol_1.Emitter;this._onWillSave=new vscode_languageserver_protocol_1.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(handler){this._willSaveWaitUntil=handler}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(uri){return this._syncedDocuments.get(uri)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(connection2){connection2.__textDocumentSync=vscode_languageserver_protocol_1.TextDocumentSyncKind.Incremental;const disposables=[];disposables.push(connection2.onDidOpenTextDocument(event=>{const td=event.textDocument;const document=this._configuration.create(td.uri,td.languageId,td.version,td.text);this._syncedDocuments.set(td.uri,document);const toFire=Object.freeze({document});this._onDidOpen.fire(toFire);this._onDidChangeContent.fire(toFire)}));disposables.push(connection2.onDidChangeTextDocument(event=>{const td=event.textDocument;const changes=event.contentChanges;if(changes.length===0){return}const{version}=td;if(version===null||version===void 0){throw new Error(`Received document change event for ${td.uri} without valid version identifier`)}let syncedDocument=this._syncedDocuments.get(td.uri);if(syncedDocument!==void 0){syncedDocument=this._configuration.update(syncedDocument,changes,version);this._syncedDocuments.set(td.uri,syncedDocument);this._onDidChangeContent.fire(Object.freeze({document:syncedDocument}))}}));disposables.push(connection2.onDidCloseTextDocument(event=>{let syncedDocument=this._syncedDocuments.get(event.textDocument.uri);if(syncedDocument!==void 0){this._syncedDocuments.delete(event.textDocument.uri);this._onDidClose.fire(Object.freeze({document:syncedDocument}))}}));disposables.push(connection2.onWillSaveTextDocument(event=>{let syncedDocument=this._syncedDocuments.get(event.textDocument.uri);if(syncedDocument!==void 0){this._onWillSave.fire(Object.freeze({document:syncedDocument,reason:event.reason}))}}));disposables.push(connection2.onWillSaveTextDocumentWaitUntil((event,token)=>{let syncedDocument=this._syncedDocuments.get(event.textDocument.uri);if(syncedDocument!==void 0&&this._willSaveWaitUntil){return this._willSaveWaitUntil(Object.freeze({document:syncedDocument,reason:event.reason}),token)}else{return[]}}));disposables.push(connection2.onDidSaveTextDocument(event=>{let syncedDocument=this._syncedDocuments.get(event.textDocument.uri);if(syncedDocument!==void 0){this._onDidSave.fire(Object.freeze({document:syncedDocument}))}}));return vscode_languageserver_protocol_1.Disposable.create(()=>{disposables.forEach(disposable=>disposable.dispose())})}};exports2.TextDocuments=TextDocuments}});var require_notebook=__commonJS({"server/node_modules/vscode-languageserver/lib/common/notebook.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.NotebookDocuments=exports2.NotebookSyncFeature=void 0;var vscode_languageserver_protocol_1=require_main3();var textDocuments_1=require_textDocuments();var NotebookSyncFeature=Base=>{return class extends Base{get synchronization(){return{onDidOpenNotebookDocument:handler=>{return this.connection.onNotification(vscode_languageserver_protocol_1.DidOpenNotebookDocumentNotification.type,params=>{handler(params)})},onDidChangeNotebookDocument:handler=>{return this.connection.onNotification(vscode_languageserver_protocol_1.DidChangeNotebookDocumentNotification.type,params=>{handler(params)})},onDidSaveNotebookDocument:handler=>{return this.connection.onNotification(vscode_languageserver_protocol_1.DidSaveNotebookDocumentNotification.type,params=>{handler(params)})},onDidCloseNotebookDocument:handler=>{return this.connection.onNotification(vscode_languageserver_protocol_1.DidCloseNotebookDocumentNotification.type,params=>{handler(params)})}}}}};exports2.NotebookSyncFeature=NotebookSyncFeature;var CellTextDocumentConnection=class _CellTextDocumentConnection{onDidOpenTextDocument(handler){this.openHandler=handler;return vscode_languageserver_protocol_1.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(params){this.openHandler&&this.openHandler(params)}onDidChangeTextDocument(handler){this.changeHandler=handler;return vscode_languageserver_protocol_1.Disposable.create(()=>{this.changeHandler=handler})}changeTextDocument(params){this.changeHandler&&this.changeHandler(params)}onDidCloseTextDocument(handler){this.closeHandler=handler;return vscode_languageserver_protocol_1.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(params){this.closeHandler&&this.closeHandler(params)}onWillSaveTextDocument(){return _CellTextDocumentConnection.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return _CellTextDocumentConnection.NULL_DISPOSE}onDidSaveTextDocument(){return _CellTextDocumentConnection.NULL_DISPOSE}};CellTextDocumentConnection.NULL_DISPOSE=Object.freeze({dispose:()=>{}});var NotebookDocuments=class{constructor(configurationOrTextDocuments){if(configurationOrTextDocuments instanceof textDocuments_1.TextDocuments){this._cellTextDocuments=configurationOrTextDocuments}else{this._cellTextDocuments=new textDocuments_1.TextDocuments(configurationOrTextDocuments)}this.notebookDocuments=new Map;this.notebookCellMap=new Map;this._onDidOpen=new vscode_languageserver_protocol_1.Emitter;this._onDidChange=new vscode_languageserver_protocol_1.Emitter;this._onDidSave=new vscode_languageserver_protocol_1.Emitter;this._onDidClose=new vscode_languageserver_protocol_1.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(cell){return this._cellTextDocuments.get(cell.document)}getNotebookDocument(uri){return this.notebookDocuments.get(uri)}getNotebookCell(uri){const value=this.notebookCellMap.get(uri);return value&&value[0]}findNotebookDocumentForCell(cell){const key=typeof cell==="string"?cell:cell.document;const value=this.notebookCellMap.get(key);return value&&value[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(connection2){const cellTextDocumentConnection=new CellTextDocumentConnection;const disposables=[];disposables.push(this.cellTextDocuments.listen(cellTextDocumentConnection));disposables.push(connection2.notebooks.synchronization.onDidOpenNotebookDocument(params=>{this.notebookDocuments.set(params.notebookDocument.uri,params.notebookDocument);for(const cellTextDocument of params.cellTextDocuments){cellTextDocumentConnection.openTextDocument({textDocument:cellTextDocument})}this.updateCellMap(params.notebookDocument);this._onDidOpen.fire(params.notebookDocument)}));disposables.push(connection2.notebooks.synchronization.onDidChangeNotebookDocument(params=>{const notebookDocument=this.notebookDocuments.get(params.notebookDocument.uri);if(notebookDocument===void 0){return}notebookDocument.version=params.notebookDocument.version;const oldMetadata=notebookDocument.metadata;let metadataChanged=false;const change=params.change;if(change.metadata!==void 0){metadataChanged=true;notebookDocument.metadata=change.metadata}const opened=[];const closed=[];const data=[];const text=[];if(change.cells!==void 0){const changedCells=change.cells;if(changedCells.structure!==void 0){const array=changedCells.structure.array;notebookDocument.cells.splice(array.start,array.deleteCount,...array.cells!==void 0?array.cells:[]);if(changedCells.structure.didOpen!==void 0){for(const open of changedCells.structure.didOpen){cellTextDocumentConnection.openTextDocument({textDocument:open});opened.push(open.uri)}}if(changedCells.structure.didClose){for(const close of changedCells.structure.didClose){cellTextDocumentConnection.closeTextDocument({textDocument:close});closed.push(close.uri)}}}if(changedCells.data!==void 0){const cellUpdates=new Map(changedCells.data.map(cell=>[cell.document,cell]));for(let i=0;i<=notebookDocument.cells.length;i++){const change2=cellUpdates.get(notebookDocument.cells[i].document);if(change2!==void 0){const old=notebookDocument.cells.splice(i,1,change2);data.push({old:old[0],new:change2});cellUpdates.delete(change2.document);if(cellUpdates.size===0){break}}}}if(changedCells.textContent!==void 0){for(const cellTextDocument of changedCells.textContent){cellTextDocumentConnection.changeTextDocument({textDocument:cellTextDocument.document,contentChanges:cellTextDocument.changes});text.push(cellTextDocument.document.uri)}}}this.updateCellMap(notebookDocument);const changeEvent={notebookDocument};if(metadataChanged){changeEvent.metadata={old:oldMetadata,new:notebookDocument.metadata}}const added=[];for(const open of opened){added.push(this.getNotebookCell(open))}const removed=[];for(const close of closed){removed.push(this.getNotebookCell(close))}const textContent=[];for(const change2 of text){textContent.push(this.getNotebookCell(change2))}if(added.length>0||removed.length>0||data.length>0||textContent.length>0){changeEvent.cells={added,removed,changed:{data,textContent}}}if(changeEvent.metadata!==void 0||changeEvent.cells!==void 0){this._onDidChange.fire(changeEvent)}}));disposables.push(connection2.notebooks.synchronization.onDidSaveNotebookDocument(params=>{const notebookDocument=this.notebookDocuments.get(params.notebookDocument.uri);if(notebookDocument===void 0){return}this._onDidSave.fire(notebookDocument)}));disposables.push(connection2.notebooks.synchronization.onDidCloseNotebookDocument(params=>{const notebookDocument=this.notebookDocuments.get(params.notebookDocument.uri);if(notebookDocument===void 0){return}this._onDidClose.fire(notebookDocument);for(const cellTextDocument of params.cellTextDocuments){cellTextDocumentConnection.closeTextDocument({textDocument:cellTextDocument})}this.notebookDocuments.delete(params.notebookDocument.uri);for(const cell of notebookDocument.cells){this.notebookCellMap.delete(cell.document)}}));return vscode_languageserver_protocol_1.Disposable.create(()=>{disposables.forEach(disposable=>disposable.dispose())})}updateCellMap(notebookDocument){for(const cell of notebookDocument.cells){this.notebookCellMap.set(cell.document,[cell,notebookDocument])}}};exports2.NotebookDocuments=NotebookDocuments}});var require_moniker=__commonJS({"server/node_modules/vscode-languageserver/lib/common/moniker.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.MonikerFeature=void 0;var vscode_languageserver_protocol_1=require_main3();var MonikerFeature=Base=>{return class extends Base{get moniker(){return{on:handler=>{const type=vscode_languageserver_protocol_1.MonikerRequest.type;return this.connection.onRequest(type,(params,cancel)=>{return handler(params,cancel,this.attachWorkDoneProgress(params),this.attachPartialResultProgress(type,params))})}}}}};exports2.MonikerFeature=MonikerFeature}});var require_server=__commonJS({"server/node_modules/vscode-languageserver/lib/common/server.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.createConnection=exports2.combineFeatures=exports2.combineNotebooksFeatures=exports2.combineLanguagesFeatures=exports2.combineWorkspaceFeatures=exports2.combineWindowFeatures=exports2.combineClientFeatures=exports2.combineTracerFeatures=exports2.combineTelemetryFeatures=exports2.combineConsoleFeatures=exports2._NotebooksImpl=exports2._LanguagesImpl=exports2.BulkUnregistration=exports2.BulkRegistration=exports2.ErrorMessageTracker=void 0;var vscode_languageserver_protocol_1=require_main3();var Is2=require_is();var UUID=require_uuid();var progress_1=require_progress();var configuration_1=require_configuration();var workspaceFolder_1=require_workspaceFolder();var callHierarchy_1=require_callHierarchy();var semanticTokens_1=require_semanticTokens();var showDocument_1=require_showDocument();var fileOperations_1=require_fileOperations();var linkedEditingRange_1=require_linkedEditingRange();var typeHierarchy_1=require_typeHierarchy();var inlineValue_1=require_inlineValue();var foldingRange_1=require_foldingRange();var inlayHint_1=require_inlayHint();var diagnostic_1=require_diagnostic();var notebook_1=require_notebook();var moniker_1=require_moniker();function null2Undefined(value){if(value===null){return void 0}return value}var ErrorMessageTracker=class{constructor(){this._messages=Object.create(null)}add(message){let count=this._messages[message];if(!count){count=0}count++;this._messages[message]=count}sendErrors(connection2){Object.keys(this._messages).forEach(message=>{connection2.window.showErrorMessage(message)})}};exports2.ErrorMessageTracker=ErrorMessageTracker;var RemoteConsoleImpl=class{constructor(){}rawAttach(connection2){this._rawConnection=connection2}attach(connection2){this._connection=connection2}get connection(){if(!this._connection){throw new Error("Remote is not attached to a connection yet.")}return this._connection}fillServerCapabilities(_capabilities){}initialize(_capabilities){}error(message){this.send(vscode_languageserver_protocol_1.MessageType.Error,message)}warn(message){this.send(vscode_languageserver_protocol_1.MessageType.Warning,message)}info(message){this.send(vscode_languageserver_protocol_1.MessageType.Info,message)}log(message){this.send(vscode_languageserver_protocol_1.MessageType.Log,message)}debug(message){this.send(vscode_languageserver_protocol_1.MessageType.Debug,message)}send(type,message){if(this._rawConnection){this._rawConnection.sendNotification(vscode_languageserver_protocol_1.LogMessageNotification.type,{type,message}).catch(()=>{(0,vscode_languageserver_protocol_1.RAL)().console.error(`Sending log message failed`)})}}};var _RemoteWindowImpl=class{constructor(){}attach(connection2){this._connection=connection2}get connection(){if(!this._connection){throw new Error("Remote is not attached to a connection yet.")}return this._connection}initialize(_capabilities){}fillServerCapabilities(_capabilities){}showErrorMessage(message,...actions){let params={type:vscode_languageserver_protocol_1.MessageType.Error,message,actions};return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type,params).then(null2Undefined)}showWarningMessage(message,...actions){let params={type:vscode_languageserver_protocol_1.MessageType.Warning,message,actions};return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type,params).then(null2Undefined)}showInformationMessage(message,...actions){let params={type:vscode_languageserver_protocol_1.MessageType.Info,message,actions};return this.connection.sendRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type,params).then(null2Undefined)}};var RemoteWindowImpl=(0,showDocument_1.ShowDocumentFeature)((0,progress_1.ProgressFeature)(_RemoteWindowImpl));var BulkRegistration;(function(BulkRegistration2){function create(){return new BulkRegistrationImpl}BulkRegistration2.create=create})(BulkRegistration||(exports2.BulkRegistration=BulkRegistration={}));var BulkRegistrationImpl=class{constructor(){this._registrations=[];this._registered=new Set}add(type,registerOptions){const method=Is2.string(type)?type:type.method;if(this._registered.has(method)){throw new Error(`${method} is already added to this registration`)}const id=UUID.generateUuid();this._registrations.push({id,method,registerOptions:registerOptions||{}});this._registered.add(method)}asRegistrationParams(){return{registrations:this._registrations}}};var BulkUnregistration;(function(BulkUnregistration2){function create(){return new BulkUnregistrationImpl(void 0,[])}BulkUnregistration2.create=create})(BulkUnregistration||(exports2.BulkUnregistration=BulkUnregistration={}));var BulkUnregistrationImpl=class{constructor(_connection,unregistrations){this._connection=_connection;this._unregistrations=new Map;unregistrations.forEach(unregistration=>{this._unregistrations.set(unregistration.method,unregistration)})}get isAttached(){return!!this._connection}attach(connection2){this._connection=connection2}add(unregistration){this._unregistrations.set(unregistration.method,unregistration)}dispose(){let unregistrations=[];for(let unregistration of this._unregistrations.values()){unregistrations.push(unregistration)}let params={unregisterations:unregistrations};this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type,params).catch(()=>{this._connection.console.info(`Bulk unregistration failed.`)})}disposeSingle(arg){const method=Is2.string(arg)?arg:arg.method;const unregistration=this._unregistrations.get(method);if(!unregistration){return false}let params={unregisterations:[unregistration]};this._connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type,params).then(()=>{this._unregistrations.delete(method)},_error=>{this._connection.console.info(`Un-registering request handler for ${unregistration.id} failed.`)});return true}};var RemoteClientImpl=class{attach(connection2){this._connection=connection2}get connection(){if(!this._connection){throw new Error("Remote is not attached to a connection yet.")}return this._connection}initialize(_capabilities){}fillServerCapabilities(_capabilities){}register(typeOrRegistrations,registerOptionsOrType,registerOptions){if(typeOrRegistrations instanceof BulkRegistrationImpl){return this.registerMany(typeOrRegistrations)}else if(typeOrRegistrations instanceof BulkUnregistrationImpl){return this.registerSingle1(typeOrRegistrations,registerOptionsOrType,registerOptions)}else{return this.registerSingle2(typeOrRegistrations,registerOptionsOrType)}}registerSingle1(unregistration,type,registerOptions){const method=Is2.string(type)?type:type.method;const id=UUID.generateUuid();let params={registrations:[{id,method,registerOptions:registerOptions||{}}]};if(!unregistration.isAttached){unregistration.attach(this.connection)}return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type,params).then(_result=>{unregistration.add({id,method});return unregistration},_error=>{this.connection.console.info(`Registering request handler for ${method} failed.`);return Promise.reject(_error)})}registerSingle2(type,registerOptions){const method=Is2.string(type)?type:type.method;const id=UUID.generateUuid();let params={registrations:[{id,method,registerOptions:registerOptions||{}}]};return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type,params).then(_result=>{return vscode_languageserver_protocol_1.Disposable.create(()=>{this.unregisterSingle(id,method).catch(()=>{this.connection.console.info(`Un-registering capability with id ${id} failed.`)})})},_error=>{this.connection.console.info(`Registering request handler for ${method} failed.`);return Promise.reject(_error)})}unregisterSingle(id,method){let params={unregisterations:[{id,method}]};return this.connection.sendRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type,params).catch(()=>{this.connection.console.info(`Un-registering request handler for ${id} failed.`)})}registerMany(registrations){let params=registrations.asRegistrationParams();return this.connection.sendRequest(vscode_languageserver_protocol_1.RegistrationRequest.type,params).then(()=>{return new BulkUnregistrationImpl(this._connection,params.registrations.map(registration=>{return{id:registration.id,method:registration.method}}))},_error=>{this.connection.console.info(`Bulk registration failed.`);return Promise.reject(_error)})}};var _RemoteWorkspaceImpl=class{constructor(){}attach(connection2){this._connection=connection2}get connection(){if(!this._connection){throw new Error("Remote is not attached to a connection yet.")}return this._connection}initialize(_capabilities){}fillServerCapabilities(_capabilities){}applyEdit(paramOrEdit){function isApplyWorkspaceEditParams(value){return value&&!!value.edit}let params=isApplyWorkspaceEditParams(paramOrEdit)?paramOrEdit:{edit:paramOrEdit};return this.connection.sendRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type,params)}};var RemoteWorkspaceImpl=(0,fileOperations_1.FileOperationsFeature)((0,workspaceFolder_1.WorkspaceFoldersFeature)((0,configuration_1.ConfigurationFeature)(_RemoteWorkspaceImpl)));var TracerImpl=class{constructor(){this._trace=vscode_languageserver_protocol_1.Trace.Off}attach(connection2){this._connection=connection2}get connection(){if(!this._connection){throw new Error("Remote is not attached to a connection yet.")}return this._connection}initialize(_capabilities){}fillServerCapabilities(_capabilities){}set trace(value){this._trace=value}log(message,verbose){if(this._trace===vscode_languageserver_protocol_1.Trace.Off){return}this.connection.sendNotification(vscode_languageserver_protocol_1.LogTraceNotification.type,{message,verbose:this._trace===vscode_languageserver_protocol_1.Trace.Verbose?verbose:void 0}).catch(()=>{})}};var TelemetryImpl=class{constructor(){}attach(connection2){this._connection=connection2}get connection(){if(!this._connection){throw new Error("Remote is not attached to a connection yet.")}return this._connection}initialize(_capabilities){}fillServerCapabilities(_capabilities){}logEvent(data){this.connection.sendNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type,data).catch(()=>{this.connection.console.log(`Sending TelemetryEventNotification failed`)})}};var _LanguagesImpl=class{constructor(){}attach(connection2){this._connection=connection2}get connection(){if(!this._connection){throw new Error("Remote is not attached to a connection yet.")}return this._connection}initialize(_capabilities){}fillServerCapabilities(_capabilities){}attachWorkDoneProgress(params){return(0,progress_1.attachWorkDone)(this.connection,params)}attachPartialResultProgress(_type,params){return(0,progress_1.attachPartialResult)(this.connection,params)}};exports2._LanguagesImpl=_LanguagesImpl;var LanguagesImpl=(0,foldingRange_1.FoldingRangeFeature)((0,moniker_1.MonikerFeature)((0,diagnostic_1.DiagnosticFeature)((0,inlayHint_1.InlayHintFeature)((0,inlineValue_1.InlineValueFeature)((0,typeHierarchy_1.TypeHierarchyFeature)((0,linkedEditingRange_1.LinkedEditingRangeFeature)((0,semanticTokens_1.SemanticTokensFeature)((0,callHierarchy_1.CallHierarchyFeature)(_LanguagesImpl)))))))));var _NotebooksImpl=class{constructor(){}attach(connection2){this._connection=connection2}get connection(){if(!this._connection){throw new Error("Remote is not attached to a connection yet.")}return this._connection}initialize(_capabilities){}fillServerCapabilities(_capabilities){}attachWorkDoneProgress(params){return(0,progress_1.attachWorkDone)(this.connection,params)}attachPartialResultProgress(_type,params){return(0,progress_1.attachPartialResult)(this.connection,params)}};exports2._NotebooksImpl=_NotebooksImpl;var NotebooksImpl=(0,notebook_1.NotebookSyncFeature)(_NotebooksImpl);function combineConsoleFeatures(one,two){return function(Base){return two(one(Base))}}exports2.combineConsoleFeatures=combineConsoleFeatures;function combineTelemetryFeatures(one,two){return function(Base){return two(one(Base))}}exports2.combineTelemetryFeatures=combineTelemetryFeatures;function combineTracerFeatures(one,two){return function(Base){return two(one(Base))}}exports2.combineTracerFeatures=combineTracerFeatures;function combineClientFeatures(one,two){return function(Base){return two(one(Base))}}exports2.combineClientFeatures=combineClientFeatures;function combineWindowFeatures(one,two){return function(Base){return two(one(Base))}}exports2.combineWindowFeatures=combineWindowFeatures;function combineWorkspaceFeatures(one,two){return function(Base){return two(one(Base))}}exports2.combineWorkspaceFeatures=combineWorkspaceFeatures;function combineLanguagesFeatures(one,two){return function(Base){return two(one(Base))}}exports2.combineLanguagesFeatures=combineLanguagesFeatures;function combineNotebooksFeatures(one,two){return function(Base){return two(one(Base))}}exports2.combineNotebooksFeatures=combineNotebooksFeatures;function combineFeatures(one,two){function combine(one2,two2,func){if(one2&&two2){return func(one2,two2)}else if(one2){return one2}else{return two2}}let result={__brand:"features",console:combine(one.console,two.console,combineConsoleFeatures),tracer:combine(one.tracer,two.tracer,combineTracerFeatures),telemetry:combine(one.telemetry,two.telemetry,combineTelemetryFeatures),client:combine(one.client,two.client,combineClientFeatures),window:combine(one.window,two.window,combineWindowFeatures),workspace:combine(one.workspace,two.workspace,combineWorkspaceFeatures),languages:combine(one.languages,two.languages,combineLanguagesFeatures),notebooks:combine(one.notebooks,two.notebooks,combineNotebooksFeatures)};return result}exports2.combineFeatures=combineFeatures;function createConnection2(connectionFactory,watchDog,factories){const logger2=factories&&factories.console?new(factories.console(RemoteConsoleImpl)):new RemoteConsoleImpl;const connection2=connectionFactory(logger2);logger2.rawAttach(connection2);const tracer=factories&&factories.tracer?new(factories.tracer(TracerImpl)):new TracerImpl;const telemetry=factories&&factories.telemetry?new(factories.telemetry(TelemetryImpl)):new TelemetryImpl;const client=factories&&factories.client?new(factories.client(RemoteClientImpl)):new RemoteClientImpl;const remoteWindow=factories&&factories.window?new(factories.window(RemoteWindowImpl)):new RemoteWindowImpl;const workspace=factories&&factories.workspace?new(factories.workspace(RemoteWorkspaceImpl)):new RemoteWorkspaceImpl;const languages=factories&&factories.languages?new(factories.languages(LanguagesImpl)):new LanguagesImpl;const notebooks=factories&&factories.notebooks?new(factories.notebooks(NotebooksImpl)):new NotebooksImpl;const allRemotes=[logger2,tracer,telemetry,client,remoteWindow,workspace,languages,notebooks];function asPromise(value){if(value instanceof Promise){return value}else if(Is2.thenable(value)){return new Promise((resolve,reject)=>{value.then(resolved=>resolve(resolved),error=>reject(error))})}else{return Promise.resolve(value)}}let shutdownHandler=void 0;let initializeHandler=void 0;let exitHandler=void 0;let protocolConnection={listen:()=>connection2.listen(),sendRequest:(type,...params)=>connection2.sendRequest(Is2.string(type)?type:type.method,...params),onRequest:(type,handler)=>connection2.onRequest(type,handler),sendNotification:(type,param)=>{const method=Is2.string(type)?type:type.method;return connection2.sendNotification(method,param)},onNotification:(type,handler)=>connection2.onNotification(type,handler),onProgress:connection2.onProgress,sendProgress:connection2.sendProgress,onInitialize:handler=>{initializeHandler=handler;return{dispose:()=>{initializeHandler=void 0}}},onInitialized:handler=>connection2.onNotification(vscode_languageserver_protocol_1.InitializedNotification.type,handler),onShutdown:handler=>{shutdownHandler=handler;return{dispose:()=>{shutdownHandler=void 0}}},onExit:handler=>{exitHandler=handler;return{dispose:()=>{exitHandler=void 0}}},get console(){return logger2},get telemetry(){return telemetry},get tracer(){return tracer},get client(){return client},get window(){return remoteWindow},get workspace(){return workspace},get languages(){return languages},get notebooks(){return notebooks},onDidChangeConfiguration:handler=>connection2.onNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type,handler),onDidChangeWatchedFiles:handler=>connection2.onNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type,handler),__textDocumentSync:void 0,onDidOpenTextDocument:handler=>connection2.onNotification(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type,handler),onDidChangeTextDocument:handler=>connection2.onNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type,handler),onDidCloseTextDocument:handler=>connection2.onNotification(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type,handler),onWillSaveTextDocument:handler=>connection2.onNotification(vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type,handler),onWillSaveTextDocumentWaitUntil:handler=>connection2.onRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type,handler),onDidSaveTextDocument:handler=>connection2.onNotification(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type,handler),sendDiagnostics:params=>connection2.sendNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type,params),onHover:handler=>connection2.onRequest(vscode_languageserver_protocol_1.HoverRequest.type,(params,cancel)=>{return handler(params,cancel,(0,progress_1.attachWorkDone)(connection2,params),void 0)}),onCompletion:handler=>connection2.onRequest(vscode_languageserver_protocol_1.CompletionRequest.type,(params,cancel)=>{return handler(params,cancel,(0,progress_1.attachWorkDone)(connection2,params),(0,progress_1.attachPartialResult)(connection2,params))}),onCompletionResolve:handler=>connection2.onRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type,handler),onSignatureHelp:handler=>connection2.onRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type,(params,cancel)=>{return handler(params,cancel,(0,progress_1.attachWorkDone)(connection2,params),void 0)}),onDeclaration:handler=>connection2.onRequest(vscode_languageserver_protocol_1.DeclarationRequest.type,(params,cancel)=>{return handler(params,cancel,(0,progress_1.attachWorkDone)(connection2,params),(0,progress_1.attachPartialResult)(connection2,params))}),onDefinition:handler=>connection2.onRequest(vscode_languageserver_protocol_1.DefinitionRequest.type,(params,cancel)=>{return handler(params,cancel,(0,progress_1.attachWorkDone)(connection2,params),(0,progress_1.attachPartialResult)(connection2,params))}),onTypeDefinition:handler=>connection2.onRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type,(params,cancel)=>{return handler(params,cancel,(0,progress_1.attachWorkDone)(connection2,params),(0,progress_1.attachPartialResult)(connection2,params))}),onImplementation:handler=>connection2.onRequest(vscode_languageserver_protocol_1.ImplementationRequest.type,(params,cancel)=>{return handler(params,cancel,(0,progress_1.attachWorkDone)(connection2,params),(0,progress_1.attachPartialResult)(connection2,params))}),onReferences:handler=>connection2.onRequest(vscode_languageserver_protocol_1.ReferencesRequest.type,(params,cancel)=>{return handler(params,cancel,(0,progress_1.attachWorkDone)(connection2,params),(0,progress_1.attachPartialResult)(connection2,params))}),onDocumentHighlight:handler=>connection2.onRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type,(params,cancel)=>{return handler(params,cancel,(0,progress_1.attachWorkDone)(connection2,params),(0,progress_1.attachPartialResult)(connection2,params))}),onDocumentSymbol:handler=>connection2.onRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type,(params,cancel)=>{return handler(params,cancel,(0,progress_1.attachWorkDone)(connection2,params),(0,progress_1.attachPartialResult)(connection2,params))}),onWorkspaceSymbol:handler=>connection2.onRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type,(params,cancel)=>{return handler(params,cancel,(0,progress_1.attachWorkDone)(connection2,params),(0,progress_1.attachPartialResult)(connection2,params))}),onWorkspaceSymbolResolve:handler=>connection2.onRequest(vscode_languageserver_protocol_1.WorkspaceSymbolResolveRequest.type,handler),onCodeAction:handler=>connection2.onRequest(vscode_languageserver_protocol_1.CodeActionRequest.type,(params,cancel)=>{return handler(params,cancel,(0,progress_1.attachWorkDone)(connection2,params),(0,progress_1.attachPartialResult)(connection2,params))}),onCodeActionResolve:handler=>connection2.onRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type,(params,cancel)=>{return handler(params,cancel)}),onCodeLens:handler=>connection2.onRequest(vscode_languageserver_protocol_1.CodeLensRequest.type,(params,cancel)=>{return handler(params,cancel,(0,progress_1.attachWorkDone)(connection2,params),(0,progress_1.attachPartialResult)(connection2,params))}),onCodeLensResolve:handler=>connection2.onRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type,(params,cancel)=>{return handler(params,cancel)}),onDocumentFormatting:handler=>connection2.onRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type,(params,cancel)=>{return handler(params,cancel,(0,progress_1.attachWorkDone)(connection2,params),void 0)}),onDocumentRangeFormatting:handler=>connection2.onRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type,(params,cancel)=>{return handler(params,cancel,(0,progress_1.attachWorkDone)(connection2,params),void 0)}),onDocumentOnTypeFormatting:handler=>connection2.onRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type,(params,cancel)=>{return handler(params,cancel)}),onRenameRequest:handler=>connection2.onRequest(vscode_languageserver_protocol_1.RenameRequest.type,(params,cancel)=>{return handler(params,cancel,(0,progress_1.attachWorkDone)(connection2,params),void 0)}),onPrepareRename:handler=>connection2.onRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type,(params,cancel)=>{return handler(params,cancel)}),onDocumentLinks:handler=>connection2.onRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type,(params,cancel)=>{return handler(params,cancel,(0,progress_1.attachWorkDone)(connection2,params),(0,progress_1.attachPartialResult)(connection2,params))}),onDocumentLinkResolve:handler=>connection2.onRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type,(params,cancel)=>{return handler(params,cancel)}),onDocumentColor:handler=>connection2.onRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type,(params,cancel)=>{return handler(params,cancel,(0,progress_1.attachWorkDone)(connection2,params),(0,progress_1.attachPartialResult)(connection2,params))}),onColorPresentation:handler=>connection2.onRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type,(params,cancel)=>{return handler(params,cancel,(0,progress_1.attachWorkDone)(connection2,params),(0,progress_1.attachPartialResult)(connection2,params))}),onFoldingRanges:handler=>connection2.onRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type,(params,cancel)=>{return handler(params,cancel,(0,progress_1.attachWorkDone)(connection2,params),(0,progress_1.attachPartialResult)(connection2,params))}),onSelectionRanges:handler=>connection2.onRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type,(params,cancel)=>{return handler(params,cancel,(0,progress_1.attachWorkDone)(connection2,params),(0,progress_1.attachPartialResult)(connection2,params))}),onExecuteCommand:handler=>connection2.onRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type,(params,cancel)=>{return handler(params,cancel,(0,progress_1.attachWorkDone)(connection2,params),void 0)}),dispose:()=>connection2.dispose()};for(let remote of allRemotes){remote.attach(protocolConnection)}connection2.onRequest(vscode_languageserver_protocol_1.InitializeRequest.type,params=>{watchDog.initialize(params);if(Is2.string(params.trace)){tracer.trace=vscode_languageserver_protocol_1.Trace.fromString(params.trace)}for(let remote of allRemotes){remote.initialize(params.capabilities)}if(initializeHandler){let result=initializeHandler(params,new vscode_languageserver_protocol_1.CancellationTokenSource().token,(0,progress_1.attachWorkDone)(connection2,params),void 0);return asPromise(result).then(value=>{if(value instanceof vscode_languageserver_protocol_1.ResponseError){return value}let result2=value;if(!result2){result2={capabilities:{}}}let capabilities=result2.capabilities;if(!capabilities){capabilities={};result2.capabilities=capabilities}if(capabilities.textDocumentSync===void 0||capabilities.textDocumentSync===null){capabilities.textDocumentSync=Is2.number(protocolConnection.__textDocumentSync)?protocolConnection.__textDocumentSync:vscode_languageserver_protocol_1.TextDocumentSyncKind.None}else if(!Is2.number(capabilities.textDocumentSync)&&!Is2.number(capabilities.textDocumentSync.change)){capabilities.textDocumentSync.change=Is2.number(protocolConnection.__textDocumentSync)?protocolConnection.__textDocumentSync:vscode_languageserver_protocol_1.TextDocumentSyncKind.None}for(let remote of allRemotes){remote.fillServerCapabilities(capabilities)}return result2})}else{let result={capabilities:{textDocumentSync:vscode_languageserver_protocol_1.TextDocumentSyncKind.None}};for(let remote of allRemotes){remote.fillServerCapabilities(result.capabilities)}return result}});connection2.onRequest(vscode_languageserver_protocol_1.ShutdownRequest.type,()=>{watchDog.shutdownReceived=true;if(shutdownHandler){return shutdownHandler(new vscode_languageserver_protocol_1.CancellationTokenSource().token)}else{return void 0}});connection2.onNotification(vscode_languageserver_protocol_1.ExitNotification.type,()=>{try{if(exitHandler){exitHandler()}}finally{if(watchDog.shutdownReceived){watchDog.exit(0)}else{watchDog.exit(1)}}});connection2.onNotification(vscode_languageserver_protocol_1.SetTraceNotification.type,params=>{tracer.trace=vscode_languageserver_protocol_1.Trace.fromString(params.value)});return protocolConnection}exports2.createConnection=createConnection2}});var require_files=__commonJS({"server/node_modules/vscode-languageserver/lib/node/files.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.resolveModulePath=exports2.FileSystem=exports2.resolveGlobalYarnPath=exports2.resolveGlobalNodePath=exports2.resolve=exports2.uriToFilePath=void 0;var url=require("url");var path=require("path");var fs=require("fs");var child_process_1=require("child_process");function uriToFilePath(uri){let parsed=url.parse(uri);if(parsed.protocol!=="file:"||!parsed.path){return void 0}let segments=parsed.path.split("/");for(var i=0,len=segments.length;i<len;i++){segments[i]=decodeURIComponent(segments[i])}if(process.platform==="win32"&&segments.length>1){let first=segments[0];let second=segments[1];if(first.length===0&&second.length>1&&second[1]===":"){segments.shift()}}return path.normalize(segments.join("/"))}exports2.uriToFilePath=uriToFilePath;function isWindows(){return process.platform==="win32"}function resolve(moduleName,nodePath,cwd,tracer){const nodePathKey="NODE_PATH";const app=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((resolve2,reject)=>{let env=process.env;let newEnv=Object.create(null);Object.keys(env).forEach(key=>newEnv[key]=env[key]);if(nodePath&&fs.existsSync(nodePath)){if(newEnv[nodePathKey]){newEnv[nodePathKey]=nodePath+path.delimiter+newEnv[nodePathKey]}else{newEnv[nodePathKey]=nodePath}if(tracer){tracer(`NODE_PATH value is: ${newEnv[nodePathKey]}`)}}newEnv["ELECTRON_RUN_AS_NODE"]="1";try{let cp=(0,child_process_1.fork)("",[],{cwd,env:newEnv,execArgv:["-e",app]});if(cp.pid===void 0){reject(new Error(`Starting process to resolve node module  ${moduleName} failed`));return}cp.on("error",error=>{reject(error)});cp.on("message",message2=>{if(message2.c==="r"){cp.send({c:"e"});if(message2.s){resolve2(message2.r)}else{reject(new Error(`Failed to resolve module: ${moduleName}`))}}});let message={c:"rs",a:moduleName};cp.send(message)}catch(error){reject(error)}})}exports2.resolve=resolve;function resolveGlobalNodePath(tracer){let npmCommand="npm";const env=Object.create(null);Object.keys(process.env).forEach(key=>env[key]=process.env[key]);env["NO_UPDATE_NOTIFIER"]="true";const options={encoding:"utf8",env};if(isWindows()){npmCommand="npm.cmd";options.shell=true}let handler=()=>{};try{process.on("SIGPIPE",handler);let stdout=(0,child_process_1.spawnSync)(npmCommand,["config","get","prefix"],options).stdout;if(!stdout){if(tracer){tracer(`'npm config get prefix' didn't return a value.`)}return void 0}let prefix=stdout.trim();if(tracer){tracer(`'npm config get prefix' value is: ${prefix}`)}if(prefix.length>0){if(isWindows()){return path.join(prefix,"node_modules")}else{return path.join(prefix,"lib","node_modules")}}return void 0}catch(err){return void 0}finally{process.removeListener("SIGPIPE",handler)}}exports2.resolveGlobalNodePath=resolveGlobalNodePath;function resolveGlobalYarnPath(tracer){let yarnCommand="yarn";let options={encoding:"utf8"};if(isWindows()){yarnCommand="yarn.cmd";options.shell=true}let handler=()=>{};try{process.on("SIGPIPE",handler);let results=(0,child_process_1.spawnSync)(yarnCommand,["global","dir","--json"],options);let stdout=results.stdout;if(!stdout){if(tracer){tracer(`'yarn global dir' didn't return a value.`);if(results.stderr){tracer(results.stderr)}}return void 0}let lines=stdout.trim().split(/\r?\n/);for(let line of lines){try{let yarn=JSON.parse(line);if(yarn.type==="log"){return path.join(yarn.data,"node_modules")}}catch(e){}}return void 0}catch(err){return void 0}finally{process.removeListener("SIGPIPE",handler)}}exports2.resolveGlobalYarnPath=resolveGlobalYarnPath;var FileSystem;(function(FileSystem2){let _isCaseSensitive=void 0;function isCaseSensitive(){if(_isCaseSensitive!==void 0){return _isCaseSensitive}if(process.platform==="win32"){_isCaseSensitive=false}else{_isCaseSensitive=!fs.existsSync(__filename.toUpperCase())||!fs.existsSync(__filename.toLowerCase())}return _isCaseSensitive}FileSystem2.isCaseSensitive=isCaseSensitive;function isParent(parent,child){if(isCaseSensitive()){return path.normalize(child).indexOf(path.normalize(parent))===0}else{return path.normalize(child).toLowerCase().indexOf(path.normalize(parent).toLowerCase())===0}}FileSystem2.isParent=isParent})(FileSystem||(exports2.FileSystem=FileSystem={}));function resolveModulePath(workspaceRoot,moduleName,nodePath,tracer){if(nodePath){if(!path.isAbsolute(nodePath)){nodePath=path.join(workspaceRoot,nodePath)}return resolve(moduleName,nodePath,nodePath,tracer).then(value=>{if(FileSystem.isParent(nodePath,value)){return value}else{return Promise.reject(new Error(`Failed to load ${moduleName} from node path location.`))}}).then(void 0,_error=>{return resolve(moduleName,resolveGlobalNodePath(tracer),workspaceRoot,tracer)})}else{return resolve(moduleName,resolveGlobalNodePath(tracer),workspaceRoot,tracer)}}exports2.resolveModulePath=resolveModulePath}});var require_node2=__commonJS({"server/node_modules/vscode-languageserver-protocol/node.js"(exports2,module2){"use strict";module2.exports=require_main3()}});var require_inlineCompletion_proposed=__commonJS({"server/node_modules/vscode-languageserver/lib/common/inlineCompletion.proposed.js"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.InlineCompletionFeature=void 0;var vscode_languageserver_protocol_1=require_main3();var InlineCompletionFeature=Base=>{return class extends Base{get inlineCompletion(){return{on:handler=>{return this.connection.onRequest(vscode_languageserver_protocol_1.InlineCompletionRequest.type,(params,cancel)=>{return handler(params,cancel,this.attachWorkDoneProgress(params))})}}}}};exports2.InlineCompletionFeature=InlineCompletionFeature}});var require_api3=__commonJS({"server/node_modules/vscode-languageserver/lib/common/api.js"(exports2){"use strict";var __createBinding=exports2&&exports2.__createBinding||(Object.create?function(o,m,k,k2){if(k2===void 0)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable)){desc={enumerable:true,get:function(){return m[k]}}}Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){if(k2===void 0)k2=k;o[k2]=m[k]});var __exportStar=exports2&&exports2.__exportStar||function(m,exports3){for(var p in m)if(p!=="default"&&!Object.prototype.hasOwnProperty.call(exports3,p))__createBinding(exports3,m,p)};Object.defineProperty(exports2,"__esModule",{value:true});exports2.ProposedFeatures=exports2.NotebookDocuments=exports2.TextDocuments=exports2.SemanticTokensBuilder=void 0;var semanticTokens_1=require_semanticTokens();Object.defineProperty(exports2,"SemanticTokensBuilder",{enumerable:true,get:function(){return semanticTokens_1.SemanticTokensBuilder}});var ic=require_inlineCompletion_proposed();__exportStar(require_main3(),exports2);var textDocuments_1=require_textDocuments();Object.defineProperty(exports2,"TextDocuments",{enumerable:true,get:function(){return textDocuments_1.TextDocuments}});var notebook_1=require_notebook();Object.defineProperty(exports2,"NotebookDocuments",{enumerable:true,get:function(){return notebook_1.NotebookDocuments}});__exportStar(require_server(),exports2);var ProposedFeatures2;(function(ProposedFeatures3){ProposedFeatures3.all={__brand:"features",languages:ic.InlineCompletionFeature}})(ProposedFeatures2||(exports2.ProposedFeatures=ProposedFeatures2={}))}});var require_main4=__commonJS({"server/node_modules/vscode-languageserver/lib/node/main.js"(exports2){"use strict";var __createBinding=exports2&&exports2.__createBinding||(Object.create?function(o,m,k,k2){if(k2===void 0)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable)){desc={enumerable:true,get:function(){return m[k]}}}Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){if(k2===void 0)k2=k;o[k2]=m[k]});var __exportStar=exports2&&exports2.__exportStar||function(m,exports3){for(var p in m)if(p!=="default"&&!Object.prototype.hasOwnProperty.call(exports3,p))__createBinding(exports3,m,p)};Object.defineProperty(exports2,"__esModule",{value:true});exports2.createConnection=exports2.Files=void 0;var node_util_1=require("node:util");var Is2=require_is();var server_1=require_server();var fm=require_files();var node_1=require_node2();__exportStar(require_node2(),exports2);__exportStar(require_api3(),exports2);var Files;(function(Files2){Files2.uriToFilePath=fm.uriToFilePath;Files2.resolveGlobalNodePath=fm.resolveGlobalNodePath;Files2.resolveGlobalYarnPath=fm.resolveGlobalYarnPath;Files2.resolve=fm.resolve;Files2.resolveModulePath=fm.resolveModulePath})(Files||(exports2.Files=Files={}));var _protocolConnection;function endProtocolConnection(){if(_protocolConnection===void 0){return}try{_protocolConnection.end()}catch(_err){}}var _shutdownReceived=false;var exitTimer=void 0;function setupExitTimer(){const argName="--clientProcessId";function runTimer(value){try{let processId=parseInt(value);if(!isNaN(processId)){exitTimer=setInterval(()=>{try{process.kill(processId,0)}catch(ex){endProtocolConnection();process.exit(_shutdownReceived?0:1)}},3e3)}}catch(e){}}for(let i=2;i<process.argv.length;i++){let arg=process.argv[i];if(arg===argName&&i+1<process.argv.length){runTimer(process.argv[i+1]);return}else{let args=arg.split("=");if(args[0]===argName){runTimer(args[1])}}}}setupExitTimer();var watchDog={initialize:params=>{const processId=params.processId;if(Is2.number(processId)&&exitTimer===void 0){setInterval(()=>{try{process.kill(processId,0)}catch(ex){process.exit(_shutdownReceived?0:1)}},3e3)}},get shutdownReceived(){return _shutdownReceived},set shutdownReceived(value){_shutdownReceived=value},exit:code=>{endProtocolConnection();process.exit(code)}};function createConnection2(arg1,arg2,arg3,arg4){let factories;let input;let output;let options;if(arg1!==void 0&&arg1.__brand==="features"){factories=arg1;arg1=arg2;arg2=arg3;arg3=arg4}if(node_1.ConnectionStrategy.is(arg1)||node_1.ConnectionOptions.is(arg1)){options=arg1}else{input=arg1;output=arg2;options=arg3}return _createConnection(input,output,options,factories)}exports2.createConnection=createConnection2;function _createConnection(input,output,options,factories){let stdio=false;if(!input&&!output&&process.argv.length>2){let port=void 0;let pipeName=void 0;let argv=process.argv.slice(2);for(let i=0;i<argv.length;i++){let arg=argv[i];if(arg==="--node-ipc"){input=new node_1.IPCMessageReader(process);output=new node_1.IPCMessageWriter(process);break}else if(arg==="--stdio"){stdio=true;input=process.stdin;output=process.stdout;break}else if(arg==="--socket"){port=parseInt(argv[i+1]);break}else if(arg==="--pipe"){pipeName=argv[i+1];break}else{var args=arg.split("=");if(args[0]==="--socket"){port=parseInt(args[1]);break}else if(args[0]==="--pipe"){pipeName=args[1];break}}}if(port){let transport=(0,node_1.createServerSocketTransport)(port);input=transport[0];output=transport[1]}else if(pipeName){let transport=(0,node_1.createServerPipeTransport)(pipeName);input=transport[0];output=transport[1]}}var commandLineMessage="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!input){throw new Error("Connection input stream is not set. "+commandLineMessage)}if(!output){throw new Error("Connection output stream is not set. "+commandLineMessage)}if(Is2.func(input.read)&&Is2.func(input.on)){let inputStream=input;inputStream.on("end",()=>{endProtocolConnection();process.exit(_shutdownReceived?0:1)});inputStream.on("close",()=>{endProtocolConnection();process.exit(_shutdownReceived?0:1)})}const connectionFactory=logger2=>{const result=(0,node_1.createProtocolConnection)(input,output,logger2,options);if(stdio){patchConsole(logger2)}return result};return(0,server_1.createConnection)(connectionFactory,watchDog,factories)}function patchConsole(logger2){function serialize(args){return args.map(arg=>typeof arg==="string"?arg:(0,node_util_1.inspect)(arg)).join(" ")}const counters=new Map;console.assert=function assert(assertion,...args){if(assertion){return}if(args.length===0){logger2.error("Assertion failed")}else{const[message,...rest]=args;logger2.error(`Assertion failed: ${message} ${serialize(rest)}`)}};console.count=function count(label="default"){const message=String(label);let counter=counters.get(message)??0;counter+=1;counters.set(message,counter);logger2.log(`${message}: ${message}`)};console.countReset=function countReset(label){if(label===void 0){counters.clear()}else{counters.delete(String(label))}};console.debug=function debug(...args){logger2.log(serialize(args))};console.dir=function dir(arg,options){logger2.log((0,node_util_1.inspect)(arg,options))};console.log=function log(...args){logger2.log(serialize(args))};console.error=function error(...args){logger2.error(serialize(args))};console.trace=function trace(...args){const stack=new Error().stack.replace(/(.+\n){2}/,"");let message="Trace";if(args.length!==0){message+=`: ${serialize(args)}`}logger2.log(`${message}
${stack}`)};console.warn=function warn(...args){logger2.warn(serialize(args))}}}});var require_node3=__commonJS({"server/node_modules/vscode-languageserver/node.js"(exports2,module2){"use strict";module2.exports=require_main4()}});var require_umd=__commonJS({"server/node_modules/vscode-uri/lib/umd/index.js"(exports2,module2){!function(t,e){if("object"==typeof exports2&&"object"==typeof module2)module2.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports2?exports2:t)[n]=r[n]}}(exports2,()=>(()=>{"use strict";var t={470:t2=>{function e2(t3){if("string"!=typeof t3)throw new TypeError("Path must be a string. Received "+JSON.stringify(t3))}function r2(t3,e3){for(var r3,n3="",o=0,i=-1,a=0,s=0;s<=t3.length;++s){if(s<t3.length)r3=t3.charCodeAt(s);else{if(47===r3)break;r3=47}if(47===r3){if(i===s-1||1===a);else if(i!==s-1&&2===a){if(n3.length<2||2!==o||46!==n3.charCodeAt(n3.length-1)||46!==n3.charCodeAt(n3.length-2)){if(n3.length>2){var h=n3.lastIndexOf("/");if(h!==n3.length-1){-1===h?(n3="",o=0):o=(n3=n3.slice(0,h)).length-1-n3.lastIndexOf("/"),i=s,a=0;continue}}else if(2===n3.length||1===n3.length){n3="",o=0,i=s,a=0;continue}}e3&&(n3.length>0?n3+="/..":n3="..",o=2)}else n3.length>0?n3+="/"+t3.slice(i+1,s):n3=t3.slice(i+1,s),o=s-i-1;i=s,a=0}else 46===r3&&-1!==a?++a:a=-1}return n3}var n2={resolve:function(){for(var t3,n3="",o=false,i=arguments.length-1;i>=-1&&!o;i--){var a;i>=0?a=arguments[i]:(void 0===t3&&(t3=process.cwd()),a=t3),e2(a),0!==a.length&&(n3=a+"/"+n3,o=47===a.charCodeAt(0))}return n3=r2(n3,!o),o?n3.length>0?"/"+n3:"/":n3.length>0?n3:"."},normalize:function(t3){if(e2(t3),0===t3.length)return".";var n3=47===t3.charCodeAt(0),o=47===t3.charCodeAt(t3.length-1);return 0!==(t3=r2(t3,!n3)).length||n3||(t3="."),t3.length>0&&o&&(t3+="/"),n3?"/"+t3:t3},isAbsolute:function(t3){return e2(t3),t3.length>0&&47===t3.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t3,r3=0;r3<arguments.length;++r3){var o=arguments[r3];e2(o),o.length>0&&(void 0===t3?t3=o:t3+="/"+o)}return void 0===t3?".":n2.normalize(t3)},relative:function(t3,r3){if(e2(t3),e2(r3),t3===r3)return"";if((t3=n2.resolve(t3))===(r3=n2.resolve(r3)))return"";for(var o=1;o<t3.length&&47===t3.charCodeAt(o);++o);for(var i=t3.length,a=i-o,s=1;s<r3.length&&47===r3.charCodeAt(s);++s);for(var h=r3.length-s,c=a<h?a:h,f=-1,u=0;u<=c;++u){if(u===c){if(h>c){if(47===r3.charCodeAt(s+u))return r3.slice(s+u+1);if(0===u)return r3.slice(s+u)}else a>c&&(47===t3.charCodeAt(o+u)?f=u:0===u&&(f=0));break}var l=t3.charCodeAt(o+u);if(l!==r3.charCodeAt(s+u))break;47===l&&(f=u)}var p="";for(u=o+f+1;u<=i;++u)u!==i&&47!==t3.charCodeAt(u)||(0===p.length?p+="..":p+="/..");return p.length>0?p+r3.slice(s+f):(s+=f,47===r3.charCodeAt(s)&&++s,r3.slice(s))},_makeLong:function(t3){return t3},dirname:function(t3){if(e2(t3),0===t3.length)return".";for(var r3=t3.charCodeAt(0),n3=47===r3,o=-1,i=true,a=t3.length-1;a>=1;--a)if(47===(r3=t3.charCodeAt(a))){if(!i){o=a;break}}else i=false;return-1===o?n3?"/":".":n3&&1===o?"//":t3.slice(0,o)},basename:function(t3,r3){if(void 0!==r3&&"string"!=typeof r3)throw new TypeError('"ext" argument must be a string');e2(t3);var n3,o=0,i=-1,a=true;if(void 0!==r3&&r3.length>0&&r3.length<=t3.length){if(r3.length===t3.length&&r3===t3)return"";var s=r3.length-1,h=-1;for(n3=t3.length-1;n3>=0;--n3){var c=t3.charCodeAt(n3);if(47===c){if(!a){o=n3+1;break}}else-1===h&&(a=false,h=n3+1),s>=0&&(c===r3.charCodeAt(s)?-1==--s&&(i=n3):(s=-1,i=h))}return o===i?i=h:-1===i&&(i=t3.length),t3.slice(o,i)}for(n3=t3.length-1;n3>=0;--n3)if(47===t3.charCodeAt(n3)){if(!a){o=n3+1;break}}else-1===i&&(a=false,i=n3+1);return-1===i?"":t3.slice(o,i)},extname:function(t3){e2(t3);for(var r3=-1,n3=0,o=-1,i=true,a=0,s=t3.length-1;s>=0;--s){var h=t3.charCodeAt(s);if(47!==h)-1===o&&(i=false,o=s+1),46===h?-1===r3?r3=s:1!==a&&(a=1):-1!==r3&&(a=-1);else if(!i){n3=s+1;break}}return-1===r3||-1===o||0===a||1===a&&r3===o-1&&r3===n3+1?"":t3.slice(r3,o)},format:function(t3){if(null===t3||"object"!=typeof t3)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t3);return function(t4,e3){var r3=e3.dir||e3.root,n3=e3.base||(e3.name||"")+(e3.ext||"");return r3?r3===e3.root?r3+n3:r3+"/"+n3:n3}(0,t3)},parse:function(t3){e2(t3);var r3={root:"",dir:"",base:"",ext:"",name:""};if(0===t3.length)return r3;var n3,o=t3.charCodeAt(0),i=47===o;i?(r3.root="/",n3=1):n3=0;for(var a=-1,s=0,h=-1,c=true,f=t3.length-1,u=0;f>=n3;--f)if(47!==(o=t3.charCodeAt(f)))-1===h&&(c=false,h=f+1),46===o?-1===a?a=f:1!==u&&(u=1):-1!==a&&(u=-1);else if(!c){s=f+1;break}return-1===a||-1===h||0===u||1===u&&a===h-1&&a===s+1?-1!==h&&(r3.base=r3.name=0===s&&i?t3.slice(1,h):t3.slice(s,h)):(0===s&&i?(r3.name=t3.slice(1,a),r3.base=t3.slice(1,h)):(r3.name=t3.slice(s,a),r3.base=t3.slice(s,h)),r3.ext=t3.slice(a,h)),s>0?r3.dir=t3.slice(0,s-1):i&&(r3.dir="/"),r3},sep:"/",delimiter:":",win32:null,posix:null};n2.posix=n2,t2.exports=n2},674:(t2,e2)=>{if(Object.defineProperty(e2,"__esModule",{value:true}),e2.isWindows=void 0,"object"==typeof process)e2.isWindows="win32"===process.platform;else if("object"==typeof navigator){var r2=navigator.userAgent;e2.isWindows=r2.indexOf("Windows")>=0}},796:function(t2,e2,r2){var n2,o,i=this&&this.__extends||(n2=function(t3,e3){return n2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t4,e4){t4.__proto__=e4}||function(t4,e4){for(var r3 in e4)Object.prototype.hasOwnProperty.call(e4,r3)&&(t4[r3]=e4[r3])},n2(t3,e3)},function(t3,e3){if("function"!=typeof e3&&null!==e3)throw new TypeError("Class extends value "+String(e3)+" is not a constructor or null");function r3(){this.constructor=t3}n2(t3,e3),t3.prototype=null===e3?Object.create(e3):(r3.prototype=e3.prototype,new r3)});Object.defineProperty(e2,"__esModule",{value:true}),e2.uriToFsPath=e2.URI=void 0;var a=r2(674),s=/^\w[\w\d+.-]*$/,h=/^\//,c=/^\/\//;function f(t3,e3){if(!t3.scheme&&e3)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(t3.authority,'", path: "').concat(t3.path,'", query: "').concat(t3.query,'", fragment: "').concat(t3.fragment,'"}'));if(t3.scheme&&!s.test(t3.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(t3.path){if(t3.authority){if(!h.test(t3.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(c.test(t3.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}var u="",l="/",p=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,d=function(){function t3(t4,e3,r3,n3,o2,i2){void 0===i2&&(i2=false),"object"==typeof t4?(this.scheme=t4.scheme||u,this.authority=t4.authority||u,this.path=t4.path||u,this.query=t4.query||u,this.fragment=t4.fragment||u):(this.scheme=function(t5,e4){return t5||e4?t5:"file"}(t4,i2),this.authority=e3||u,this.path=function(t5,e4){switch(t5){case"https":case"http":case"file":e4?e4[0]!==l&&(e4=l+e4):e4=l}return e4}(this.scheme,r3||u),this.query=n3||u,this.fragment=o2||u,f(this,i2))}return t3.isUri=function(e3){return e3 instanceof t3||!!e3&&"string"==typeof e3.authority&&"string"==typeof e3.fragment&&"string"==typeof e3.path&&"string"==typeof e3.query&&"string"==typeof e3.scheme&&"string"==typeof e3.fsPath&&"function"==typeof e3.with&&"function"==typeof e3.toString},Object.defineProperty(t3.prototype,"fsPath",{get:function(){return C(this,false)},enumerable:false,configurable:true}),t3.prototype.with=function(t4){if(!t4)return this;var e3=t4.scheme,r3=t4.authority,n3=t4.path,o2=t4.query,i2=t4.fragment;return void 0===e3?e3=this.scheme:null===e3&&(e3=u),void 0===r3?r3=this.authority:null===r3&&(r3=u),void 0===n3?n3=this.path:null===n3&&(n3=u),void 0===o2?o2=this.query:null===o2&&(o2=u),void 0===i2?i2=this.fragment:null===i2&&(i2=u),e3===this.scheme&&r3===this.authority&&n3===this.path&&o2===this.query&&i2===this.fragment?this:new v(e3,r3,n3,o2,i2)},t3.parse=function(t4,e3){void 0===e3&&(e3=false);var r3=p.exec(t4);return r3?new v(r3[2]||u,x(r3[4]||u),x(r3[5]||u),x(r3[7]||u),x(r3[9]||u),e3):new v(u,u,u,u,u)},t3.file=function(t4){var e3=u;if(a.isWindows&&(t4=t4.replace(/\\/g,l)),t4[0]===l&&t4[1]===l){var r3=t4.indexOf(l,2);-1===r3?(e3=t4.substring(2),t4=l):(e3=t4.substring(2,r3),t4=t4.substring(r3)||l)}return new v("file",e3,t4,u,u)},t3.from=function(t4){var e3=new v(t4.scheme,t4.authority,t4.path,t4.query,t4.fragment);return f(e3,true),e3},t3.prototype.toString=function(t4){return void 0===t4&&(t4=false),A(this,t4)},t3.prototype.toJSON=function(){return this},t3.revive=function(e3){if(e3){if(e3 instanceof t3)return e3;var r3=new v(e3);return r3._formatted=e3.external,r3._fsPath=e3._sep===g?e3.fsPath:null,r3}return e3},t3}();e2.URI=d;var g=a.isWindows?1:void 0,v=function(t3){function e3(){var e4=null!==t3&&t3.apply(this,arguments)||this;return e4._formatted=null,e4._fsPath=null,e4}return i(e3,t3),Object.defineProperty(e3.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=C(this,false)),this._fsPath},enumerable:false,configurable:true}),e3.prototype.toString=function(t4){return void 0===t4&&(t4=false),t4?A(this,true):(this._formatted||(this._formatted=A(this,false)),this._formatted)},e3.prototype.toJSON=function(){var t4={$mid:1};return this._fsPath&&(t4.fsPath=this._fsPath,t4._sep=g),this._formatted&&(t4.external=this._formatted),this.path&&(t4.path=this.path),this.scheme&&(t4.scheme=this.scheme),this.authority&&(t4.authority=this.authority),this.query&&(t4.query=this.query),this.fragment&&(t4.fragment=this.fragment),t4},e3}(d),y=((o={})[58]="%3A",o[47]="%2F",o[63]="%3F",o[35]="%23",o[91]="%5B",o[93]="%5D",o[64]="%40",o[33]="%21",o[36]="%24",o[38]="%26",o[39]="%27",o[40]="%28",o[41]="%29",o[42]="%2A",o[43]="%2B",o[44]="%2C",o[59]="%3B",o[61]="%3D",o[32]="%20",o);function m(t3,e3,r3){for(var n3=void 0,o2=-1,i2=0;i2<t3.length;i2++){var a2=t3.charCodeAt(i2);if(a2>=97&&a2<=122||a2>=65&&a2<=90||a2>=48&&a2<=57||45===a2||46===a2||95===a2||126===a2||e3&&47===a2||r3&&91===a2||r3&&93===a2||r3&&58===a2)-1!==o2&&(n3+=encodeURIComponent(t3.substring(o2,i2)),o2=-1),void 0!==n3&&(n3+=t3.charAt(i2));else{void 0===n3&&(n3=t3.substr(0,i2));var s2=y[a2];void 0!==s2?(-1!==o2&&(n3+=encodeURIComponent(t3.substring(o2,i2)),o2=-1),n3+=s2):-1===o2&&(o2=i2)}}return-1!==o2&&(n3+=encodeURIComponent(t3.substring(o2))),void 0!==n3?n3:t3}function b(t3){for(var e3=void 0,r3=0;r3<t3.length;r3++){var n3=t3.charCodeAt(r3);35===n3||63===n3?(void 0===e3&&(e3=t3.substr(0,r3)),e3+=y[n3]):void 0!==e3&&(e3+=t3[r3])}return void 0!==e3?e3:t3}function C(t3,e3){var r3;return r3=t3.authority&&t3.path.length>1&&"file"===t3.scheme?"//".concat(t3.authority).concat(t3.path):47===t3.path.charCodeAt(0)&&(t3.path.charCodeAt(1)>=65&&t3.path.charCodeAt(1)<=90||t3.path.charCodeAt(1)>=97&&t3.path.charCodeAt(1)<=122)&&58===t3.path.charCodeAt(2)?e3?t3.path.substr(1):t3.path[1].toLowerCase()+t3.path.substr(2):t3.path,a.isWindows&&(r3=r3.replace(/\//g,"\\")),r3}function A(t3,e3){var r3=e3?b:m,n3="",o2=t3.scheme,i2=t3.authority,a2=t3.path,s2=t3.query,h2=t3.fragment;if(o2&&(n3+=o2,n3+=":"),(i2||"file"===o2)&&(n3+=l,n3+=l),i2){var c2=i2.indexOf("@");if(-1!==c2){var f2=i2.substr(0,c2);i2=i2.substr(c2+1),-1===(c2=f2.lastIndexOf(":"))?n3+=r3(f2,false,false):(n3+=r3(f2.substr(0,c2),false,false),n3+=":",n3+=r3(f2.substr(c2+1),false,true)),n3+="@"}-1===(c2=(i2=i2.toLowerCase()).lastIndexOf(":"))?n3+=r3(i2,false,true):(n3+=r3(i2.substr(0,c2),false,true),n3+=i2.substr(c2))}if(a2){if(a2.length>=3&&47===a2.charCodeAt(0)&&58===a2.charCodeAt(2))(u2=a2.charCodeAt(1))>=65&&u2<=90&&(a2="/".concat(String.fromCharCode(u2+32),":").concat(a2.substr(3)));else if(a2.length>=2&&58===a2.charCodeAt(1)){var u2;(u2=a2.charCodeAt(0))>=65&&u2<=90&&(a2="".concat(String.fromCharCode(u2+32),":").concat(a2.substr(2)))}n3+=r3(a2,true,false)}return s2&&(n3+="?",n3+=r3(s2,false,false)),h2&&(n3+="#",n3+=e3?h2:m(h2,false,false)),n3}function w(t3){try{return decodeURIComponent(t3)}catch(e3){return t3.length>3?t3.substr(0,3)+w(t3.substr(3)):t3}}e2.uriToFsPath=C;var _=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function x(t3){return t3.match(_)?t3.replace(_,function(t4){return w(t4)}):t3}},679:function(t2,e2,r2){var n2=this&&this.__spreadArray||function(t3,e3,r3){if(r3||2===arguments.length)for(var n3,o2=0,i2=e3.length;o2<i2;o2++)!n3&&o2 in e3||(n3||(n3=Array.prototype.slice.call(e3,0,o2)),n3[o2]=e3[o2]);return t3.concat(n3||Array.prototype.slice.call(e3))};Object.defineProperty(e2,"__esModule",{value:true}),e2.Utils=void 0;var o,i=r2(470),a=i.posix||i,s="/";(o=e2.Utils||(e2.Utils={})).joinPath=function(t3){for(var e3=[],r3=1;r3<arguments.length;r3++)e3[r3-1]=arguments[r3];return t3.with({path:a.join.apply(a,n2([t3.path],e3,false))})},o.resolvePath=function(t3){for(var e3=[],r3=1;r3<arguments.length;r3++)e3[r3-1]=arguments[r3];var o2=t3.path,i2=false;o2[0]!==s&&(o2=s+o2,i2=true);var h=a.resolve.apply(a,n2([o2],e3,false));return i2&&h[0]===s&&!t3.authority&&(h=h.substring(1)),t3.with({path:h})},o.dirname=function(t3){if(0===t3.path.length||t3.path===s)return t3;var e3=a.dirname(t3.path);return 1===e3.length&&46===e3.charCodeAt(0)&&(e3=""),t3.with({path:e3})},o.basename=function(t3){return a.basename(t3.path)},o.extname=function(t3){return a.extname(t3.path)}}},e={};function r(n2){var o=e[n2];if(void 0!==o)return o.exports;var i=e[n2]={exports:{}};return t[n2].call(i.exports,i,i.exports,r),i.exports}var n={};return(()=>{var t2=n;Object.defineProperty(t2,"__esModule",{value:true}),t2.Utils=t2.URI=void 0;var e2=r(796);Object.defineProperty(t2,"URI",{enumerable:true,get:function(){return e2.URI}});var o=r(679);Object.defineProperty(t2,"Utils",{enumerable:true,get:function(){return o.Utils}})})(),n})())}});var tokenTypes_exports={};__export(tokenTypes_exports,{TokenType:()=>TokenType,isValidIdentifier:()=>isValidIdentifier});function isValidIdentifier(type){switch(type){case 57:case 32:case 30:case 33:case 27:case 28:case 29:return true}if(type>=76&&type<=100)return true;return false}var TokenType;var init_tokenTypes=__esm({"server/src/parser/newtry/tokenizor/tokenTypes.ts"(){"use strict";TokenType=(TokenType3=>{TokenType3[TokenType3["pplus"]=0]="pplus";TokenType3[TokenType3["mminus"]=1]="mminus";TokenType3[TokenType3["power"]=2]="power";TokenType3[TokenType3["not"]=3]="not";TokenType3[TokenType3["bnot"]=4]="bnot";TokenType3[TokenType3["multi"]=5]="multi";TokenType3[TokenType3["div"]=6]="div";TokenType3[TokenType3["fdiv"]=7]="fdiv";TokenType3[TokenType3["plus"]=8]="plus";TokenType3[TokenType3["minus"]=9]="minus";TokenType3[TokenType3["rshift"]=10]="rshift";TokenType3[TokenType3["lshift"]=11]="lshift";TokenType3[TokenType3["logicRshift"]=12]="logicRshift";TokenType3[TokenType3["and"]=13]="and";TokenType3[TokenType3["xor"]=14]="xor";TokenType3[TokenType3["or"]=15]="or";TokenType3[TokenType3["sconnect"]=16]="sconnect";TokenType3[TokenType3["regeq"]=17]="regeq";TokenType3[TokenType3["greater"]=18]="greater";TokenType3[TokenType3["greaterEqual"]=19]="greaterEqual";TokenType3[TokenType3["less"]=20]="less";TokenType3[TokenType3["lessEqual"]=21]="lessEqual";TokenType3[TokenType3["equal"]=22]="equal";TokenType3[TokenType3["dequal"]=23]="dequal";TokenType3[TokenType3["glNEqual"]=24]="glNEqual";TokenType3[TokenType3["notEqual"]=25]="notEqual";TokenType3[TokenType3["notDEqual"]=26]="notDEqual";TokenType3[TokenType3["isKeyword"]=27]="isKeyword";TokenType3[TokenType3["inKeyword"]=28]="inKeyword";TokenType3[TokenType3["containsKeyword"]=29]="containsKeyword";TokenType3[TokenType3["notKeyword"]=30]="notKeyword";TokenType3[TokenType3["logicAnd"]=31]="logicAnd";TokenType3[TokenType3["andKeyword"]=32]="andKeyword";TokenType3[TokenType3["orKeyword"]=33]="orKeyword";TokenType3[TokenType3["logicOr"]=34]="logicOr";TokenType3[TokenType3["dquestion"]=35]="dquestion";TokenType3[TokenType3["question"]=36]="question";TokenType3[TokenType3["aassign"]=37]="aassign";TokenType3[TokenType3["pluseq"]=38]="pluseq";TokenType3[TokenType3["minuseq"]=39]="minuseq";TokenType3[TokenType3["multieq"]=40]="multieq";TokenType3[TokenType3["diveq"]=41]="diveq";TokenType3[TokenType3["idiveq"]=42]="idiveq";TokenType3[TokenType3["sconneq"]=43]="sconneq";TokenType3[TokenType3["oreq"]=44]="oreq";TokenType3[TokenType3["andeq"]=45]="andeq";TokenType3[TokenType3["xoreq"]=46]="xoreq";TokenType3[TokenType3["rshifteq"]=47]="rshifteq";TokenType3[TokenType3["lshifteq"]=48]="lshifteq";TokenType3[TokenType3["logicRshiftEq"]=49]="logicRshiftEq";TokenType3[TokenType3["fatArrow"]=50]="fatArrow";TokenType3[TokenType3["dot"]=51]="dot";TokenType3[TokenType3["comma"]=52]="comma";TokenType3[TokenType3["string"]=53]="string";TokenType3[TokenType3["number"]=54]="number";TokenType3[TokenType3["true"]=55]="true";TokenType3[TokenType3["false"]=56]="false";TokenType3[TokenType3["id"]=57]="id";TokenType3[TokenType3["openBracket"]=58]="openBracket";TokenType3[TokenType3["openParen"]=59]="openParen";TokenType3[TokenType3["precent"]=60]="precent";TokenType3[TokenType3["openBrace"]=61]="openBrace";TokenType3[TokenType3["closeBrace"]=62]="closeBrace";TokenType3[TokenType3["closeBracket"]=63]="closeBracket";TokenType3[TokenType3["closeParen"]=64]="closeParen";TokenType3[TokenType3["sharp"]=65]="sharp";TokenType3[TokenType3["dollar"]=66]="dollar";TokenType3[TokenType3["key"]=67]="key";TokenType3[TokenType3["colon"]=68]="colon";TokenType3[TokenType3["hotkey"]=69]="hotkey";TokenType3[TokenType3["hotkeyModifer"]=70]="hotkeyModifer";TokenType3[TokenType3["hotkeyand"]=71]="hotkeyand";TokenType3[TokenType3["hotstringOpen"]=72]="hotstringOpen";TokenType3[TokenType3["hotstringEnd"]=73]="hotstringEnd";TokenType3[TokenType3["lineComment"]=74]="lineComment";TokenType3[TokenType3["blockComment"]=75]="blockComment";TokenType3[TokenType3["if"]=76]="if";TokenType3[TokenType3["else"]=77]="else";TokenType3[TokenType3["switch"]=78]="switch";TokenType3[TokenType3["case"]=79]="case";TokenType3[TokenType3["loop"]=80]="loop";TokenType3[TokenType3["for"]=81]="for";TokenType3[TokenType3["in"]=82]="in";TokenType3[TokenType3["while"]=83]="while";TokenType3[TokenType3["until"]=84]="until";TokenType3[TokenType3["break"]=85]="break";TokenType3[TokenType3["continue"]=86]="continue";TokenType3[TokenType3["try"]=87]="try";TokenType3[TokenType3["catch"]=88]="catch";TokenType3[TokenType3["finally"]=89]="finally";TokenType3[TokenType3["gosub"]=90]="gosub";TokenType3[TokenType3["goto"]=91]="goto";TokenType3[TokenType3["return"]=92]="return";TokenType3[TokenType3["global"]=93]="global";TokenType3[TokenType3["local"]=94]="local";TokenType3[TokenType3["throw"]=95]="throw";TokenType3[TokenType3["class"]=96]="class";TokenType3[TokenType3["extends"]=97]="extends";TokenType3[TokenType3["new"]=98]="new";TokenType3[TokenType3["static"]=99]="static";TokenType3[TokenType3["byref"]=100]="byref";TokenType3[TokenType3["command"]=101]="command";TokenType3[TokenType3["directive"]=102]="directive";TokenType3[TokenType3["implconn"]=103]="implconn";TokenType3[TokenType3["precentForceExpression"]=104]="precentForceExpression";TokenType3[TokenType3["EOL"]=105]="EOL";TokenType3[TokenType3["EOF"]=106]="EOF";TokenType3[TokenType3["unknown"]=107]="unknown";return TokenType3})(TokenType||{})}});var builtins_exports={};__export(builtins_exports,{builtin_command:()=>builtin_command,builtin_function:()=>builtin_function,builtin_variable:()=>builtin_variable});var builtin_variable,builtin_function,builtin_command;var init_builtins=__esm({"server/src/utilities/builtins.ts"(){"use strict";builtin_variable=[["A_Space","\u6B64\u53D8\u91CF\u5305\u542B\u5355\u4E2A\u7A7A\u683C\u5B57\u7B26. \u8BF7\u53C2\u9605AutoTrim\u4E86\u89E3\u8BE6\u60C5."],["A_Tab","\u6B64\u53D8\u91CF\u5305\u542B\u5355\u4E2A tab \u5B57\u7B26. \u8BF7\u53C2\u9605AutoTrim\u4E86\u89E3\u8BE6\u60C5."],["A_Args","[v1.1.27+] \u8BFB/\u5199: \u5305\u542B\u4E00\u4E2A\u547D\u4EE4\u884C\u53C2\u6570\u6570\u7EC4. \u6709\u5173\u8BE6\u7EC6\u4FE1\u606F, \u8BF7\u53C2\u9605\u5411\u811A\u672C\u4F20\u9012\u547D\u4EE4\u884C\u53C2\u6570."],["A_WorkingDir","\u811A\u672C\u5F53\u524D\u5DE5\u4F5C\u76EE\u5F55, \u8FD9\u662F\u811A\u672C\u8BBF\u95EE\u6587\u4EF6\u7684\u9ED8\u8BA4\u8DEF\u5F84. \u9664\u975E\u662F\u6839\u76EE\u5F55, \u5426\u5219\u8DEF\u5F84\u672B\u5C3E\u4E0D\u5305\u542B\u53CD\u659C\u6760. \u4E24\u4E2A\u793A\u4F8B: C:\\ \u548C C:\\My Documents. \u4F7F\u7528 SetWorkingDir \u53EF\u4EE5\u6539\u53D8\u5F53\u524D\u5DE5\u4F5C\u76EE\u5F55."],["A_ScriptDir","\u5F53\u524D\u811A\u672C\u6240\u5728\u76EE\u5F55\u7684\u7EDD\u5BF9\u8DEF\u5F84. \u4E0D\u5305\u542B\u6700\u540E\u7684\u53CD\u659C\u6760(\u6839\u76EE\u5F55\u540C\u6837\u5982\u6B64)."],["A_ScriptName","\u5F53\u524D\u811A\u672C\u7684\u6587\u4EF6\u540D\u79F0, \u4E0D\u542B\u8DEF\u5F84, \u4F8B\u5982 MyScript.ahk."],["A_ScriptFullPath","\u4E0A\u9762\u4E24\u4E2A\u53D8\u91CF\u7684\u7EC4\u5408, \u5305\u542B\u4E86\u5F53\u524D\u811A\u672C\u7684\u5B8C\u6574\u8DEF\u5F84\u548C\u540D\u79F0, \u4F8B\u5982 C:\\My Documents\\My Script.ahk"],["A_ScriptHwnd","[v1.1.01+] \u811A\u672C\u7684\u9690\u85CF\u4E3B\u7A97\u53E3\u7684\u552F\u4E00 ID(HWND/\u53E5\u67C4)."],["A_LineNumber","\u5F53\u524D\u811A\u672C\u4E2D\u6B63\u5728\u6267\u884C\u7684\u884C\u6240\u5728\u7684\u884C\u53F7(\u6216\u5176 #Include \u6587\u4EF6\u7684\u884C\u53F7). \u8FD9\u4E2A\u884C\u53F7\u4E0E ListLines \u663E\u793A\u7684\u4E00\u81F4; \u5B83\u53EF\u4EE5\u7528\u5728\u62A5\u544A\u9519\u8BEF\u7684\u65F6\u5019, \u4F8B\u5982: MsgBox Could not write to log file (line number %A_LineNumber%).\u7531\u4E8E\u5DF2\u7F16\u8BD1\u811A\u672C\u5DF2\u7ECF\u628A\u5B83\u6240\u6709\u7684 #Include \u6587\u4EF6\u5408\u5E76\u6210\u4E00\u4E2A\u5927\u811A\u672C, \u6240\u4EE5\u5B83\u7684\u884C\u53F7\u53EF\u80FD\u4E0E\u5B83\u5728\u672A\u7F16\u8BD1\u6A21\u5F0F\u8FD0\u884C\u65F6\u4E0D\u4E00\u6837."],["A_LineFile","A_LineNumber \u6240\u5C5E\u6587\u4EF6\u7684\u5B8C\u6574\u8DEF\u5F84\u548C\u540D\u79F0, \u9664\u975E\u5F53\u524D\u884C\u5C5E\u4E8E\u672A\u7F16\u8BD1\u811A\u672C\u7684\u67D0\u4E2A #Include \u6587\u4EF6, \u5426\u5219\u5B83\u5C06\u548C A_ScriptFullPath \u76F8\u540C."],["A_ThisFunc","[v1.0.46.16+] \u5F53\u524D\u6B63\u5728\u6267\u884C\u7684\u81EA\u5B9A\u4E49\u51FD\u6570\u7684\u540D\u79F0(\u6CA1\u6709\u5219\u4E3A\u7A7A); \u4F8B\u5982: MyFunction. \u53E6\u8BF7\u53C2\u9605: IsFunc()"],["A_ThisLabel",'[v1.0.46.16+] \u5F53\u524D\u6B63\u5728\u6267\u884C\u7684\u6807\u7B7E(\u5B50\u7A0B\u5E8F) \u7684\u540D\u79F0(\u6CA1\u6709\u5219\u4E3A\u7A7A); \u4F8B\u5982: MyLabel. \u6BCF\u5F53\u811A\u672C\u6267\u884C Gosub/Return \u6216 Goto \u65F6\u4F1A\u66F4\u65B0\u6B64\u53D8\u91CF\u7684\u503C. \u6267\u884C\u81EA\u52A8\u8C03\u7528\u7684\u6807\u7B7E\u65F6\u4E5F\u4F1A\u66F4\u65B0\u6B64\u53D8\u91CF\u7684\u503C, \u4F8B\u5982\u8BA1\u65F6\u5668, GUI \u7EBF\u7A0B, \u83DC\u5355\u9879, \u70ED\u952E, \u70ED\u5B57\u4E32, OnClipboardChange \u548C OnExit. \u4E0D\u8FC7, \u5F53\u6267\u884C\u4ECE\u524D\u9762\u7684\u8BED\u53E5"\u8FDB\u5165"\u4E00\u4E2A\u6807\u7B7E\u65F6\u4E0D\u4F1A\u66F4\u65B0 A_ThisLabel \u7684\u503C, \u5373\u6B64\u65F6\u5B83\u8FD8\u662F\u4FDD\u6301\u539F\u6765\u7684\u503C. \u53E6\u8BF7\u53C2\u9605: A_ThisHotkey \u548C IsLabel()'],["A_AhkVersion","\u5728 [1.0.22] \u4E4B\u524D\u7684\u7248\u672C, \u6B64\u53D8\u91CF\u4E3A\u7A7A. \u5426\u5219, \u5B83\u5305\u542B\u4E86\u8FD0\u884C\u5F53\u524D\u811A\u672C\u7684 AutoHotkey \u4E3B\u7A0B\u5E8F\u7684\u7248\u672C\u53F7, \u4F8B\u5982 1.0.22. \u5728\u5DF2\u7F16\u8BD1\u811A\u672C\u4E2D, \u5B83\u5305\u542B\u4E86\u539F\u6765\u7F16\u8BD1\u65F6\u4F7F\u7528\u7684\u4E3B\u7A0B\u5E8F\u7684\u7248\u672C\u53F7. \u683C\u5F0F\u5316\u7684\u7248\u672C\u53F7\u4F7F\u5F97\u811A\u672C\u53EF\u4EE5\u4F7F\u7528 > \u6216 >= \u6765\u68C0\u67E5 A_AhkVersion \u662F\u5426\u5927\u4E8E\u67D0\u4E2A\u6700\u5C0F\u7684\u7248\u672C\u53F7, \u4F8B\u5982: if A_AhkVersion >= 1.0.25.07."],["A_AhkPath","\u5BF9\u4E8E\u672A\u7F16\u8BD1\u811A\u672C: \u5B9E\u9645\u8FD0\u884C\u5F53\u524D\u811A\u672C\u7684 EXE \u6587\u4EF6\u7684\u5B8C\u6574\u8DEF\u5F84\u548C\u540D\u79F0. \u4F8B\u5982: C:\\Program Files\\AutoHotkey\\AutoHotkey.exe. \u5BF9\u4E8E\u5DF2\u7F16\u8BD1\u811A\u672C: \u9664\u4E86\u901A\u8FC7\u6CE8\u518C\u8868\u6761\u76EE HKLM\\SOFTWARE\\AutoHotkey\\InstallDir \u83B7\u53D6 AutoHotkey \u76EE\u5F55\u5916, \u5176\u4ED6\u7684\u548C\u4E0A\u9762\u76F8\u540C. \u5982\u679C\u627E\u4E0D\u5230\u8FD9\u4E2A\u6CE8\u518C\u8868\u6761\u76EE, \u5219 A_AhkPath \u4E3A\u7A7A."],["A_IsUnicode","\u5F53\u5B57\u7B26\u4E32\u4E3A Unicode(16 \u4F4D) \u65F6\u503C\u4E3A 1, \u5B57\u7B26\u4E32\u4E3A ANSI(8 \u4F4D) \u65F6\u4E3A\u7A7A\u5B57\u7B26\u4E32(\u8FD9\u4F1A\u88AB\u89C6\u4E3A false). \u5B57\u7B26\u4E32\u7684\u683C\u5F0F\u53D6\u51B3\u4E8E\u7528\u6765\u8FD0\u884C\u5F53\u524D\u811A\u672C\u7684 AutoHotkey.exe, \u5982\u679C\u4E3A\u5DF2\u7F16\u8BD1\u811A\u672C, \u5219\u53D6\u51B3\u4E8E\u7528\u6765\u7F16\u8BD1\u5B83\u7684\u4E3B\u7A0B\u5E8F."],["A_IsCompiled","\u5982\u679C\u5F53\u524D\u8FD0\u884C\u7684\u811A\u672C\u4E3A\u5DF2\u7F16\u8BD1 EXE \u65F6\u6B64\u53D8\u91CF\u503C\u4E3A 1, \u5426\u5219\u4E3A\u7A7A\u5B57\u7B26\u4E32(\u8FD9\u4F1A\u88AB\u89C6\u4E3A false)."],["A_ExitReason","\u6700\u8FD1\u4E00\u6B21\u8981\u6C42\u811A\u672C\u7EC8\u6B62\u7684\u539F\u56E0. \u9664\u975E\u811A\u672C\u542B\u6709 OnExit \u5B50\u7A0B\u5E8F\u5E76\u4E14\u6B64\u5B50\u7A0B\u5E8F\u5F53\u524D\u6B63\u5728\u8FD0\u884C\u6216\u88AB\u9000\u51FA\u5C1D\u8BD5\u81F3\u5C11\u8C03\u7528\u8FC7\u4E00\u6B21, \u5426\u5219\u6B64\u53D8\u91CF\u4E3A\u7A7A. \u8BF7\u53C2\u9605 OnExit \u4E86\u89E3\u8BE6\u60C5."],["A_YYYY","4 \u4F4D\u6570\u8868\u793A\u7684\u5F53\u524D\u5E74\u4EFD(\u4F8B\u5982 2004). \u4E0E A_Year \u542B\u4E49\u76F8\u540C. \u6CE8\u610F: \u8981\u83B7\u53D6\u7B26\u5408\u60A8\u533A\u57DF\u8BBE\u7F6E\u548C\u8BED\u8A00\u7684\u683C\u5F0F\u5316\u65F6\u95F4\u6216\u65E5\u671F, \u8BF7\u4F7F\u7528 FormatTime, OutputVar(\u65F6\u95F4\u548C\u957F\u65E5\u671F) \u6216 FormatTime, OutputVar,, LongDate(\u83B7\u53D6\u957F\u683C\u5F0F\u65E5\u671F)."],["A_MM","2 \u4F4D\u6570\u8868\u793A\u7684\u5F53\u524D\u6708\u4EFD(01-12). \u4E0E A_Mon \u542B\u4E49\u76F8\u540C."],["A_DD","2 \u4F4D\u6570\u8868\u793A\u7684\u5F53\u524D\u6708\u4EFD\u7684\u65E5\u671F(01-31). \u4E0E A_MDay \u542B\u4E49\u76F8\u540C."],["A_MMMM","\u4F7F\u7528\u5F53\u524D\u7528\u6237\u8BED\u8A00\u8868\u793A\u7684\u5F53\u524D\u6708\u4EFD\u7684\u5168\u79F0, \u4F8B\u5982 July"],["A_MMM","\u4F7F\u7528\u5F53\u524D\u7528\u6237\u8BED\u8A00\u8868\u793A\u7684\u5F53\u524D\u6708\u4EFD\u7684\u7B80\u79F0, \u4F8B\u5982 Jul"],["A_DDDD","\u4F7F\u7528\u5F53\u524D\u7528\u6237\u8BED\u8A00\u8868\u793A\u7684\u5F53\u524D\u661F\u671F\u51E0\u7684\u5168\u79F0, \u4F8B\u5982 Sunday"],["A_DDD","\u4F7F\u7528\u5F53\u524D\u7528\u6237\u8BED\u8A00\u8868\u793A\u7684\u5F53\u524D\u661F\u671F\u51E0\u7684\u7B80\u79F0, \u4F8B\u5982 Sun"],["A_WDay","1 \u4F4D\u6570\u8868\u793A\u7684\u5F53\u524D\u661F\u671F\u7ECF\u8FC7\u7684\u5929\u6570(1-7). \u5728\u6240\u6709\u533A\u57DF\u8BBE\u7F6E\u4E2D 1 \u90FD\u8868\u793A\u661F\u671F\u5929."],["A_YDay","\u5F53\u524D\u5E74\u4EFD\u4E2D\u7ECF\u8FC7\u7684\u5929\u6570(1-366). \u4E0D\u4F1A\u4F7F\u7528\u96F6\u5BF9\u53D8\u91CF\u7684\u503C\u8FDB\u884C\u586B\u5145, \u4F8B\u5982\u4F1A\u83B7\u53D6\u5230 9, \u800C\u4E0D\u662F 009. \u8981\u5BF9\u53D8\u91CF\u7684\u503C\u8FDB\u884C\u96F6\u586B\u5145, \u8BF7\u4F7F\u7528: FormatTime, OutputVar, , YDay0."],["A_YWeek","\u7B26\u5408 ISO 8601 \u6807\u51C6\u7684\u5F53\u524D\u7684\u5E74\u4EFD\u548C\u5468\u6570(\u4F8B\u5982 200453). \u8981\u5206\u79BB\u5E74\u4EFD\u548C\u5468\u6570, \u8BF7\u4F7F\u7528 StringLeft, Year, A_YWeek, 4 \u548C StringRight, Week, A_YWeek, 2. A_YWeek \u7684\u51C6\u786E\u5B9A\u4E49\u4E3A: \u5982\u679C\u542B\u6709 1 \u6708 1 \u65E5\u7684\u661F\u671F\u6709\u56DB\u5929\u4EE5\u4E0A\u5728\u65B0\u5E74\u91CC, \u5219\u5B83\u88AB\u8BA4\u4E3A\u662F\u65B0\u5E74\u7684\u7B2C\u4E00\u4E2A\u661F\u671F. \u5426\u5219, \u5B83\u4E3A\u524D\u4E00\u5E74\u7684\u6700\u540E\u4E00\u4E2A\u661F\u671F, \u800C\u4E0B\u4E00\u661F\u671F\u4E3A\u65B0\u5E74\u7684\u7B2C\u4E00\u661F\u671F."],["A_Hour","\u5728 24 \u5C0F\u65F6\u5236(\u4F8B\u5982, 17 \u8868\u793A 5pm) \u4E2D 2 \u4F4D\u6570\u8868\u793A\u7684\u5F53\u524D\u5C0F\u65F6\u6570(00-23). \u8981\u83B7\u53D6\u5E26 AM/PM \u63D0\u793A\u7684 12 \u5C0F\u65F6\u5236\u7684\u65F6\u95F4, \u8BF7\u53C2\u7167\u6B64\u4F8B: FormatTime, OutputVar, , h:mm:ss tt"],["A_Min","2 \u4F4D\u6570\u8868\u793A\u7684\u5F53\u524D\u5206\u949F\u6570(00-59)."],["A_Sec","2 \u4F4D\u6570\u8868\u793A\u7684\u5F53\u524D\u79D2\u6570(00-59)."],["A_MSec","3 \u4F4D\u6570\u8868\u793A\u7684\u5F53\u524D\u6BEB\u79D2\u6570(000-999). \u8981\u79FB\u9664\u524D\u5BFC\u96F6, \u8BF7\u53C2\u7167\u6B64\u4F8B: Milliseconds := A_MSec + 0."],["A_Now","YYYYMMDDHH24MISS \u683C\u5F0F\u7684\u5F53\u524D\u672C\u5730\u65F6\u95F4.\u6CE8\u610F: \u4F7F\u7528 EnvAdd \u548C EnvSub \u53EF\u4EE5\u5BF9\u65E5\u671F\u548C\u65F6\u95F4\u8FDB\u884C\u8BA1\u7B97. \u6B64\u5916, \u4F7F\u7528 FormatTime \u53EF\u4EE5\u6839\u636E\u60A8\u7684\u533A\u57DF\u8BBE\u7F6E\u6216\u9009\u9879\u6765\u683C\u5F0F\u5316\u65E5\u671F\u548C/\u6216\u65F6\u95F4."],["A_NowUTC","YYYYMMDDHH24MISS \u683C\u5F0F\u7684\u5F53\u524D\u7684\u534F\u8C03\u4E16\u754C\u65F6(UTC). UTC \u672C\u8D28\u4E0A\u548C\u683C\u6797\u5A01\u6CBB\u6807\u51C6\u65F6\u95F4(GMT) \u4E00\u81F4."],["A_TickCount","\u8BA1\u7B97\u673A\u91CD\u542F\u540E\u7ECF\u8FC7\u7684\u6BEB\u79D2\u6570. \u901A\u8FC7\u628A A_TickCount \u4FDD\u5B58\u5230\u53D8\u91CF\u4E2D, \u7ECF\u8FC7\u4E00\u6BB5\u65F6\u95F4\u540E\u4ECE\u6700\u8FD1\u7684 A_TickCount \u503C\u4E2D\u51CF\u53BB\u90A3\u4E2A\u53D8\u91CF, \u53EF\u4EE5\u8BA1\u7B97\u51FA\u6240\u7ECF\u8FC7\u7684\u65F6\u95F4. \u4F8B\u5982:StartTime := A_TickCount  \n Sleep, 1000  \n ElapsedTime := A_TickCount - StartTime  \n MsgBox, %ElapsedTime% milliseconds have elapsed.  \n \u5982\u679C\u60A8\u9700\u8981\u6BD4 A_TickCount \u7684 10ms \u66F4\u9AD8\u7684\u7CBE\u786E\u5EA6, \u8BF7\u4F7F\u7528 QueryPerformanceCounter()(\u9AD8\u7CBE\u5EA6\u8BA1\u65F6\u5668)."],["A_IsSuspended","\u5F53\u811A\u672C\u6302\u8D77\u65F6\u503C\u4E3A 1, \u5426\u5219\u4E3A 0."],["A_IsPaused","[v1.0.48+] \u5F53\u7D27\u968F\u5F53\u524D\u7EBF\u7A0B\u7684\u7EBF\u7A0B\u88AB\u6682\u505C\u65F6\u503C\u4E3A 1. \u5426\u5219\u4E3A 0."],["A_IsCritical","[v1.0.48+] \u5F53\u524D\u7EBF\u7A0B\u7684 Critical \u8BBE\u7F6E\u5173\u95ED\u65F6\u503C\u4E3A 0. \u5426\u5219\u5B83\u5305\u542B\u5927\u4E8E\u96F6\u7684\u6574\u6570, \u5373 Critical \u4F7F\u7528\u7684\u6D88\u606F\u68C0\u67E5\u9891\u7387. \u56E0\u4E3A Critical 0 \u5173\u95ED\u4E86\u5F53\u524D\u7EBF\u7A0B\u7684\u5173\u952E\u6027, \u6240\u4EE5 Critical \u7684\u5F53\u524D\u72B6\u6001\u53EF\u4EE5\u8FD9\u6837\u6765\u4FDD\u5B58\u548C\u6062\u590D: Old_IsCritical := A_IsCritical, \u540E\u6765\u6267\u884C Critical %Old_IsCritical%."],["A_BatchLines","(\u540C\u4E49\u4E8E A_NumBatchLines) \u7531 SetBatchLines \u8BBE\u7F6E\u7684\u5F53\u524D\u503C. \u4F8B\u5982: 200 \u6216 10ms(\u53D6\u51B3\u4E8E\u683C\u5F0F)."],["A_ListLines","[v1.1.28+] ListLines \u6FC0\u6D3B\u65F6\u503C\u4E3A 1. \u5426\u5219\u4E3A 0."],["A_TitleMatchMode","\u7531 SetTitleMatchMode \u8BBE\u7F6E\u7684\u5F53\u524D\u6A21\u5F0F: 1, 2, 3 \u6216 RegEx."],["A_TitleMatchModeSpeed","\u7531 SetTitleMatchMode \u8BBE\u7F6E\u7684\u5F53\u524D\u5339\u914D\u901F\u5EA6(fast \u6216 slow)."],["A_DetectHiddenWindows","\u7531 DetectHiddenWindows \u8BBE\u7F6E\u7684\u5F53\u524D\u6A21\u5F0F(On \u6216 Off)."],["A_DetectHiddenText","\u7531 DetectHiddenText \u8BBE\u7F6E\u7684\u5F53\u524D\u6A21\u5F0F(On \u6216 Off)."],["A_AutoTrim","\u7531 AutoTrim \u8BBE\u7F6E\u7684\u5F53\u524D\u6A21\u5F0F(On \u6216 Off)."],["A_StringCaseSense","\u7531 StringCaseSense \u8BBE\u7F6E\u7684\u5F53\u524D\u6A21\u5F0F(On, Off \u6216 Locale)."],["A_FileEncoding","[v1.0.90+]: \u5305\u542B\u4E86\u591A\u4E2A\u547D\u4EE4\u4F7F\u7528\u7684\u9ED8\u8BA4\u7F16\u7801; \u8BF7\u53C2\u9605 FileEncoding."],["A_FormatInteger","\u7531 SetFormat \u8BBE\u7F6E\u7684\u5F53\u524D\u6574\u6570\u683C\u5F0F(H \u6216 D). [v1.0.90+]: \u6B64\u53D8\u91CF\u8FD8\u53EF\u80FD\u4E3A\u5C0F\u5199\u5B57\u6BCD h."],["A_FormatFloat","\u7531 SetFormat \u8BBE\u7F6E\u7684\u5F53\u524D\u6D6E\u70B9\u6570\u683C\u5F0F."],["A_SendMode","[v1.1.23+]: \u7531 SendMode \u8BBE\u7F6E\u7684\u5F53\u524D\u6A21\u5F0F\u5B57\u7B26\u4E32(\u53EF\u80FD\u7684\u503C\u4E3A: Event, Input, Play \u6216 InputThenPlay)."],["A_SendLevel","[v1.1.23+]: \u5F53\u524D SendLevel \u7684\u8BBE\u7F6E(\u53EF\u80FD\u7684\u503C\u4E3A: 0 \u5230 100 \u4E4B\u95F4\u7684\u6574\u6570, \u5305\u62EC 0 \u548C 100)."],["A_StoreCapsLockMode","[v1.1.23+]: \u7531 SetStoreCapsLockMode \u8BBE\u7F6E\u7684\u5F53\u524D\u6A21\u5F0F\u5B57\u7B26\u4E32(\u53EF\u80FD\u7684\u503C\u4E3A: On \u6216 Off)."],["A_KeyDelay","\u7531 SetKeyDelay \u8BBE\u7F6E\u7684\u5F53\u524D\u5EF6\u8FDF(\u603B\u662F\u5341\u8FDB\u5236\u6570, \u4E0D\u662F\u5341\u516D\u8FDB\u5236). A_KeyDuration \u4F9D\u8D56 [v1.1.23+] ."],["A_KeyDuration","\u7531 SetKeyDelay \u8BBE\u7F6E\u7684\u5F53\u524D\u5EF6\u8FDF(\u603B\u662F\u5341\u8FDB\u5236\u6570, \u4E0D\u662F\u5341\u516D\u8FDB\u5236). A_KeyDuration \u4F9D\u8D56 [v1.1.23+] ."],["A_KeyDelayPlay","\u8868\u793A\u7531 SetKeyDelay \u8BBE\u7F6E SendPlay \u6A21\u5F0F\u7684\u5EF6\u8FDF\u6216\u6301\u7EED\u65F6\u95F4(\u603B\u662F\u5341\u8FDB\u5236\u6570, \u4E0D\u662F\u5341\u516D\u8FDB\u5236). \u4F9D\u8D56 [v1.1.23+]. "],["A_KeyDurationPlay","\u8868\u793A\u7531 SetKeyDelay \u8BBE\u7F6E SendPlay \u6A21\u5F0F\u7684\u5EF6\u8FDF\u6216\u6301\u7EED\u65F6\u95F4(\u603B\u662F\u5341\u8FDB\u5236\u6570, \u4E0D\u662F\u5341\u516D\u8FDB\u5236). \u4F9D\u8D56 [v1.1.23+]."],["A_WinDelay","\u7531 SetWinDelay \u8BBE\u7F6E\u7684\u5F53\u524D\u5EF6\u8FDF(\u603B\u662F\u5341\u8FDB\u5236\u6570, \u4E0D\u662F\u5341\u516D\u8FDB\u5236)."],["A_ControlDelay","\u7531 SetControlDelay \u8BBE\u7F6E\u7684\u5F53\u524D\u5EF6\u8FDF(\u603B\u662F\u5341\u8FDB\u5236\u6570, \u4E0D\u662F\u5341\u516D\u8FDB\u5236)."],["A_MouseDelay","\u7531 SetMouseDelay \u8BBE\u7F6E\u7684\u5F53\u524D\u5EF6\u8FDF(\u603B\u662F\u5341\u8FDB\u5236\u6570, \u4E0D\u662F\u5341\u516D\u8FDB\u5236). A_MouseDelay \u8868\u793A\u4F20\u7EDF\u7684 SendEvent \u6A21\u5F0F. "],["A_MouseDelayPlay","\u7531 SetMouseDelay \u8BBE\u7F6E\u7684\u5F53\u524D\u5EF6\u8FDF(\u603B\u662F\u5341\u8FDB\u5236\u6570, \u4E0D\u662F\u5341\u516D\u8FDB\u5236). A_MouseDelayPlay \u8868\u793A SendPlay. A_MouseDelayPlay \u4F9D\u8D56 [v1.1.23+]."],["A_DefaultMouseSpeed","\u7531 SetDefaultMouseSpeed \u8BBE\u7F6E\u7684\u5F53\u524D\u901F\u5EA6(\u603B\u662F\u5341\u8FDB\u5236\u6570, \u4E0D\u662F\u5341\u516D\u8FDB\u5236)."],["A_CoordModeToolTip","[v1.1.23+]: CoordMode \u7684\u5F53\u524D\u8BBE\u7F6E\u503C\u7684\u5B57\u7B26\u4E32. (\u53EF\u80FD\u7684\u503C\u4E3A: Window, Client \u6216 Screen)"],["A_CoordModePixel","[v1.1.23+]: CoordMode \u7684\u5F53\u524D\u8BBE\u7F6E\u503C\u7684\u5B57\u7B26\u4E32. (\u53EF\u80FD\u7684\u503C\u4E3A: Window, Client \u6216 Screen)"],["A_CoordModeMouse","[v1.1.23+]: CoordMode \u7684\u5F53\u524D\u8BBE\u7F6E\u503C\u7684\u5B57\u7B26\u4E32. (\u53EF\u80FD\u7684\u503C\u4E3A: Window, Client \u6216 Screen)"],["A_CoordModeCaret","[v1.1.23+]: CoordMode \u7684\u5F53\u524D\u8BBE\u7F6E\u503C\u7684\u5B57\u7B26\u4E32. (\u53EF\u80FD\u7684\u503C\u4E3A: Window, Client \u6216 Screen) "],["A_CoordModeMenu","[v1.1.23+]: CoordMode \u7684\u5F53\u524D\u8BBE\u7F6E\u503C\u7684\u5B57\u7B26\u4E32. (\u53EF\u80FD\u7684\u503C\u4E3A: Window, Client \u6216 Screen)"],["A_RegView","[v1.1.08+]: \u7531 SetRegView \u8BBE\u7F6E\u7684\u5F53\u524D\u6CE8\u518C\u8868\u89C6\u56FE."],["A_IconHidden","\u6258\u76D8\u56FE\u6807\u5F53\u524D\u9690\u85CF\u65F6\u503C\u4E3A 1, \u5426\u5219\u4E3A 0. \u6B64\u56FE\u6807\u53EF\u4EE5\u4F7F\u7528 #NoTrayIcon \u6216 Menu \u547D\u4EE4\u8FDB\u884C\u9690\u85CF."],["A_IconTip","\u5982\u679C\u4F7F\u7528 Menu, Tray, Tip \u4E3A\u6258\u76D8\u56FE\u6807\u6307\u5B9A\u4E86\u81EA\u5B9A\u4E49\u7684\u5DE5\u5177\u63D0\u793A\u65F6, \u53D8\u91CF\u7684\u503C\u4E3A\u8FD9\u4E2A\u63D0\u793A\u7684\u6587\u672C, \u5426\u5219\u4E3A\u7A7A."],["A_IconFile","\u5982\u679C\u4F7F\u7528 Menu, tray, icon \u6307\u5B9A\u4E86\u81EA\u5B9A\u4E49\u7684\u6258\u76D8\u56FE\u6807\u65F6, \u53D8\u91CF\u7684\u503C\u4E3A\u56FE\u6807\u6587\u4EF6\u7684\u5B8C\u6574\u8DEF\u5F84\u548C\u540D\u79F0, \u5426\u5219\u4E3A\u7A7A."],["A_IconNumber","\u5F53 A_IconFile \u4E3A\u7A7A\u65F6\u6B64\u53D8\u91CF\u4E3A\u7A7A. \u5426\u5219, \u5B83\u7684\u503C\u4E3A A_IconFile \u4E2D\u7684\u56FE\u6807\u7F16\u53F7(\u901A\u5E38\u4E3A 1).\u7528\u6237\u7A7A\u95F2\u65F6\u95F4"],["A_TimeIdle","\u4ECE\u7CFB\u7EDF\u6700\u540E\u4E00\u6B21\u63A5\u6536\u5230\u952E\u76D8, \u9F20\u6807\u6216\u5176\u4ED6\u8F93\u5165\u540E\u6240\u7ECF\u8FC7\u7684\u6BEB\u79D2\u6570. \u8FD9\u53EF\u4EE5\u7528\u6765\u5224\u65AD\u7528\u6237\u662F\u5426\u79BB\u5F00. \u7528\u6237\u7684\u7269\u7406\u8F93\u5165\u548C\u7531 \u4EFB\u4F55 \u7A0B\u5E8F\u6216\u811A\u672C\u751F\u6210\u7684\u6A21\u62DF\u8F93\u5165(\u4F8B\u5982 Send \u6216 MouseMove \u547D\u4EE4)\u4F1A\u8BA9\u6B64\u53D8\u91CF\u91CD\u7F6E\u4E3A\u96F6. \u7531\u4E8E\u6B64\u53D8\u91CF\u7684\u503C\u8D8B\u5411\u4E8E\u4EE5 10 \u7684\u589E\u91CF\u589E\u52A0, \u6240\u4EE5\u4E0D\u5E94\u8BE5\u5224\u65AD\u5B83\u662F\u5426\u7B49\u4E8E\u53E6\u4E00\u4E2A\u503C. \u76F8\u53CD, \u5E94\u8BE5\u68C0\u67E5\u6B64\u53D8\u91CF\u662F\u5426\u5927\u4E8E\u6216\u5C0F\u4E8E\u53E6\u4E00\u4E2A\u503C. \u4F8B\u5982: IfGreater, A_TimeIdle, 600000, MsgBox, The last keyboard or mouse activity was at least 10 minutes ago."],["A_TimeIdlePhysical","\u4E0E\u4E0A\u9762\u7C7B\u4F3C, \u4F46\u5728\u5B89\u88C5\u4E86\u76F8\u5E94\u7684\u94A9\u5B50(\u952E\u76D8\u6216\u9F20\u6807) \u540E\u4F1A\u5FFD\u7565\u6A21\u62DF\u7684\u952E\u51FB\u548C/\u6216\u9F20\u6807\u70B9\u51FB; \u5373\u6B64\u53D8\u91CF\u4EC5\u53CD\u5E94\u7269\u7406\u4E8B\u4EF6. (\u8FD9\u6837\u907F\u514D\u4E86\u7531\u4E8E\u6A21\u62DF\u952E\u51FB\u548C\u9F20\u6807\u70B9\u51FB\u800C\u8BEF\u4EE5\u4E3A\u7528\u6237\u5B58\u5728.) \u5982\u679C\u4E24\u79CD\u94A9\u5B50\u90FD\u6CA1\u6709\u5B89\u88C5, \u5219\u6B64\u53D8\u91CF\u7B49\u540C\u4E8E A_TimeIdle. \u5982\u679C\u4EC5\u5B89\u88C5\u4E86\u4E00\u79CD\u94A9\u5B50, \u90A3\u4E48\u4EC5\u6B64\u7C7B\u578B\u7684\u7269\u7406\u8F93\u5165\u624D\u4F1A\u5BF9 A_TimeIdlePhysical \u8D77\u4F5C\u7528(\u53E6\u4E00\u79CD/\u672A\u5B89\u88C5\u94A9\u5B50\u7684\u8F93\u5165, \u5305\u62EC\u7269\u7406\u7684\u548C\u6A21\u62DF\u7684, \u90FD\u4F1A\u88AB\u5FFD\u7565)."],["A_TimeIdleKeyboard","[v1.1.28+] \u5982\u679C\u5B89\u88C5\u4E86\u952E\u76D8\u94A9\u5B50, \u8FD9\u662F\u81EA\u7CFB\u7EDF\u4E0A\u6B21\u63A5\u6536\u7269\u7406\u952E\u76D8\u8F93\u5165\u4EE5\u6765\u6240\u7ECF\u8FC7\u7684\u6BEB\u79D2\u6570. \u5426\u5219, \u8FD9\u4E2A\u53D8\u91CF\u5C31\u7B49\u4E8E A_TimeIdle."],["A_TimeIdleMouse","[v1.1.28+] \u5982\u679C\u5B89\u88C5\u4E86\u9F20\u6807\u94A9\u5B50, \u8FD9\u662F\u81EA\u7CFB\u7EDF\u4E0A\u6B21\u6536\u5230\u7269\u7406\u9F20\u6807\u8F93\u5165\u4EE5\u6765\u6240\u7ECF\u8FC7\u7684\u6BEB\u79D2\u6570. \u5426\u5219, \u8FD9\u4E2A\u53D8\u91CF\u5C31\u7B49\u4E8E A_TimeIdle."],["A_DefaultGui","[v1.1.23+] \u5F53\u524D\u7EBF\u7A0B\u7684 GUI \u540D\u79F0\u6216\u5E8F\u53F7."],["A_DefaultListView","[v1.1.23+] ListView \u63A7\u4EF6\u7684\u53D8\u91CF\u540D\u6216\u53E5\u67C4, \u8FD9\u53D6\u51B3\u4E0E\u4F7F\u7528\u4E86\u4F55\u79CD ListView \u51FD\u6570. \u5982\u679C\u9ED8\u8BA4 GUI \u4E2D\u6CA1\u6709 ListView \u63A7\u4EF6, \u6B64\u53D8\u91CF\u4E3A\u7A7A."],["A_DefaultTreeView","[v1.1.23+] TreeView \u63A7\u4EF6\u7684\u53D8\u91CF\u540D\u6216\u53E5\u67C4, \u8FD9\u53D6\u51B3\u4E0E\u4F7F\u7528\u4E86\u4F55\u79CD TreeView \u51FD\u6570. \u5982\u679C\u9ED8\u8BA4 GUI \u4E2D\u6CA1\u6709 TreeView \u63A7\u4EF6, \u6B64\u53D8\u91CF\u4E3A\u7A7A."],["A_Gui","\u542F\u52A8\u4E86\u5F53\u524D\u7EBF\u7A0B\u7684 GUI \u7684\u540D\u79F0\u6216\u7F16\u53F7. \u9664\u975E\u5F53\u524D\u7EBF\u7A0B\u662F\u7531 Gui \u63A7\u4EF6, \u83DC\u5355\u9879\u6216 Gui \u4E8B\u4EF6(\u4F8B\u5982 GuiClose/GuiEscape) \u542F\u52A8\u7684, \u5426\u5219\u6B64\u53D8\u91CF\u4E3A\u7A7A."],["A_GuiControl","\u542F\u52A8\u5F53\u524D\u7EBF\u7A0B\u7684 GUI \u63A7\u4EF6\u7684\u5173\u8054\u53D8\u91CF\u540D. \u5982\u679C\u90A3\u4E2A\u63A7\u4EF6\u6CA1\u6709\u5173\u8054\u53D8\u91CF, \u5219 A_GuiControl \u5305\u542B\u6B64\u63A7\u4EF6\u7684\u6587\u672C/\u6807\u9898\u4E2D\u524D 63 \u4E2A\u5B57\u7B26(\u8FD9\u5E38\u7528\u6765\u907F\u514D\u7ED9\u6BCF\u4E2A\u6309\u94AE\u5206\u914D\u53D8\u91CF\u540D). \u51FA\u73B0\u540E\u9762\u8FD9\u4E9B\u60C5\u51B5\u65F6 A_GuiControl \u4E3A\u7A7A: 1) A_Gui \u4E3A\u7A7A; 2) GUI \u83DC\u5355\u9879\u6216\u4E8B\u4EF6(\u4F8B\u5982 GuiClose/GuiEscape) \u542F\u52A8\u4E86\u5F53\u524D\u7EBF\u7A0B; 3) \u90A3\u4E2A\u63A7\u4EF6\u6CA1\u6709\u5173\u8054\u53D8\u91CF, \u4E5F\u6CA1\u6709\u6807\u9898; \u6216 4) \u6700\u521D\u542F\u52A8\u5F53\u524D\u7EBF\u7A0B\u7684\u63A7\u4EF6\u5DF2\u7ECF\u4E0D\u5B58\u5728(\u53EF\u80FD\u7531\u4E8E Gui Destroy \u7684\u539F\u56E0)."],["A_GuiWidth","\u5728 GuiSize \u5B50\u7A0B\u5E8F\u4E2D\u5F15\u7528\u65F6, \u5B83\u4EEC\u5206\u522B\u5305\u542B\u4E86 GUI \u7A97\u53E3\u7684\u5BBD\u5EA6\u548C\u9AD8\u5EA6. \u5B83\u4EEC\u5BF9\u5E94\u4E8E\u7A97\u53E3\u7684\u5DE5\u4F5C\u533A, \u8FD9\u662F\u7A97\u53E3\u4E2D\u4E0D\u5305\u62EC\u6807\u9898\u680F, \u83DC\u5355\u680F\u548C\u8FB9\u6846\u7684\u533A\u57DF. [v1.1.11+]: \u8FD9\u4E9B\u503C\u4F1A\u53D7 DPI \u7F29\u653E\u7684\u5F71\u54CD."],["A_GuiHeight","\u5728 GuiSize \u5B50\u7A0B\u5E8F\u4E2D\u5F15\u7528\u65F6, \u5B83\u4EEC\u5206\u522B\u5305\u542B\u4E86 GUI \u7A97\u53E3\u7684\u5BBD\u5EA6\u548C\u9AD8\u5EA6. \u5B83\u4EEC\u5BF9\u5E94\u4E8E\u7A97\u53E3\u7684\u5DE5\u4F5C\u533A, \u8FD9\u662F\u7A97\u53E3\u4E2D\u4E0D\u5305\u62EC\u6807\u9898\u680F, \u83DC\u5355\u680F\u548C\u8FB9\u6846\u7684\u533A\u57DF. [v1.1.11+]: \u8FD9\u4E9B\u503C\u4F1A\u53D7 DPI \u7F29\u653E\u7684\u5F71\u54CD."],["A_GuiX","\u5B83\u4EEC\u5305\u542B\u4E86 GuiContextMenu \u548C GuiDropFiles \u4E8B\u4EF6\u4E2D\u7684 X \u5750\u6807. \u8FD9\u91CC\u7684\u5750\u6807\u76F8\u5BF9\u4E8E\u7A97\u53E3\u7684\u5DE6\u4E0A\u89D2. [v1.1.11+]: \u8FD9\u4E9B\u503C\u4F1A\u53D7 DPI \u7F29\u653E\u7684\u5F71\u54CD."],["A_GuiY","\u5B83\u4EEC\u5305\u542B\u4E86 GuiContextMenu \u548C GuiDropFiles \u4E8B\u4EF6\u4E2D\u7684 Y \u5750\u6807. \u8FD9\u91CC\u7684\u5750\u6807\u76F8\u5BF9\u4E8E\u7A97\u53E3\u7684\u5DE6\u4E0A\u89D2. [v1.1.11+]: \u8FD9\u4E9B\u503C\u4F1A\u53D7 DPI \u7F29\u653E\u7684\u5F71\u54CD."],["A_GuiEvent","\u542F\u52A8\u5F53\u524D\u7EBF\u7A0B\u7684\u4E8B\u4EF6\u7C7B\u578B. \u5982\u679C\u5F53\u524D\u7EBF\u7A0B\u4E0D\u662F\u7531 GUI \u52A8\u4F5C\u542F\u52A8\u7684, \u5219\u6B64\u53D8\u91CF\u4E3A\u7A7A. \u5426\u5219, \u5B83\u4E3A\u4E0B\u5217\u5B57\u7B26\u4E32\u7684\u5176\u4E2D\u4E00\u4E2A:"],["A_GuiControlEvent","\u542F\u52A8\u5F53\u524D\u7EBF\u7A0B\u7684\u4E8B\u4EF6\u7C7B\u578B. \u5982\u679C\u5F53\u524D\u7EBF\u7A0B\u4E0D\u662F\u7531 GUI \u52A8\u4F5C\u542F\u52A8\u7684, \u5219\u6B64\u53D8\u91CF\u4E3A\u7A7A. \u5426\u5219, \u5B83\u4E3A\u4E0B\u5217\u5B57\u7B26\u4E32\u7684\u5176\u4E2D\u4E00\u4E2A: Normal: \u6B64\u4E8B\u4EF6\u662F\u7531\u5DE6\u952E\u5355\u51FB\u548C\u952E\u51FB(\u2191, \u2192, \u2193, \u2190, Tab, Space, \u5E26\u4E0B\u5212\u7EBF\u7684\u5FEB\u6377\u952E\u7B49) \u89E6\u53D1\u7684. \u6B64\u53D8\u91CF\u7684\u503C\u8FD8\u53EF\u4EE5\u7528\u4E8E\u83DC\u5355\u9879\u548C\u7279\u6B8A\u7684 Gui \u4E8B\u4EF6, \u4F8B\u5982 GuiClose \u548C GuiEscape. DoubleClick: \u6B64\u4E8B\u4EF6\u662F\u7531\u53CC\u51FB\u89E6\u53D1\u7684. \u6CE8\u610F: \u53CC\u51FB\u4E2D\u7684\u9996\u6B21\u70B9\u51FB\u4ECD\u4F1A\u5F15\u8D77 Normal \u4E8B\u4EF6\u9996\u5148\u88AB\u63A5\u6536\u5230. \u6362\u53E5\u8BDD\u8BF4, \u53CC\u51FB\u65F6\u5B50\u7A0B\u5E8F\u4F1A\u8FD0\u884C\u4E24\u6B21: \u4E00\u6B21\u5728\u9996\u6B21\u70B9\u51FB\u65F6, \u518D\u6B21\u662F\u5728\u7B2C\u4E8C\u6B21\u70B9\u51FB\u65F6. RightClick: \u4EC5\u51FA\u73B0\u5728 GuiContextMenu, ListViews \u548C TreeViews."],["A_EventInfo","\u5305\u542B\u4E0B\u5217\u4E8B\u4EF6\u7684\u989D\u5916\u4FE1\u606F:OnClipboardChange \u6807\u7B7E   \n \u9F20\u6807\u6EDA\u8F6E\u70ED\u952E(WheelDown/Up/Left/Right)  \n OnMessage()  \n RegisterCallback()  \n Regular Expression Callouts  \n GUI \u4E8B\u4EF6, \u5373 GuiContextMenu, GuiDropFiles, ListBox, ListView, TreeView \u548C StatusBar. \u5982\u679C\u4E00\u4E2A\u4E8B\u4EF6\u6CA1\u6709\u989D\u5916\u7684\u4FE1\u606F, \u90A3\u4E48 A_EventInfo \u7684\u503C\u4E3A 0.\u6CE8\u610F: \u4E0E\u7C7B\u4F3C A_ThisHotkey \u8FD9\u6837\u7684\u53D8\u91CF\u4E0D\u540C, \u6BCF\u4E2A\u7EBF\u7A0B\u4F1A\u4E3A A_Gui, A_GuiControl, A_GuiX/Y, A_GuiEvent \u548C A_EventInfo \u4FDD\u5B58\u5B83\u81EA\u5DF1\u672C\u8EAB\u7684\u503C. \u56E0\u6B64, \u5982\u679C\u4E00\u4E2A\u7EBF\u7A0B\u88AB\u53E6\u4E00\u4E2A\u4E2D\u65AD, \u5728\u8FD9\u4E2A\u7EBF\u7A0B\u6062\u590D\u65F6\u5B83\u4ECD\u5C06\u770B\u5230\u8FD9\u4E9B\u53D8\u91CF\u7684\u539F\u6765/\u6B63\u786E\u7684\u503C."],["A_ThisMenuItem","\u6700\u8FD1\u9009\u62E9\u7684\u81EA\u5B9A\u4E49\u83DC\u5355\u9879\u7684\u540D\u79F0(\u6CA1\u6709\u5219\u4E3A\u7A7A)."],["A_ThisMenu","A_ThisMenuItem \u6240\u5728\u83DC\u5355\u7684\u540D\u79F0."],["A_ThisMenuItemPos","\u8868\u793A A_ThisMenuItem \u5728 A_ThisMenu \u5F53\u524D \u4F4D\u7F6E\u7684\u7F16\u53F7. \u83DC\u5355\u4E2D\u9996\u4E2A\u9879\u76EE\u4E3A 1, \u7B2C\u4E8C\u9879\u4E3A 2, \u4F9D\u6B64\u7C7B\u63A8. \u83DC\u5355\u5206\u9694\u7EBF\u4E5F\u8BA1\u7B97\u5728\u5185. \u5982\u679C A_ThisMenuItem \u4E3A\u7A7A\u6216\u5DF2\u4E0D\u5B58\u5728\u4E8E A_ThisMenu \u4E2D, \u5219\u6B64\u53D8\u91CF\u4E3A\u7A7A. \u5982\u679C A_ThisMenu \u5DF2\u4E0D\u5B58\u5728, \u5219\u6B64\u53D8\u91CF\u4E5F\u4E3A\u7A7A."],["A_ThisHotkey","\u6700\u8FD1\u6267\u884C\u7684\u70ED\u952E\u6216\u975E\u81EA\u52A8\u66FF\u6362\u70ED\u5B57\u4E32\u7684\u6309\u952E\u540D\u79F0(\u5982\u679C\u6CA1\u6709\u5219\u4E3A\u7A7A), \u4F8B\u5982 #z. \u5982\u679C\u5F53\u524D\u7EBF\u7A0B\u88AB\u5176\u4ED6\u70ED\u952E\u4E2D\u65AD, \u90A3\u4E48\u6B64\u53D8\u91CF\u7684\u503C\u4F1A\u53D8\u5316, \u6240\u4EE5\u5982\u679C\u4E4B\u540E\u9700\u8981\u5728\u5B50\u7A0B\u5E8F\u4E2D\u4F7F\u7528\u539F\u6765\u7684\u503C, \u5219\u5FC5\u987B\u9A6C\u4E0A\u628A\u5B83\u590D\u5236\u5230\u53E6\u4E00\u4E2A\u53D8\u91CF\u4E2D.  \n \u9996\u6B21\u521B\u5EFA\u70ED\u952E\u65F6(\u901A\u8FC7 Hotkey \u547D\u4EE4\u6216\u53CC\u5192\u53F7\u6807\u7B7E), \u5176\u952E\u540D\u4EE5\u53CA\u4FEE\u9970\u7B26\u7684\u987A\u5E8F\u6210\u4E3A\u6B64\u70ED\u952E\u7684\u56FA\u5B9A\u540D\u79F0, \u88AB\u6240\u6709\u70ED\u952E variants \u53D8\u91CF\u5171\u4EAB. \u53E6\u8BF7\u53C2\u9605: A_ThisLabel"],["A_PriorHotkey","\u9664\u4E86\u4FDD\u5B58\u524D\u4E00\u6B21\u70ED\u952E\u7684\u540D\u79F0\u5916, \u5176\u4ED6\u7684\u4E0E\u4E0A\u9762\u76F8\u540C. \u5982\u679C\u6CA1\u6709\u5B83\u4F1A\u4E3A\u7A7A."],["A_PriorKey","[v1.1.01+]: \u5728\u6700\u8FD1\u6309\u952E\u6309\u4E0B\u6216\u6309\u952E\u91CA\u653E\u524D\u6700\u540E\u6309\u4E0B\u7684\u6309\u952E\u540D\u79F0, \u5982\u679C\u5728\u6309\u952E\u5386\u53F2\u4E2D\u6CA1\u6709\u9002\u7528\u7684\u6309\u952E\u6309\u4E0B\u5219\u4E3A\u7A7A. \u4E0D\u5305\u62EC\u7531 AutoHotkey \u811A\u672C\u751F\u6210\u7684\u6240\u6709\u8F93\u5165. \u8981\u4F7F\u7528\u6B64\u53D8\u91CF, \u9996\u5148\u5FC5\u987B\u5B89\u88C5\u952E\u76D8\u94A9\u5B50\u6216\u9F20\u6807\u94A9\u5B50\u540C\u65F6\u542F\u7528\u6309\u952E\u5386\u53F2."],["A_TimeSinceThisHotkey","\u4ECE A_ThisHotkey \u6309\u4E0B\u540E\u5230\u73B0\u5728\u7ECF\u8FC7\u7684\u6BEB\u79D2\u6570. \u5982\u679C A_ThisHotkey \u4E3A\u7A7A, \u5219\u6B64\u53D8\u91CF\u7684\u503C\u4E3A -1."],["A_TimeSincePriorHotkey","\u4ECE A_PriorHotkey \u6309\u4E0B\u540E\u5230\u73B0\u5728\u7ECF\u8FC7\u7684\u6BEB\u79D2\u6570. \u5982\u679C A_PriorHotkey \u4E3A\u7A7A, \u5219\u6B64\u53D8\u91CF\u7684\u503C\u4E3A -1."],["A_EndChar","\u7528\u6237\u6700\u8FD1\u6309\u4E0B\u7684\u89E6\u53D1\u4E86\u975E\u81EA\u52A8\u66FF\u6362\u70ED\u5B57\u4E32\u7684\u7EC8\u6B62\u7B26. \u5982\u679C\u4E0D\u9700\u8981\u7EC8\u6B62\u7B26(\u7531\u4E8E\u4F7F\u7528\u4E86 * \u9009\u9879), \u90A3\u4E48\u6B64\u53D8\u91CF\u5C06\u4E3A\u7A7A."],["ComSpec","[v1.0.43.08+] \u6B64\u53D8\u91CF\u7684\u503C\u4E0E\u7CFB\u7EDF\u73AF\u5883\u53D8\u91CF ComSpec \u4E00\u6837(\u4F8B\u5982 C:\\Windows\\system32\\cmd.exe). \u5E38\u4E0E Run/RunWait \u4E00\u8D77\u4F7F\u7528."],["A_ComSpec","[v1.1.28+] \u6B64\u53D8\u91CF\u7684\u503C\u4E0E\u7CFB\u7EDF\u73AF\u5883\u53D8\u91CF ComSpec \u4E00\u6837(\u4F8B\u5982 C:\\Windows\\system32\\cmd.exe). \u5E38\u4E0E Run/RunWait \u4E00\u8D77\u4F7F\u7528."],["A_Temp","[v1.0.43.09+] \u5B58\u653E\u4E34\u65F6\u6587\u4EF6\u7684\u6587\u4EF6\u5939\u7684\u5B8C\u6574\u8DEF\u5F84\u548C\u540D\u79F0(\u4F8B\u5982 C:\\DOCUME~1\\<UserName>\\LOCALS~1\\Temp). \u5B83\u7684\u503C\u4ECE\u4E0B\u5217\u7684\u5176\u4E2D\u4E00\u4E2A\u4F4D\u7F6E\u83B7\u53D6(\u6309\u987A\u5E8F): 1) \u73AF\u5883\u53D8\u91CF TMP, TEMP \u6216 USERPROFILE; 2) Windows \u76EE\u5F55."],["A_OSType","\u6B63\u5728\u8FD0\u884C\u7684\u64CD\u4F5C\u7CFB\u7EDF\u7C7B\u578B. \u7531\u4E8E AutoHotkey 1.1 \u4EC5\u652F\u6301\u57FA\u4E8E NT \u7684\u64CD\u4F5C\u7CFB\u7EDF, \u6240\u4EE5\u6B64\u53D8\u91CF\u603B\u662F\u4E3A WIN32_NT. \u65E7\u7248\u672C\u7684 AutoHotkey \u8FD0\u884C\u5728 Windows 95/98/ME \u65F6\u4F1A\u8FD4\u56DE WIN32_WINDOWS."],["A_OSVersion",'\u4E0B\u5217\u5B57\u7B26\u4E32\u4E2D\u7684\u4E00\u4E2A(\u5982\u679C\u5B58\u5728): WIN_7 [\u9700\u8981 v1.0.90+], WIN_8 [\u9700\u8981 v1.1.08+], WIN_8.1 [\u9700\u8981 v1.1.15+], WIN_VISTA, WIN_2003, WIN_XP, WIN_2000.  \n \u5728 AutoHotKey \u7684\u6267\u884C\u6587\u4EF6\u6216\u7F16\u8BD1\u540E\u7684\u811A\u672C\u5C5E\u6027\u91CC\u6DFB\u52A0\u517C\u5BB9\u6027\u8BBE\u7F6E\u4F1A\u8BA9\u64CD\u4F5C\u7CFB\u7EDF\u62A5\u544A\u4E0D\u540C\u7684\u7248\u672C\u4FE1\u606F, \u53EF\u4EE5\u95F4\u63A5\u5F97\u51FA A_OSVersion . [v1.1.20+]: \u5982\u679C\u7CFB\u7EDF\u7248\u672C\u6CA1\u6709\u88AB\u8BC6\u522B\u6210\u4E0A\u8FF0\u7248\u672C, \u4F1A\u8FD4\u56DE\u4E00\u4E2A"major.minor.build"\u5F62\u5F0F\u7684\u5B57\u7B26\u4E32. \u4F8B\u5982, 10.0.14393 \u4E3A Windows 10 build 14393, \u4E5F\u79F0\u4E3A 1607 \u7248.  \n ; \u8FD9\u4E2A\u793A\u4F8B\u5DF2\u8FC7\u65F6\u4E86, \u91CC\u9762\u7684\u8FD9\u4E9B\u64CD\u4F5C\u7CFB\u7EDF\u90FD\u4E0D\u518D\u53D7\u652F\u6301.  \n if A_OSVersion in WIN_NT4,WIN_95,WIN_98,WIN_ME  ; \u6CE8: \u9017\u53F7\u4E24\u8FB9\u6CA1\u6709\u7A7A\u683C.  \n {  \n    MsgBox This script requires Windows 2000/XP or later.  \n    ExitApp  \n }'],["A_Is64bitOS","[v1.1.08+]: \u5F53\u64CD\u4F5C\u7CFB\u7EDF\u4E3A 64 \u4F4D\u5219\u503C\u4E3A 1(\u771F), \u4E3A 32 \u4F4D\u5219\u4E3A 0(\u5047)."],["A_PtrSize","[v1.0.90+]: \u5305\u542B\u6307\u9488\u7684\u5927\u5C0F\u503C, \u5355\u4F4D\u4E3A\u5B57\u8282. \u503C\u4E3A 4(32 \u4F4D) \u6216 8(64 \u4F4D), \u53D6\u51B3\u4E8E\u8FD0\u884C\u5F53\u524D\u811A\u672C\u7684\u6267\u884C\u7A0B\u5E8F\u7684\u7C7B\u578B."],["A_Language","\u5F53\u524D\u7CFB\u7EDF\u7684\u9ED8\u8BA4\u8BED\u8A00, \u503C\u4E3A\u8FD9\u4E9B 4 \u4F4D\u6570\u5B57\u7F16\u7801\u7684\u5176\u4E2D\u4E00\u4E2A."],["A_ComputerName","\u5728\u7F51\u7EDC\u4E0A\u770B\u5230\u7684\u8BA1\u7B97\u673A\u540D\u79F0."],["A_UserName","\u8FD0\u884C\u5F53\u524D\u811A\u672C\u7684\u7528\u6237\u7684\u767B\u5F55\u540D."],["A_WinDir","Windows \u76EE\u5F55. \u4F8B\u5982: C:\\Windows"],["A_ProgramFiles","Program Files \u76EE\u5F55(\u4F8B\u5982 C:\\Program Files \u6216\u8005 C:\\Program Files (x86)). \u4E00\u822C\u6765\u8BF4\u548C ProgramFiles \u73AF\u5883\u53D8\u91CF\u4E00\u6837."],["ProgramFiles",'**(\u4E0D\u5EFA\u8BAE\u4F7F\u7528\uFF0C\u4F7F\u7528\u540C\u4E49\u7684A_ProgramFiles)**  \nProgram Files \u76EE\u5F55(\u4F8B\u5982 C:\\Program Files \u6216\u8005 C:\\Program Files (x86)). \u4E00\u822C\u6765\u8BF4\u548C ProgramFiles \u73AF\u5883\u53D8\u91CF\u4E00\u6837.  \n \u5728 64 \u4F4D\u7CFB\u7EDF(\u975E 32 \u4F4D\u7CFB\u7EDF) \u4E0A\u9002\u7528:  \n \u5982\u679C\u53EF\u6267\u884C\u6587\u4EF6(EXE) \u4EE5 32 \u4F4D\u811A\u672C\u8FD0\u884C\u7684\u65F6\u5019, A_ProgramFiles \u8FD4\u56DE\u8DEF\u5F84\u4E3A "Program Files (x86)" \u76EE\u5F55.  \n \u5BF9\u4E8E 32 \u4F4D\u7684\u8FDB\u7A0B, \u8FD9\u4E2A ProgramW6432 \u73AF\u5883\u53D8\u91CF\u6307\u5411 64 \u4F4D Program Files \u76EE\u5F55. \u5728 Windows 7 \u548C\u66F4\u9AD8\u7248\u672C\u4E0A, \u5BF9\u4E8E 64 \u4F4D\u7684\u8FDB\u7A0B\u4E5F\u662F\u8FD9\u6837\u8BBE\u7F6E\u7684.  \n \u800C ProgramFiles(x86) \u73AF\u5883\u53D8\u91CF\u6307\u5411 32 \u4F4D Program Files \u76EE\u5F55.  \n [1.0.43.08+]: \u524D\u7F00 A_ \u53EF\u4EE5\u7701\u7565, \u8FD9\u6837\u6709\u52A9\u4E8E\u81EA\u7136\u8FC7\u6E21\u5230 #NoEnv.'],["A_AppData","[v1.0.43.09+] \u5F53\u524D\u7528\u6237\u7684\u5E94\u7528\u7A0B\u5E8F\u6570\u636E\u6587\u4EF6\u5939\u7684\u5B8C\u6574\u8DEF\u5F84\u548C\u540D\u79F0. \u4F8B\u5982: C:\\Documents and Settings\\Username\\Application Data"],["A_AppDataCommon","[v1.0.43.09+] \u6240\u6709\u7528\u6237\u7684\u5E94\u7528\u7A0B\u5E8F\u6570\u636E\u6587\u4EF6\u5939\u7684\u5B8C\u6574\u8DEF\u5F84\u548C\u540D\u79F0."],["A_Desktop","\u5F53\u524D\u7528\u6237\u7684\u684C\u9762\u6587\u4EF6\u5939\u7684\u5B8C\u6574\u8DEF\u5F84\u548C\u540D\u79F0."],["A_DesktopCommon","\u6240\u6709\u7528\u6237\u7684\u684C\u9762\u6587\u4EF6\u5939\u7684\u5B8C\u6574\u8DEF\u5F84\u548C\u540D\u79F0."],["A_StartMenu","\u5F53\u524D\u7528\u6237\u7684\u5F00\u59CB\u83DC\u5355\u6587\u4EF6\u5939\u7684\u5B8C\u6574\u8DEF\u5F84\u548C\u540D\u79F0."],["A_StartMenuCommon","\u6240\u6709\u7528\u6237\u7684\u5F00\u59CB\u83DC\u5355\u6587\u4EF6\u5939\u7684\u5B8C\u6574\u8DEF\u5F84\u548C\u540D\u79F0."],["A_Programs","\u5F53\u524D\u7528\u6237\u7684\u5F00\u59CB\u83DC\u5355\u4E2D\u7A0B\u5E8F\u6587\u4EF6\u5939\u7684\u5B8C\u6574\u8DEF\u5F84\u548C\u540D\u79F0."],["A_ProgramsCommon","\u6240\u6709\u7528\u6237\u7684\u5F00\u59CB\u83DC\u5355\u4E2D\u7A0B\u5E8F\u6587\u4EF6\u5939\u7684\u5B8C\u6574\u8DEF\u5F84\u548C\u540D\u79F0."],["A_Startup","\u5F53\u524D\u7528\u6237\u7684\u5F00\u59CB\u83DC\u5355\u4E2D\u542F\u52A8\u6587\u4EF6\u5939\u7684\u5B8C\u6574\u8DEF\u5F84\u548C\u540D\u79F0."],["A_StartupCommon","\u6240\u6709\u7528\u6237\u7684\u5F00\u59CB\u83DC\u5355\u4E2D\u542F\u52A8\u6587\u4EF6\u5939\u7684\u5B8C\u6574\u8DEF\u5F84\u548C\u540D\u79F0."],["A_MyDocuments",'\u5F53\u524D\u7528\u6237 "\u6211\u7684\u6587\u6863" \u6587\u4EF6\u5939\u7684\u5B8C\u6574\u8DEF\u5F84\u548C\u540D\u79F0. \u4E0E\u5927\u591A\u6570\u7C7B\u4F3C\u53D8\u91CF\u4E0D\u540C, \u5F53\u6B64\u6587\u4EF6\u5939\u4E3A\u9A71\u52A8\u5668\u7684\u6839\u76EE\u5F55\u65F6, \u6B64\u53D8\u91CF\u7684\u503C\u4E0D\u5305\u542B\u6700\u540E\u7684\u53CD\u659C\u6760. \u4F8B\u5982, \u5B83\u7684\u503C\u662F M: \u800C\u4E0D\u662F M:\\'],["A_IsAdmin","\u5982\u679C\u5F53\u524D\u7528\u6237\u6709\u7BA1\u7406\u5458\u6743\u9650, \u5219\u6B64\u53D8\u91CF\u7684\u503C\u4E3A 1. \u5426\u5219\u4E3A 0.  \n \u8981\u4F7F\u811A\u672C\u4EE5\u7BA1\u7406\u5458\u6743\u9650\u91CD\u65B0\u542F\u52A8(\u6216\u663E\u793A\u63D0\u793A\u5411\u7528\u6237\u8BF7\u6C42\u7BA1\u7406\u5458\u6743\u9650), \u8BF7\u4F7F\u7528 Run *RunAs. \u4F46\u662F\u8BF7\u6CE8\u610F, \u4EE5\u7BA1\u7406\u5458\u6743\u9650\u8FD0\u884C\u811A\u672C\u4F1A\u5BFC\u81F4\u811A\u672C\u542F\u52A8\u7684\u6240\u6709\u7A0B\u5E8F\u4E5F\u4EE5\u7BA1\u7406\u5458\u6743\u9650\u8FD0\u884C. \u5BF9\u4E8E\u53EF\u80FD\u7684\u66FF\u4EE3\u65B9\u6848, \u8BF7\u53C2\u9605\u5E38\u89C1\u95EE\u9898(FAQ)."],["A_ScreenWidth","\u4E3B\u76D1\u89C6\u5668\u7684\u5BBD\u5EA6\u548C\u9AD8\u5EA6, \u5355\u4F4D\u4E3A\u50CF\u7D20(\u4F8B\u5982 1024 \u548C 768). \u8981\u83B7\u53D6\u591A\u663E\u793A\u5668\u7CFB\u7EDF\u4E2D\u5176\u4ED6\u663E\u793A\u5668\u7684\u5C3A\u5BF8, \u8BF7\u4F7F\u7528 SysGet."],["A_ScreenHeight","\u4E3B\u76D1\u89C6\u5668\u7684\u5BBD\u5EA6\u548C\u9AD8\u5EA6, \u5355\u4F4D\u4E3A\u50CF\u7D20(\u4F8B\u5982 1024 \u548C 768). \u8981\u83B7\u53D6\u591A\u663E\u793A\u5668\u7CFB\u7EDF\u4E2D\u5176\u4ED6\u663E\u793A\u5668\u7684\u5C3A\u5BF8, \u8BF7\u4F7F\u7528 SysGet.  \n \u8981\u83B7\u53D6\u6574\u4E2A\u684C\u9762(\u5373\u4F7F\u5B83\u6A2A\u8DE8\u591A\u4E2A\u663E\u793A\u5668)\u7684\u5BBD\u5EA6\u548C\u9AD8\u5EA6, \u8BF7\u4F7F\u7528\u4E0B\u9762\u7684\u4F8B\u5B50:\\n SysGet, VirtualWidth, 78  \n SysGet, VirtualHeight, 79  \n \u6B64\u5916, \u4F7F\u7528 SysGet \u53EF\u4EE5\u83B7\u53D6\u663E\u793A\u5668\u7684\u5DE5\u4F5C\u533A\u57DF, \u5B83\u6BD4\u663E\u793A\u5668\u7684\u6574\u4E2A\u533A\u57DF\u5C0F, \u56E0\u4E3A\u5B83\u4E0D\u5305\u62EC\u4EFB\u52A1\u680F\u548C\u5176\u4ED6\u6CE8\u518C\u7684\u684C\u9762\u5DE5\u5177\u680F."],["A_ScreenDPI","[v1.1.11+] \u5728\u5C4F\u5E55\u5BBD\u5EA6\u4E0A\u6BCF\u903B\u8F91\u5BF8\u7684\u50CF\u7D20\u6570. \u5728\u591A\u663E\u793A\u5668\u7684\u7CFB\u7EDF\u4E2D, \u8FD9\u4E2A\u503C\u5BF9\u4E8E\u6240\u6709\u7684\u663E\u793A\u5668\u90FD\u662F\u4E00\u6837\u7684. \u5728\u5927\u591A\u6570\u7CFB\u7EDF\u4E2D\u8BE5\u503C\u4E3A 96; \u5B83\u53D6\u51B3\u4E8E\u7CFB\u7EDF\u6587\u672C\u5927\u5C0F(DPI)\u8BBE\u7F6E. \u53E6\u8BF7\u53C2\u9605 Gui -DPIScale."],["A_IPAddress1","\u8BA1\u7B97\u673A\u4E2D\u524D 4 \u4E2A\u7F51\u5361\u7684 IP \u5730\u5740."],["A_IPAddress2","\u8BA1\u7B97\u673A\u4E2D\u524D 4 \u4E2A\u7F51\u5361\u7684 IP \u5730\u5740."],["A_IPAddress3","\u8BA1\u7B97\u673A\u4E2D\u524D 4 \u4E2A\u7F51\u5361\u7684 IP \u5730\u5740."],["A_IPAddress4","\u8BA1\u7B97\u673A\u4E2D\u524D 4 \u4E2A\u7F51\u5361\u7684 IP \u5730\u5740."],["A_Cursor","\u5F53\u524D\u663E\u793A\u7684\u9F20\u6807\u5149\u6807\u7C7B\u578B. \u5176\u503C\u4E3A\u4E0B\u5217\u5355\u8BCD\u7684\u5176\u4E2D\u4E00\u4E2A: AppStarting(\u7A0B\u5E8F\u542F\u52A8, \u540E\u53F0\u8FD0\u884C--\u7BAD\u5934+\u7B49\u5F85), Arrow(\u7BAD\u5934, \u6B63\u5E38\u9009\u62E9--\u6807\u51C6\u5149\u6807), Cross(\u5341\u5B57, \u7CBE\u786E\u9009\u62E9), Help(\u5E2E\u52A9, \u5E2E\u52A9\u9009\u62E9--\u7BAD\u5934+\u95EE\u53F7), IBeam(\u5DE5\u5B57\u5149\u6807, \u6587\u672C\u9009\u62E9--\u8F93\u5165), Icon, No(No, \u4E0D\u53EF\u7528--\u5706\u5708\u52A0\u53CD\u659C\u6760), Size, SizeAll(\u6240\u6709\u5C3A\u5BF8,\u79FB\u52A8--\u56DB\u5411\u7BAD\u5934), SizeNESW(\u4E1C\u5357\u548C\u897F\u5317\u5C3A\u5BF8, \u6CBF\u5BF9\u89D2\u7EBF\u8C03\u6574 2--\u53CC\u7BAD\u5934\u6307\u5411\u4E1C\u5357\u548C\u897F\u5317), SizeNS(\u5357\u5317\u5C3A\u5BF8, \u5782\u76F4\u8C03\u6574--\u53CC\u7BAD\u5934\u6307\u5411\u5357\u5317), SizeNWSE(\u897F\u5317\u548C\u4E1C\u5357\u5C3A\u5BF8, \u6CBF\u5BF9\u89D2\u7EBF\u8C03\u6574 1--\u53CC\u7BAD\u5934\u6307\u5411\u897F\u5317\u548C\u4E1C\u5357), SizeWE(\u4E1C\u897F\u5C3A\u5BF8, \u6C34\u5E73\u8C03\u6574--\u53CC\u7BAD\u5934\u6307\u5411\u4E1C\u897F), UpArrow(\u5411\u4E0A\u7BAD\u5934, \u5019\u9009--\u6307\u5411\u4E0A\u7684\u7BAD\u5934), Wait(\u7B49\u5F85, \u5FD9--\u6C99\u6F0F\u6216\u5706\u5708), Unknown(\u672A\u77E5). \u4E0E size \u6307\u9488\u7C7B\u578B\u4E00\u8D77\u7684\u9996\u5B57\u6BCD\u8868\u793A\u65B9\u5411, \u4F8B\u5982 NESW = NorthEast(\u4E1C\u5317)+SouthWest(\u897F\u5357). \u624B\u578B\u6307\u9488(\u70B9\u51FB\u548C\u6293\u53D6) \u5C5E\u4E8E Unknown \u7C7B\u522B."],["A_CaretX","\u5F53\u524D\u5149\u6807(\u6587\u672C\u63D2\u5165\u70B9) \u7684 X \u548C Y \u5750\u6807. \u5982\u679C\u6CA1\u6709\u4F7F\u7528 CoordMode \u4F7F\u5F97\u5750\u6807\u76F8\u5BF9\u4E8E\u6574\u4E2A\u5C4F\u5E55, \u9ED8\u8BA4\u5750\u6807\u76F8\u5BF9\u4E8E\u6D3B\u52A8\u7A97\u53E3. \u5982\u679C\u6CA1\u6709\u6D3B\u52A8\u7A97\u53E3\u6216\u65E0\u6CD5\u786E\u5B9A\u6587\u672C\u63D2\u5165\u70B9\u7684\u4F4D\u7F6E, \u5219\u8FD9\u4E24\u4E2A\u53D8\u91CF\u4E3A\u7A7A.  \n \u4E0B\u9762\u8FD9\u4E2A\u811A\u672C\u53EF\u4EE5\u8BA9\u60A8\u5728\u56DB\u5904\u79FB\u52A8\u6587\u672C\u63D2\u5165\u70B9\u65F6, \u67E5\u770B\u663E\u793A\u5728\u81EA\u52A8\u66F4\u65B0\u5DE5\u5177\u63D0\u793A\u4E0A\u7684\u5F53\u524D\u4F4D\u7F6E. \u6CE8\u610F\u5728\u67D0\u4E9B\u7A97\u53E3(\u4F8B\u5982\u67D0\u4E9B\u7248\u672C\u7684 MS Word) \u4F1A\u4E0D\u7BA1\u6587\u672C\u63D2\u5165\u70B9\u7684\u5B9E\u9645\u4F4D\u7F6E\u5982\u4F55\u90FD\u62A5\u544A\u540C\u6837\u7684\u4F4D\u7F6E. #Persistent  \n SetTimer, WatchCaret, 100  \n return  \n WatchCaret:  \n ToolTip, X%A_CaretX% Y%A_CaretY%, A_CaretX, A_CaretY - 20  \n return"],["A_CaretY","\u5F53\u524D\u5149\u6807(\u6587\u672C\u63D2\u5165\u70B9) \u7684 X \u548C Y \u5750\u6807. \u5982\u679C\u6CA1\u6709\u4F7F\u7528 CoordMode \u4F7F\u5F97\u5750\u6807\u76F8\u5BF9\u4E8E\u6574\u4E2A\u5C4F\u5E55, \u9ED8\u8BA4\u5750\u6807\u76F8\u5BF9\u4E8E\u6D3B\u52A8\u7A97\u53E3. \u5982\u679C\u6CA1\u6709\u6D3B\u52A8\u7A97\u53E3\u6216\u65E0\u6CD5\u786E\u5B9A\u6587\u672C\u63D2\u5165\u70B9\u7684\u4F4D\u7F6E, \u5219\u8FD9\u4E24\u4E2A\u53D8\u91CF\u4E3A\u7A7A.  \n  \u4E0B\u9762\u8FD9\u4E2A\u811A\u672C\u53EF\u4EE5\u8BA9\u60A8\u5728\u56DB\u5904\u79FB\u52A8\u6587\u672C\u63D2\u5165\u70B9\u65F6, \u67E5\u770B\u663E\u793A\u5728\u81EA\u52A8\u66F4\u65B0\u5DE5\u5177\u63D0\u793A\u4E0A\u7684\u5F53\u524D\u4F4D\u7F6E. \u6CE8\u610F\u5728\u67D0\u4E9B\u7A97\u53E3(\u4F8B\u5982\u67D0\u4E9B\u7248\u672C\u7684 MS Word) \u4F1A\u4E0D\u7BA1\u6587\u672C\u63D2\u5165\u70B9\u7684\u5B9E\u9645\u4F4D\u7F6E\u5982\u4F55\u90FD\u62A5\u544A\u540C\u6837\u7684\u4F4D\u7F6E. #Persistent  \n SetTimer, WatchCaret, 100  \n return  \n WatchCaret:  \n ToolTip, X%A_CaretX% Y%A_CaretY%, A_CaretX, A_CaretY - 20  \n return"],["Clipboard","\u53EF\u8BFB\u53D6/\u5199\u5165: \u64CD\u4F5C\u7CFB\u7EDF\u526A\u8D34\u677F\u7684\u5185\u5BB9, \u53EF\u4EE5\u4ECE\u4E2D\u8BFB\u53D6\u6216\u5199\u5165\u5185\u5BB9. \u8BF7\u53C2\u9605\u526A\u8D34\u677F\u7AE0\u8282."],["ClipboardAll","\u53EF\u8BFB\u53D6/\u5199\u5165: \u526A\u8D34\u677F\u4E2D\u7684\u5B8C\u6574\u5185\u5BB9(\u5305\u542B\u683C\u5F0F\u548C\u6587\u672C). \u8BF7\u53C2\u9605 ClipboardAll."],["ErrorLevel","\u53EF\u8BFB\u53D6/\u5199\u5165: \u8BF7\u53C2\u9605 ErrorLevel."],["A_LastError","\u64CD\u4F5C\u7CFB\u7EDF GetLastError() \u51FD\u6570\u6216\u6700\u8FD1 COM \u5BF9\u8C61\u8C03\u7528\u8FD4\u56DE\u7684\u7ED3\u679C. \u8981\u4E86\u89E3\u8BE6\u60C5, \u8BF7\u53C2\u9605 DllCall() \u548C Run/RunWait."],["A_Index","\u5F53\u524D\u5FAA\u73AF\u91CD\u590D\u7684\u6B21\u6570(64 \u4F4D\u6574\u6570). \u4F8B\u5982, \u5F53\u811A\u672C\u9996\u6B21\u6267\u884C\u6B64\u5FAA\u73AF\u4F53\u65F6, \u6B64\u53D8\u91CF\u7684\u503C\u4E3A 1. \u8981\u4E86\u89E3\u8BE6\u60C5\u8BF7\u53C2\u9605 Loop \u6216 While \u5FAA\u73AF."],["A_LoopFileName","\u6B64\u53D8\u91CF\u4EC5\u5728\u6587\u4EF6\u5FAA\u73AF\u4E2D\u6709\u6548. \u5F53\u524D\u83B7\u53D6\u7684\u6587\u4EF6\u6216\u6587\u4EF6\u5939\u7684\u540D\u79F0(\u4E0D\u542B\u8DEF\u5F84)."],["A_LoopFileExt","\u6B64\u53D8\u91CF\u4EC5\u5728\u6587\u4EF6\u5FAA\u73AF\u4E2D\u6709\u6548. \u5F53\u524D\u6587\u4EF6\u7684\u6269\u5C55\u540D(\u4F8B\u5982 TXT, DOC \u6216 EXE). \u4E0D\u542B\u53E5\u70B9(.)."],["A_LoopFileFullPath","\u6B64\u53D8\u91CF\u4EC5\u5728\u6587\u4EF6\u5FAA\u73AF\u4E2D\u6709\u6548. \u5F53\u524D\u83B7\u53D6\u7684\u6587\u4EF6/\u6587\u4EF6\u5939\u7684\u8DEF\u5F84\u548C\u540D\u79F0. \u5982\u679C FilePattern \u5305\u542B\u76F8\u5BF9\u8DEF\u5F84\u800C\u4E0D\u662F\u7EDD\u5BF9\u8DEF\u5F84, \u90A3\u4E48\u8FD9\u91CC\u7684\u8DEF\u5F84\u4E5F\u662F\u76F8\u5BF9\u8DEF\u5F84. \u6B64\u5916, FilePattern \u4E2D\u7684\u4EFB\u4F55\u77ED(8.3) \u6587\u4EF6\u5939\u540D\u79F0\u4ECD\u5C06\u4E3A\u77ED\u540D\u79F0(\u8BF7\u53C2\u9605\u4E0B\u4E00\u9879\u6765\u83B7\u53D6\u957F\u540D\u79F0).  \n A_LoopFilePath \u53EF\u4EE5\u5728 [v1.1.28+] \u4E2D\u4F7F\u7528, \u4F5C\u4E3A A_LoopFileFullPath \u7684\u522B\u540D, A_LoopFileFullPath \u662F\u4E00\u4E2A\u9519\u8BEF\u7684\u7528\u8BCD."],["A_LoopFilePath","\u6B64\u53D8\u91CF\u4EC5\u5728\u6587\u4EF6\u5FAA\u73AF\u4E2D\u6709\u6548. \u5F53\u524D\u83B7\u53D6\u7684\u6587\u4EF6/\u6587\u4EF6\u5939\u7684\u8DEF\u5F84\u548C\u540D\u79F0. \u5982\u679C FilePattern \u5305\u542B\u76F8\u5BF9\u8DEF\u5F84\u800C\u4E0D\u662F\u7EDD\u5BF9\u8DEF\u5F84, \u90A3\u4E48\u8FD9\u91CC\u7684\u8DEF\u5F84\u4E5F\u662F\u76F8\u5BF9\u8DEF\u5F84. \u6B64\u5916, FilePattern \u4E2D\u7684\u4EFB\u4F55\u77ED(8.3) \u6587\u4EF6\u5939\u540D\u79F0\u4ECD\u5C06\u4E3A\u77ED\u540D\u79F0(\u8BF7\u53C2\u9605\u4E0B\u4E00\u9879\u6765\u83B7\u53D6\u957F\u540D\u79F0).  \n A_LoopFilePath \u53EF\u4EE5\u5728 [v1.1.28+] \u4E2D\u4F7F\u7528, \u4F5C\u4E3A A_LoopFileFullPath \u7684\u522B\u540D, A_LoopFileFullPath \u662F\u4E00\u4E2A\u9519\u8BEF\u7684\u7528\u8BCD."],["A_LoopFileLongPath","\u6B64\u53D8\u91CF\u4EC5\u5728\u6587\u4EF6\u5FAA\u73AF\u4E2D\u6709\u6548. \u6B64\u53D8\u91CF\u4E0E A_LoopFileFullPath \u6709\u4EE5\u4E0B\u4E0D\u540C\u4E4B\u5904: 1) \u4E0D\u8BBA FilePattern \u5305\u542B\u7684\u662F\u5426\u4E3A\u76F8\u5BF9\u8DEF\u5F84, \u5B83\u603B\u662F\u5305\u542B\u6587\u4EF6\u7684\u7EDD\u5BF9/\u5B8C\u6574\u8DEF\u5F84; 2) \u5728 FilePattern \u4E2D\u7684\u4EFB\u4F55\u77ED(8.3) \u6587\u4EF6\u5939\u540D\u79F0\u88AB\u8F6C\u6362\u6210\u5B83\u4EEC\u7684\u957F\u540D\u79F0; 3) \u5728 FilePattern \u4E2D\u7684\u5B57\u7B26\u88AB\u8F6C\u6362\u6210\u4E0E\u6587\u4EF6\u7CFB\u7EDF\u4E2D\u5B58\u50A8\u7684\u540D\u79F0\u4E00\u81F4\u7684\u5927\u5C0F\u5199\u5F62\u5F0F. \u628A\u6587\u4EF6\u540D\u8F6C\u6362\u4E3A\u8D44\u6E90\u7BA1\u7406\u5668\u4E2D\u663E\u793A\u7684\u51C6\u786E\u8DEF\u5F84\u540D\u79F0\u65F6\u8FD9\u5F88\u6709\u7528, \u4F8B\u5982\u4F5C\u4E3A\u547D\u4EE4\u884C\u53C2\u6570\u4F20\u9012\u7ED9\u811A\u672C\u7684\u90A3\u4E9B."],["A_LoopFileShortPath","\u6B64\u53D8\u91CF\u4EC5\u5728\u6587\u4EF6\u5FAA\u73AF\u4E2D\u6709\u6548. \u5F53\u524D\u83B7\u53D6\u7684\u6587\u4EF6/\u6587\u4EF6\u5939\u7684 8.3 \u77ED\u8DEF\u5F84\u548C\u540D\u79F0. \u4F8B\u5982: C:\\MYDOCU~1\\ADDRES~1.txt. \u5982\u679C FilePattern \u5305\u542B\u76F8\u5BF9\u8DEF\u5F84\u800C\u4E0D\u662F\u7EDD\u5BF9\u8DEF\u5F84, \u90A3\u4E48\u8FD9\u91CC\u7684\u8DEF\u5F84\u4E5F\u662F\u76F8\u5BF9\u8DEF\u5F84. `n \u8981\u83B7\u53D6\u5355\u4E2A\u6587\u4EF6\u6216\u6587\u4EF6\u5939\u7684\u5B8C\u6574\u7684 8.3 \u8DEF\u5F84\u548C\u540D\u79F0, \u50CF\u8FD9\u4E2A\u4F8B\u5B50\u90A3\u6837\u5728 FilePattern \u4E2D\u6307\u5B9A\u5176\u540D\u79F0:  \n Loop, C:\\My Documents\\Address List.txt  \n    ShortPathName = %A_LoopFileShortPath%  \n \u6CE8\u610F: \u5982\u679C\u6587\u4EF6\u6CA1\u6709\u77ED\u540D\u79F0, \u90A3\u4E48\u6B64\u53D8\u91CF\u5C06\u4E3A \u7A7A, \u8FD9\u79CD\u60C5\u51B5\u4F1A\u53D1\u751F\u5728\u6CE8\u518C\u8868\u4E2D\u8BBE\u7F6E\u4E86 NtfsDisable8dot3NameCreation \u7684\u7CFB\u7EDF\u4E0A. \u5982\u679C FilePattern \u5305\u542B\u76F8\u5BF9\u8DEF\u5F84\u4E14\u5FAA\u73AF\u4F53\u4E2D\u4F7F\u7528 SetWorkingDir \u4ECE\u5F53\u524D\u5FAA\u73AF\u7684\u6709\u6548\u7684\u5DE5\u4F5C\u76EE\u5F55\u4E2D\u5207\u6362\u51FA\u6765, \u90A3\u4E48\u5B83\u4E5F\u5C06\u4E3A\u7A7A."],["A_LoopFileShortName","\u6B64\u53D8\u91CF\u4EC5\u5728\u6587\u4EF6\u5FAA\u73AF\u4E2D\u6709\u6548. 8.3 \u77ED\u540D\u79F0\u6216\u6587\u4EF6\u7684\u5907\u7528\u540D\u79F0. \u5982\u679C\u6587\u4EF6\u6CA1\u6709\u6B64\u540D\u79F0(\u7531\u4E8E\u957F\u540D\u79F0\u6BD4 8.3 \u5F62\u5F0F\u66F4\u77ED\u6216\u4E5F\u8BB8\u56E0\u4E3A\u5728 NTFS \u6587\u4EF6\u7CFB\u7EDF\u4E0A\u7981\u6B62\u751F\u6210\u77ED\u540D\u79F0), \u5C06\u83B7\u53D6 A_LoopFileName \u4F5C\u4E3A\u4EE3\u66FF."],["A_LoopFileDir","\u6B64\u53D8\u91CF\u4EC5\u5728\u6587\u4EF6\u5FAA\u73AF\u4E2D\u6709\u6548. A_LoopFileName \u6240\u5728\u76EE\u5F55\u7684\u8DEF\u5F84. \u5982\u679C FilePattern \u5305\u542B\u76F8\u5BF9\u8DEF\u5F84\u800C\u4E0D\u662F\u7EDD\u5BF9\u8DEF\u5F84, \u90A3\u4E48\u8FD9\u91CC\u7684\u8DEF\u5F84\u4E5F\u662F\u76F8\u5BF9\u8DEF\u5F84. \u6839\u76EE\u5F55\u5C06\u4E0D\u5305\u542B\u672B\u5C3E\u7684\u53CD\u659C\u6760. \u4F8B\u5982: C:"],["A_LoopFileTimeModified","\u6B64\u53D8\u91CF\u4EC5\u5728\u6587\u4EF6\u5FAA\u73AF\u4E2D\u6709\u6548. \u6587\u4EF6\u7684\u4E0A\u6B21\u4FEE\u6539\u65F6\u95F4. \u683C\u5F0F\u4E3A YYYYMMDDHH24MISS."],["A_LoopFileTimeCreated","\u6B64\u53D8\u91CF\u4EC5\u5728\u6587\u4EF6\u5FAA\u73AF\u4E2D\u6709\u6548. \u6587\u4EF6\u7684\u521B\u5EFA\u65F6\u95F4. \u683C\u5F0F\u4E3A YYYYMMDDHH24MISS."],["A_LoopFileTimeAccessed","\u6B64\u53D8\u91CF\u4EC5\u5728\u6587\u4EF6\u5FAA\u73AF\u4E2D\u6709\u6548. \u6587\u4EF6\u7684\u4E0A\u6B21\u8BBF\u95EE\u65F6\u95F4. \u683C\u5F0F\u4E3A YYYYMMDDHH24MISS."],["A_LoopFileAttrib","\u6B64\u53D8\u91CF\u4EC5\u5728\u6587\u4EF6\u5FAA\u73AF\u4E2D\u6709\u6548. \u5F53\u524D\u83B7\u53D6\u7684\u6587\u4EF6\u7684\u5C5E\u6027."],["A_LoopFileSize","\u6B64\u53D8\u91CF\u4EC5\u5728\u6587\u4EF6\u5FAA\u73AF\u4E2D\u6709\u6548. \u4EE5\u5B57\u8282\u4E3A\u5355\u4F4D\u7684\u5F53\u524D\u83B7\u53D6\u7684\u6587\u4EF6\u7684\u5927\u5C0F. \u540C\u6837\u652F\u6301\u5927\u4E8E 4 GB \u7684\u6587\u4EF6."],["A_LoopFileSizeKB","\u6B64\u53D8\u91CF\u4EC5\u5728\u6587\u4EF6\u5FAA\u73AF\u4E2D\u6709\u6548. \u4EE5 KB \u4E3A\u5355\u4F4D\u7684\u5F53\u524D\u83B7\u53D6\u7684\u6587\u4EF6\u7684\u5927\u5C0F, \u5411\u4E0B\u53D6\u6574\u5230\u6700\u8FD1\u7684\u6574\u6570."],["A_LoopFileSizeMB","\u6B64\u53D8\u91CF\u4EC5\u5728\u6587\u4EF6\u5FAA\u73AF\u4E2D\u6709\u6548. \u4EE5 MB \u4E3A\u5355\u4F4D\u7684\u5F53\u524D\u83B7\u53D6\u7684\u6587\u4EF6\u7684\u5927\u5C0F, \u5411\u4E0B\u53D6\u6574\u5230\u6700\u8FD1\u7684\u6574\u6570."],["A_LoopRegName",'\u6B64\u53D8\u91CF\u4EC5\u5728\u6CE8\u518C\u8868\u5FAA\u73AFLoop, Reg\u4E2D\u6709\u6548. \u5F53\u524D\u83B7\u53D6\u9879\u7684\u540D\u79F0, \u53EF\u4EE5\u662F\u503C\u540D\u6216\u5B50\u952E\u540D. \u5728 Windows \u6CE8\u518C\u8868\u7F16\u8F91\u5668\u4E2D, \u503C\u540D\u4E3A "(\u9ED8\u8BA4)" \u7684\u9879\u5982\u679C\u5206\u914D\u4E86\u503C, \u90A3\u4E48\u4E5F\u4F1A\u83B7\u53D6\u5B83\u7684\u503C, \u4E0D\u8FC7\u6B64\u65F6\u76F8\u5E94\u7684 A_LoopRegName \u5C06\u662F\u7A7A\u7684.'],["A_LoopRegType","\u6B64\u53D8\u91CF\u4EC5\u5728\u6CE8\u518C\u8868\u5FAA\u73AFLoop, Reg\u4E2D\u6709\u6548. \u5F53\u524D\u83B7\u53D6\u9879\u7684\u7C7B\u578B, \u53EF\u4EE5\u662F\u4E0B\u5217\u5355\u8BCD\u7684\u5176\u4E2D\u4E00\u4E2A: KEY(\u5373\u5F53\u524D\u83B7\u53D6\u9879\u4E3A\u5B50\u952E\u800C\u4E0D\u662F\u503C), REG_SZ, REG_EXPAND_SZ, REG_MULTI_SZ, REG_DWORD, REG_QWORD, REG_BINARY, REG_LINK, REG_RESOURCE_LIST, REG_FULL_RESOURCE_DESCRIPTOR, REG_RESOURCE_REQUIREMENTS_LIST, REG_DWORD_BIG_ENDIAN(\u5728\u5927\u591A\u6570 Windows \u786C\u4EF6\u4E0A\u76F8\u5F53\u7F55\u89C1). \u5982\u679C\u5F53\u524D\u83B7\u53D6\u9879\u4E3A\u672A\u77E5\u7C7B\u578B, \u90A3\u4E48\u6B64\u53D8\u91CF\u5C06\u4E3A\u7A7A."],["A_LoopRegKey","\u6B64\u53D8\u91CF\u4EC5\u5728\u6CE8\u518C\u8868\u5FAA\u73AFLoop, Reg\u4E2D\u6709\u6548. \u6B63\u5728\u8BBF\u95EE\u7684\u6839\u952E\u540D(HKEY_LOCAL_MACHINE, HKEY_USERS, HKEY_CURRENT_USER, HKEY_CLASSES_ROOT \u6216 HKEY_CURRENT_CONFIG). \u8BBF\u95EE\u8FDC\u7A0B\u6CE8\u518C\u8868\u65F6, \u6B64\u53D8\u91CF\u7684\u503C\u5C06\u4E0D\u5305\u542B\u8BA1\u7B97\u673A\u540D."],["A_LoopRegSubKey","\u6B64\u53D8\u91CF\u4EC5\u5728\u6CE8\u518C\u8868\u5FAA\u73AFLoop, Reg\u4E2D\u6709\u6548. \u5F53\u524D\u5B50\u952E\u540D. \u5982\u679C\u6CA1\u6709\u4F7F\u7528 Recurse \u53C2\u6570\u4EE5\u9012\u5F52\u67E5\u8BE2\u5176\u4ED6\u5B50\u952E\u65F6, \u6B64\u53D8\u91CF\u7684\u503C\u4E0E Key \u53C2\u6570\u76F8\u540C. \u5728\u9012\u5F52\u67E5\u8BE2\u65F6, \u6B64\u53D8\u91CF\u7684\u503C\u5C06\u4E3A\u5F53\u524D\u83B7\u53D6\u9879\u7684\u5B8C\u6574\u8DEF\u5F84, \u5176\u4E2D\u4E0D\u5305\u542B\u6839\u952E. \u4F8B\u5982: Software\\SomeApplication\\My SubKey"],["A_LoopRegTimeModified","\u6B64\u53D8\u91CF\u4EC5\u5728\u6CE8\u518C\u8868\u5FAA\u73AFLoop, Reg\u4E2D\u6709\u6548. \u5F53\u524D\u5B50\u952E\u6216\u5176\u4E2D\u4EFB\u4F55\u4E00\u4E2A\u503C\u7684\u4E0A\u6B21\u4FEE\u6539\u65F6\u95F4. \u683C\u5F0F\u4E3A YYYYMMDDHH24MISS. \u5F53\u524D\u83B7\u53D6\u9879\u4E0D\u662F\u5B50\u952E(\u5373 A_LoopRegType \u4E0D\u662F\u5355\u8BCD KEY) \u65F6,\u6B64\u53D8\u91CF\u5C06\u4E3A\u7A7A."],["A_LoopReadLine","\u8BF7\u53C2\u9605\u6587\u4EF6\u8BFB\u53D6\u5FAA\u73AFloop, files. \u5F53\u524D\u83B7\u53D6\u7684\u6587\u4EF6\u6216\u6587\u4EF6\u5939\u7684\u540D\u79F0(\u4E0D\u542B\u8DEF\u5F84)."],["A_LoopField","\u8BF7\u53C2\u9605\u89E3\u6790\u5FAA\u73AFLoop, Parse. \u5B83\u5305\u542B\u4E86 InputVar \u4E2D\u5F53\u524D\u5B50\u5B57\u7B26\u4E32(\u7247\u6BB5) \u7684\u5185\u5BB9. \u5982\u679C\u4E00\u4E2A\u5185\u5C42\u89E3\u6790\u5FAA\u73AF\u5305\u542B\u5728\u4E00\u4E2A\u5916\u5C42\u89E3\u6790\u5FAA\u73AF\u4E2D, \u5219\u6700\u5185\u5C42\u5FAA\u73AF\u7684\u7247\u6BB5\u5C06\u5177\u6709\u4F18\u5148\u6743."],["A_InitialWorkingDir",'\u811A\u672C\u7684\u521D\u59CB\u5DE5\u4F5C\u76EE\u5F55, \u8FD9\u662F\u7531\u542F\u52A8\u65B9\u5F0F\u51B3\u5B9A\u7684. \u4F8B\u5982, \u5982\u679C\u5B83\u662F\u901A\u8FC7\u5FEB\u6377\u65B9\u5F0F\u8FD0\u884C\u7684 -- \u6BD4\u5982\u5728\u5F00\u59CB\u83DC\u5355\u4E0A -- \u5B83\u7684\u521D\u59CB\u5DE5\u4F5C\u76EE\u5F55\u7531\u5FEB\u6377\u65B9\u5F0F\u5C5E\u6027\u4E2D\u7684 "\u8D77\u59CB\u4F4D\u7F6E" \u5B57\u6BB5\u51B3\u5B9A.'],["A_Clipboard","Clipboard \u7684\u522B\u540D."],["true","\u5E03\u5C14\u503C true, \u5185\u7F6E\u53D8\u91CF\u503C\u4E3A 1"],["false","\u5E03\u5C14\u503C false, \u5185\u7F6E\u53D8\u91CF\u503C\u4E3A 0"]];builtin_function=[{"name":"Abs","params":[{"name":"Number","isOptional":false}]},{"name":"ACos","params":[{"name":"Number","isOptional":false}]},{"name":"Asc","params":[{"name":"String","isOptional":false}]},{"name":"ASin","params":[{"name":"Number","isOptional":false}]},{"name":"ATan","params":[{"name":"Number","isOptional":false}]},{"name":"Ceil","params":[{"name":"Number","isOptional":false}]},{"name":"Chr","params":[{"name":"Number","isOptional":false}]},{"name":"Cos","params":[{"name":"Number","isOptional":false}]},{"name":"DllCall","params":[{"name":"DllFile\\Function","isOptional":false},{"name":"Type1","isOptional":true},{"name":"Arg1","isOptional":true},{"name":"Type2","isOptional":true},{"name":"Arg2","isOptional":true},{"name":"...","isOptional":true},{"name":'"Cdecl ReturnType"',"isOptional":true}]},{"name":"Exception","params":[{"name":"Message","isOptional":false},{"name":"What","isOptional":true},{"name":"Extra","isOptional":true}]},{"name":"Exp","params":[{"name":"Number","isOptional":false}]},{"name":"FileExist","params":[{"name":"FilePattern","isOptional":false}]},{"name":"Floor","params":[{"name":"Number","isOptional":false}]},{"name":"GetKeyState","params":[{"name":"KeyName","isOptional":false},{"name":'"P" or "T"',"isOptional":true}]},{"name":"IL_Add","params":[{"name":"ImageListID","isOptional":false},{"name":"Filename","isOptional":false},{"name":"IconNumber","isOptional":true},{"name":"ResizeNonIcon?","isOptional":true}]},{"name":"IL_Create","params":[{"name":"nitialCount","isOptional":true},{"name":"GrowCount","isOptional":true},{"name":"LargeIcons?","isOptional":true}]},{"name":"IL_Destroy","params":[{"name":"ImageListID","isOptional":false}]},{"name":"InStr","params":[{"name":"Haystack","isOptional":false},{"name":"Needle","isOptional":false},{"name":"CaseSensitive?","isOptional":true},{"name":"StartingPos","isOptional":true},{"name":"Occurrence","isOptional":true}]},{"name":"IsFunc","params":[{"name":"FunctionName","isOptional":false}]},{"name":"IsLabel","params":[{"name":"LabelName","isOptional":false}]},{"name":"IsSet","params":[{"name":"Var","isOptional":false}]},{"name":"Ln","params":[{"name":"Number","isOptional":false}]},{"name":"Log","params":[{"name":"Number","isOptional":false}]},{"name":"LV_Add","params":[{"name":"options","isOptional":true},{"name":"Col*","isOptional":true}]},{"name":"LV_Delete","params":[{"name":"owNumber","isOptional":true}]},{"name":"LV_DeleteCol","params":[{"name":"ColumnNumber","isOptional":false}]},{"name":"LV_GetCount","params":[{"name":'"S|C"',"isOptional":true}]},{"name":"LV_GetNext","params":[{"name":"tartingRowNumber","isOptional":true},{"name":'"C|F"',"isOptional":true}]},{"name":"LV_GetText","params":[{"name":"OutputVar","isOptional":false},{"name":"RowNumber","isOptional":false},{"name":"ColumnNumber","isOptional":true}]},{"name":"LV_Insert","params":[{"name":"RowNumber","isOptional":false},{"name":"Options","isOptional":true},{"name":"Col*","isOptional":true}]},{"name":"LV_InsertCol","params":[{"name":"ColumnNumber","isOptional":false},{"name":"Options","isOptional":true},{"name":"ColumnTitle","isOptional":true}]},{"name":"LV_Modify","params":[{"name":"RowNumber","isOptional":false},{"name":"Options","isOptional":false},{"name":"NewCol1*","isOptional":true}]},{"name":"LV_ModifyCol","params":[{"name":"olumnNumber","isOptional":true},{"name":"Options","isOptional":true},{"name":"ColumnTitle","isOptional":true}]},{"name":"LV_SetImageList","params":[{"name":"ImageListID","isOptional":false},{"name":"0|1|2","isOptional":true}]},{"name":"Max","params":[{"name":"Number*","isOptional":false}]},{"name":"Min","params":[{"name":"Number*","isOptional":false}]},{"name":"Mod","params":[{"name":"Dividend","isOptional":false},{"name":"Divisor","isOptional":false}]},{"name":"NumGet","params":[{"name":"VarOrAddress","isOptional":false},{"name":"Offset","isOptional":true,"defaultVal":"0"},{"name":"Type","isOptional":true,"defaultVal":'"UPtr"'}]},{"name":"NumPut","params":[{"name":"Number","isOptional":false},{"name":"VarOrAddress","isOptional":false},{"name":"Offset","isOptional":true,"defaultVal":"0"},{"name":"Type","isOptional":true,"defaultVal":'"UPtr"'}]},{"name":"OnMessage","params":[{"name":"MsgNumber","isOptional":false},{"name":"FunctionName","isOptional":true}]},{"name":"RegExMatch","params":[{"name":"Haystack","isOptional":false},{"name":"NeedleRegEx","isOptional":false},{"name":"UnquotedOutputVar","isOptional":true,"defaultVal":'""'},{"name":"StartingPos","isOptional":true,"defaultVal":"1"}]},{"name":"RegExReplace","params":[{"name":"Haystack","isOptional":false},{"name":"NeedleRegEx","isOptional":false},{"name":"Replacement","isOptional":true,"defaultVal":'""'},{"name":"OutputVarCount","isOptional":true,"defaultVal":'""'},{"name":"Limit","isOptional":true,"defaultVal":"-1"},{"name":"StartingPos","isOptional":true,"defaultVal":"1"}]},{"name":"RegisterCallback","params":[{"name":"FunctionName","isOptional":false},{"name":"Options","isOptional":true,"defaultVal":'""'},{"name":"ParamCount","isOptional":true,"defaultVal":"FormalCount"},{"name":"EventInfo","isOptional":true,"defaultVal":"Address"}]},{"name":"Round","params":[{"name":"Number","isOptional":false},{"name":"Places","isOptional":true}]},{"name":"SB_SetIcon","params":[{"name":"Filename","isOptional":false},{"name":"IconNumber","isOptional":true},{"name":"PartNumber","isOptional":true}]},{"name":"SB_SetParts","params":[{"name":"idth*","isOptional":true}]},{"name":"SB_SetText","params":[{"name":"NewText","isOptional":false},{"name":"PartNumber","isOptional":true},{"name":"Style","isOptional":true}]},{"name":"Sin","params":[{"name":"Number","isOptional":false}]},{"name":"Sqrt","params":[{"name":"Number","isOptional":false}]},{"name":"StrLen","params":[{"name":"String","isOptional":false}]},{"name":"StrReplace","params":[{"name":"Haystack","isOptional":false},{"name":"Needle","isOptional":false},{"name":"ReplaceText","isOptional":true},{"name":"OutputVarCount","isOptional":true,"defaultVal":"0"},{"name":"Limit","isOptional":true,"defaultVal":"-1"}]},{"name":"SubStr","params":[{"name":"String","isOptional":false},{"name":"StartingPos","isOptional":false},{"name":"Length","isOptional":true}]},{"name":"StrSplit","params":[{"name":"String","isOptional":false},{"name":"Delimiters","isOptional":true},{"name":"OmitChars","isOptional":true}]},{"name":"Tan","params":[{"name":"Number","isOptional":false}]},{"name":"TV_Add","params":[{"name":"Name","isOptional":false},{"name":"","isOptional":false},{"name":"arentItemID","isOptional":true},{"name":"Options","isOptional":true}]},{"name":"TV_Delete","params":[{"name":"temID","isOptional":true}]},{"name":"TV_GetChild","params":[{"name":"ParentItemID","isOptional":false}]},{"name":"TV_GetCount","params":[]},{"name":"TV_GetNext","params":[{"name":"temID","isOptional":true},{"name":'"Checked | Full"',"isOptional":true}]},{"name":"TV_Get","params":[{"name":"ItemID","isOptional":false},{"name":'"Expand | Check | Bold"',"isOptional":false}]},{"name":"TV_GetParent","params":[{"name":"ItemID","isOptional":false}]},{"name":"TV_GetPrev","params":[{"name":"ItemID","isOptional":false}]},{"name":"TV_GetSelection","params":[]},{"name":"TV_GetText","params":[{"name":"OutputVar","isOptional":false},{"name":"ItemID","isOptional":false}]},{"name":"TV_Modify","params":[{"name":"ItemID","isOptional":false},{"name":"Options","isOptional":true},{"name":"NewName","isOptional":true}]},{"name":"TV_SetImageList","params":[{"name":"ImageList","isOptional":false},{"name":"0|2","isOptional":true}]},{"name":"VarSetCapacity","params":[{"name":"Var","isOptional":false},{"name":"RequestedCapacity","isOptional":true},{"name":"FillByte","isOptional":true}]},{"name":"WinActive","params":[{"name":'WinTitle"',"isOptional":true},{"name":'"WinText"',"isOptional":true},{"name":'"ExcludeTitle"',"isOptional":true},{"name":'"ExcludeText"',"isOptional":true}]},{"name":"WinExist","params":[{"name":'WinTitle"',"isOptional":true},{"name":'"WinText"',"isOptional":true},{"name":'"ExcludeTitle"',"isOptional":true},{"name":'"ExcludeText"',"isOptional":true}]},{"name":"Trim","params":[{"name":"String","isOptional":false},{"name":"OmitChars","isOptional":true,"defaultVal":'" `t"'}]},{"name":"LTrim","params":[{"name":"String","isOptional":false},{"name":"OmitChars","isOptional":true,"defaultVal":'" `t"'}]},{"name":"RTrim","params":[{"name":"String","isOptional":false},{"name":"OmitChars","isOptional":true,"defaultVal":'" `t"'}]},{"name":"FileOpen","params":[{"name":"Filename","isOptional":false},{"name":"Flags","isOptional":false},{"name":"Encoding","isOptional":true}]},{"name":"StrGet","params":[{"name":"Address","isOptional":false},{"name":"Max","isOptional":true},{"name":"Encoding","isOptional":true}]},{"name":"StrPut","params":[{"name":"String","isOptional":false},{"name":"Encoding","isOptional":true}]},{"name":"StrPut","params":[{"name":"String","isOptional":false},{"name":"Address","isOptional":false},{"name":"Max","isOptional":true},{"name":"Encoding","isOptional":true}]},{"name":"GetKeyName","params":[{"name":"Key","isOptional":false}]},{"name":"GetKeyVK","params":[{"name":"Key","isOptional":false}]},{"name":"GetKeySC","params":[{"name":"Key","isOptional":false}]},{"name":"IsByRef","params":[{"name":"Var","isOptional":false}]},{"name":"Object","params":[{"name":"Obj","isOptional":false}]},{"name":"Object","params":[{"name":"Key*","isOptional":true},{"name":"Value*","isOptional":true}]},{"name":"Array","params":[{"name":"Value*","isOptional":true}]},{"name":"IsObject","params":[{"name":"Parameter","isOptional":false}]},{"name":"ObjBindMethod","params":[{"name":"Obj","isOptional":false},{"name":"Method","isOptional":false},{"name":"Params*","isOptional":true}]},{"name":"ComObjCreate","params":[{"name":"ProgIdOrCLSID","isOptional":false},{"name":"IID","isOptional":true}]},{"name":"ComObjGet","params":[{"name":"Name","isOptional":false}]},{"name":"ComObjConnect","params":[{"name":"Obj","isOptional":false},{"name":"FuncPrefixOrObj","isOptional":true}]},{"name":"ComObjError","params":[{"name":"nable","isOptional":true}]},{"name":"ComObjActive","params":[{"name":"ProgIdOrCLSID","isOptional":false}]},{"name":"ComObjEnwrap","params":[{"name":"Pdisp","isOptional":false}]},{"name":"ComObjUnwrap","params":[{"name":"Obj","isOptional":false}]},{"name":"ComObjParameter","params":[{"name":"VarType","isOptional":false},{"name":"Value","isOptional":false},{"name":"Flags","isOptional":true}]},{"name":"ComObjType","params":[{"name":"Obj","isOptional":false},{"name":'"Name|IID"',"isOptional":true}]},{"name":"ComObjValue","params":[{"name":"Obj","isOptional":false}]},{"name":"ComObjMissing","params":[]},{"name":"ComObjArray","params":[{"name":"VarType","isOptional":false},{"name":"Count*","isOptional":false}]},{"name":"ComObjQuery","params":[{"name":"ComObject","isOptional":false},{"name":"SID","isOptional":true},{"name":"IID","isOptional":false}]},{"name":"ComObjFlags","params":[{"name":"ComObject","isOptional":false},{"name":"NewFlags","isOptional":true},{"name":"Mask","isOptional":true}]},{"name":"Func","params":[{"name":"Funcname","isOptional":false}]},{"name":"OnClipboardChange","params":[{"name":"Func","isOptional":false},{"name":"AddRemove","isOptional":true,"defaultVal":"1"}]},{"name":"Ord","params":[{"name":"String","isOptional":false}]},{"name":"OnMessage","params":[{"name":"MsgNumber","isOptional":false},{"name":"Function","isOptional":true},{"name":"MaxThreads","isOptional":true}]}];builtin_command=[{"name":"AutoTrim","params":[{"name":"On|Off","isOptional":false}]},{"name":"BlockInput","params":[{"name":"On|Off|Send|Mouse|SendAndMouse|Default|MouseMove|MouseMoveOff","isOptional":false}]},{"name":"Click","params":[{"name":"Value1","isOptional":true},{"name":"Value2","isOptional":true},{"name":"Value3","isOptional":true},{"name":"Value4","isOptional":true}]},{"name":"ClipWait","params":[{"name":"SecondsToWait","isOptional":true},{"name":"1","isOptional":true}]},{"name":"Control","params":[{"name":"Cmd","isOptional":false},{"name":"Value","isOptional":false},{"name":"Control","isOptional":false},{"name":"WinTitle","isOptional":false},{"name":"WinText","isOptional":false},{"name":"ExcludeTitle","isOptional":false},{"name":"ExcludeText","isOptional":true}]},{"name":"ControlClick","params":[{"name":"Control-or-Pos","isOptional":true},{"name":"WinTitle","isOptional":true},{"name":"WinText","isOptional":true},{"name":"WhichButton","isOptional":true},{"name":"ClickCount","isOptional":true},{"name":"NA|D|U|Pos|Xn|Yn","isOptional":true},{"name":"ExcludeTitle","isOptional":true},{"name":"ExcludeText","isOptional":true}]},{"name":"ControlFocus","params":[{"name":"Control","isOptional":true},{"name":"WinTitle","isOptional":true},{"name":"WinText","isOptional":true},{"name":"ExcludeTitle","isOptional":true},{"name":"ExcludeText","isOptional":true}]},{"name":"ControlGet","params":[{"name":"OutputVar","isOptional":false},{"name":"Cmd","isOptional":false},{"name":"Value","isOptional":false},{"name":"Control","isOptional":false},{"name":"WinTitle","isOptional":false},{"name":"WinText","isOptional":false},{"name":"ExcludeTitle","isOptional":false},{"name":"ExcludeText","isOptional":true}]},{"name":"ControlGetFocus","params":[{"name":"OutputVar","isOptional":false},{"name":"WinTitle","isOptional":false},{"name":"WinText","isOptional":false},{"name":"ExcludeTitle","isOptional":false},{"name":"ExcludeText","isOptional":true}]},{"name":"ControlGetPos","params":[{"name":"X","isOptional":true},{"name":"Y","isOptional":true},{"name":"Width","isOptional":true},{"name":"Height","isOptional":true},{"name":"Control","isOptional":true},{"name":"WinTitle","isOptional":true},{"name":"WinText","isOptional":true},{"name":"ExcludeTitle","isOptional":true},{"name":"ExcludeText","isOptional":true}]},{"name":"ControlGetText","params":[{"name":"OutputVar","isOptional":false},{"name":"Control","isOptional":false},{"name":"WinTitle","isOptional":false},{"name":"WinText","isOptional":false},{"name":"ExcludeTitle","isOptional":false},{"name":"ExcludeText","isOptional":true}]},{"name":"ControlMove","params":[{"name":"Control","isOptional":false},{"name":"X","isOptional":false},{"name":"Y","isOptional":false},{"name":"Width","isOptional":false},{"name":"Height","isOptional":false},{"name":"WinTitle","isOptional":false},{"name":"WinText","isOptional":false},{"name":"ExcludeTitle","isOptional":false},{"name":"ExcludeText","isOptional":true}]},{"name":"ControlSend","params":[{"name":"Control","isOptional":true},{"name":"Keys","isOptional":true},{"name":"WinTitle","isOptional":true},{"name":"WinText","isOptional":true},{"name":"ExcludeTitle","isOptional":true},{"name":"ExcludeText","isOptional":true}]},{"name":"ControlSendRaw","params":[{"name":"Control","isOptional":true},{"name":"Keys","isOptional":true},{"name":"WinTitle","isOptional":true},{"name":"WinText","isOptional":true},{"name":"ExcludeTitle","isOptional":true},{"name":"ExcludeText","isOptional":true}]},{"name":"ControlSetText","params":[{"name":"Control","isOptional":true},{"name":"NewText","isOptional":true},{"name":"WinTitle","isOptional":true},{"name":"WinText","isOptional":true},{"name":"ExcludeTitle","isOptional":true},{"name":"ExcludeText","isOptional":true}]},{"name":"CoordMode","params":[{"name":"ToolTip|Pixel|Mouse|Caret|Menu","isOptional":false},{"name":"Screen|Relative|Window|Client","isOptional":true}]},{"name":"DetectHiddenText","params":[{"name":"On|Off","isOptional":false}]},{"name":"DetectHiddenWindows","params":[{"name":"On|Off","isOptional":false}]},{"name":"Drive","params":[{"name":"Label|Lock|Unlock|Eject","isOptional":false},{"name":"Drive","isOptional":false},{"name":"Value","isOptional":true}]},{"name":"DriveGet","params":[{"name":"OutputVar","isOptional":false},{"name":"Cmd","isOptional":false},{"name":"Value","isOptional":true}]},{"name":"DriveSpaceFree","params":[{"name":"OutputVar","isOptional":false},{"name":"Path","isOptional":false}]},{"name":"Edit","params":[]},{"name":"EnvAdd","params":[{"name":"Var","isOptional":false},{"name":"Value","isOptional":false},{"name":"TimeUnits","isOptional":true}]},{"name":"EnvDiv","params":[{"name":"Var","isOptional":false},{"name":"Value","isOptional":false}]},{"name":"EnvGet","params":[{"name":"OutputVar","isOptional":false},{"name":"EnvVarName","isOptional":false}]},{"name":"EnvMult","params":[{"name":"Var","isOptional":false},{"name":"Value","isOptional":false}]},{"name":"EnvSet","params":[{"name":"EnvVarName","isOptional":false},{"name":"Value","isOptional":false}]},{"name":"EnvSub","params":[{"name":"Var","isOptional":false},{"name":"Value","isOptional":false},{"name":"TimeUnits","isOptional":true}]},{"name":"EnvUpdate","params":[]},{"name":"FileAppend","params":[{"name":"Text","isOptional":true},{"name":"*Filename","isOptional":true},{"name":"Encoding","isOptional":true}]},{"name":"FileCopy","params":[{"name":"Source","isOptional":false},{"name":"Dest","isOptional":false},{"name":"0|1","isOptional":true}]},{"name":"FileCopyDir","params":[{"name":"Source","isOptional":false},{"name":"Dest","isOptional":false},{"name":"0|1","isOptional":true}]},{"name":"FileCreateDir","params":[{"name":"DirName","isOptional":false}]},{"name":"FileCreateShortcut","params":[{"name":"Target","isOptional":false},{"name":"LinkFile","isOptional":false},{"name":"WorkingDir","isOptional":false},{"name":"Args","isOptional":false},{"name":"Description","isOptional":false},{"name":"IconFile","isOptional":false},{"name":"ShortcutKey","isOptional":false},{"name":"IconNumber","isOptional":false},{"name":"RunState","isOptional":true}]},{"name":"FileDelete","params":[{"name":"FilePattern","isOptional":false}]},{"name":"FileEncoding","params":[{"name":"UTF-8|UTF-16|UTF-8-RAW|UTF-16-RAW|CPnnn","isOptional":true}]},{"name":"FileGetAttrib","params":[{"name":"OutputVar","isOptional":false},{"name":"Filename","isOptional":true}]},{"name":"FileGetShortcut","params":[{"name":"LinkFile","isOptional":false},{"name":"OutTarget","isOptional":false},{"name":"OutDir","isOptional":false},{"name":"OutArgs","isOptional":false},{"name":"OutDescription","isOptional":false},{"name":"OutIcon","isOptional":false},{"name":"OutIconNum","isOptional":false},{"name":"OutRunState","isOptional":true}]},{"name":"FileGetSize","params":[{"name":"OutputVar","isOptional":false},{"name":"Filename","isOptional":false},{"name":"K|M","isOptional":true}]},{"name":"FileGetTime","params":[{"name":"OutputVar","isOptional":false},{"name":"Filename","isOptional":false},{"name":"M|C|A","isOptional":true}]},{"name":"FileGetVersion","params":[{"name":"OutputVar","isOptional":false},{"name":"Filename","isOptional":true}]},{"name":"FileInstall","params":[{"name":"Source","isOptional":false},{"name":"Dest","isOptional":false},{"name":"0|1","isOptional":true}]},{"name":"FileMove","params":[{"name":"Source","isOptional":false},{"name":"Dest","isOptional":false},{"name":"0|1","isOptional":true}]},{"name":"FileMoveDir","params":[{"name":"Source","isOptional":false},{"name":"Dest","isOptional":false},{"name":"0|1|2|R","isOptional":true}]},{"name":"FileRead","params":[{"name":"OutputVar","isOptional":false},{"name":"*Filename","isOptional":false}]},{"name":"FileReadLine","params":[{"name":"OutputVar","isOptional":false},{"name":"Filename","isOptional":false},{"name":"LineNum","isOptional":false}]},{"name":"FileRecycle","params":[{"name":"FilePattern","isOptional":false}]},{"name":"FileRecycleEmpty","params":[{"name":"DriveLetter","isOptional":true}]},{"name":"FileRemoveDir","params":[{"name":"DirName","isOptional":false},{"name":"0|1","isOptional":true}]},{"name":"FileSelectFile","params":[{"name":"OutputVar","isOptional":false},{"name":"Options","isOptional":false},{"name":"RootDir\\\\Filename","isOptional":false},{"name":"Prompt","isOptional":false},{"name":"Filter","isOptional":true}]},{"name":"FileSelectFolder","params":[{"name":"OutputVar","isOptional":false},{"name":"StartingFolder","isOptional":false},{"name":"Options","isOptional":false},{"name":"Prompt","isOptional":true}]},{"name":"FileSetAttrib","params":[{"name":"Attributes","isOptional":false},{"name":"FilePattern","isOptional":false},{"name":"0|1|2","isOptional":false},{"name":"0|1","isOptional":true}]},{"name":"FileSetTime","params":[{"name":"YYYYMMDDHH24MISS","isOptional":true},{"name":"FilePattern","isOptional":true},{"name":"M|C|A","isOptional":true},{"name":"0|1|2","isOptional":true},{"name":"0|1","isOptional":true}]},{"name":"FormatTime","params":[{"name":"OutputVar","isOptional":false},{"name":"YYYYMMDDHH24MISS","isOptional":false},{"name":"Format","isOptional":true}]},{"name":"GetKeyState","params":[{"name":"OutputVar","isOptional":false},{"name":"KeyName","isOptional":false},{"name":"P|T","isOptional":true}]},{"name":"GroupActivate","params":[{"name":"GroupName","isOptional":false},{"name":"R","isOptional":true}]},{"name":"GroupAdd","params":[{"name":"GroupName","isOptional":false},{"name":"WinTitle","isOptional":false},{"name":"WinText","isOptional":false},{"name":"Label","isOptional":false},{"name":"ExcludeTitle","isOptional":false},{"name":"ExcludeText","isOptional":true}]},{"name":"GroupClose","params":[{"name":"GroupName","isOptional":false},{"name":"A|R","isOptional":true}]},{"name":"GroupDeactivate","params":[{"name":"GroupName","isOptional":false},{"name":"R","isOptional":true}]},{"name":"Gui","params":[{"name":"Sub-command","isOptional":false},{"name":"Param2","isOptional":false},{"name":"Param3","isOptional":false},{"name":"Param4","isOptional":true}]},{"name":"GuiControl","params":[{"name":"Sub-command","isOptional":false},{"name":"ControlID","isOptional":false},{"name":"Param","isOptional":true}]},{"name":"GuiControlGet","params":[{"name":"OutputVar","isOptional":false},{"name":"Sub-command","isOptional":false},{"name":"ControlID","isOptional":false},{"name":"Param","isOptional":true}]},{"name":"Hotkey","params":[{"name":"If","isOptional":false},{"name":"Expression","isOptional":true}]},{"name":"Hotkey","params":[{"name":"IfWinActive|IfExist","isOptional":false},{"name":"WinTitle","isOptional":false},{"name":"WinText","isOptional":true}]},{"name":"Hotkey","params":[{"name":"KeyName","isOptional":false},{"name":"Label","isOptional":false},{"name":"Options","isOptional":true}]},{"name":"ImageSearch","params":[{"name":"OutputVarX","isOptional":false},{"name":"OutputVarY","isOptional":false},{"name":"X1","isOptional":false},{"name":"Y1","isOptional":false},{"name":"X2","isOptional":false},{"name":"Y2","isOptional":false},{"name":"*ImageFile","isOptional":false}]},{"name":"IniDelete","params":[{"name":"Filename","isOptional":false},{"name":"Section","isOptional":false},{"name":"Key","isOptional":true}]},{"name":"IniRead","params":[{"name":"OutputVar","isOptional":false},{"name":"Filename","isOptional":false},{"name":"Section","isOptional":false},{"name":"Key","isOptional":false},{"name":"Default","isOptional":true}]},{"name":"IniWrite","params":[{"name":"Value","isOptional":false},{"name":"Filename","isOptional":false},{"name":"Section","isOptional":false},{"name":"Key","isOptional":true}]},{"name":"Input","params":[{"name":"OutputVar","isOptional":true},{"name":"Options","isOptional":true},{"name":"EndKeys","isOptional":true},{"name":"MatchList","isOptional":true}]},{"name":"InputBox","params":[{"name":"OutputVar","isOptional":false},{"name":"Title","isOptional":false},{"name":"Prompt","isOptional":false},{"name":"HIDE","isOptional":false},{"name":"Width","isOptional":false},{"name":"Height","isOptional":false},{"name":"X","isOptional":false},{"name":"Y","isOptional":false},{"name":"Locale","isOptional":false},{"name":"Timeout","isOptional":false},{"name":"Default","isOptional":true}]},{"name":"KeyHistory","params":[]},{"name":"KeyWait","params":[{"name":"KeyName","isOptional":false},{"name":"D|L|Tn","isOptional":true}]},{"name":"ListHotkeys","params":[]},{"name":"ListLines","params":[{"name":"On|Off","isOptional":true}]},{"name":"ListVars","params":[]},{"name":"Menu","params":[{"name":"MenuName","isOptional":false},{"name":"Cmd","isOptional":false},{"name":"P3","isOptional":false},{"name":"P4","isOptional":false},{"name":"P5","isOptional":true}]},{"name":"MouseClick","params":[{"name":"WhichButton","isOptional":true},{"name":"X","isOptional":true},{"name":"Y","isOptional":true},{"name":"ClickCount","isOptional":true},{"name":"Speed","isOptional":true},{"name":"D|U","isOptional":true},{"name":"R","isOptional":true}]},{"name":"MouseClickDrag","params":[{"name":"WhichButton","isOptional":false},{"name":"X1","isOptional":false},{"name":"Y1","isOptional":false},{"name":"X2","isOptional":false},{"name":"Y2","isOptional":false},{"name":"Speed","isOptional":false},{"name":"R","isOptional":true}]},{"name":"MouseGetPos","params":[{"name":"OutputVarX","isOptional":true},{"name":"OutputVarY","isOptional":true},{"name":"OutputVarWin","isOptional":true},{"name":"OutputVarControl","isOptional":true},{"name":"1|2|3","isOptional":true}]},{"name":"MouseMove","params":[{"name":"X","isOptional":false},{"name":"Y","isOptional":false},{"name":"Speed","isOptional":false},{"name":"R","isOptional":true}]},{"name":"MsgBox","params":[{"name":"Text","isOptional":false}]},{"name":"MsgBox","params":[{"name":"Options","isOptional":true},{"name":"Title","isOptional":true},{"name":"Text","isOptional":true},{"name":"Timeout","isOptional":true}]},{"name":"OutputDebug","params":[{"name":"Text","isOptional":false}]},{"name":"PixelGetColor","params":[{"name":"OutputVar","isOptional":false},{"name":"X","isOptional":false},{"name":"Y","isOptional":false},{"name":"Alt|Slow|RGB","isOptional":true}]},{"name":"PixelSearch","params":[{"name":"OutputVarX","isOptional":false},{"name":"OutputVarY","isOptional":false},{"name":"X1","isOptional":false},{"name":"Y1","isOptional":false},{"name":"X2","isOptional":false},{"name":"Y2","isOptional":false},{"name":"ColorID","isOptional":false},{"name":"Variation","isOptional":false},{"name":"Fast|RGB","isOptional":true}]},{"name":"PostMessage","params":[{"name":"Msg","isOptional":false},{"name":"wParam","isOptional":false},{"name":"lParam","isOptional":false},{"name":"Control","isOptional":false},{"name":"WinTitle","isOptional":false},{"name":"WinText","isOptional":false},{"name":"ExcludeTitle","isOptional":false},{"name":"ExcludeText","isOptional":true}]},{"name":"Process","params":[{"name":"Exist|Close|List|Priority|Wait|WaitClose","isOptional":false},{"name":"PID-or-Name","isOptional":false},{"name":"Param","isOptional":true}]},{"name":"Progress","params":[{"name":"Off|Param","isOptional":false},{"name":"SubText","isOptional":false},{"name":"MainText","isOptional":false},{"name":"WinTitle","isOptional":false},{"name":"FontName","isOptional":true}]},{"name":"Random","params":[{"name":"","isOptional":false},{"name":"NewSeed","isOptional":false}]},{"name":"Random","params":[{"name":"OutputVar","isOptional":false},{"name":"Min","isOptional":false},{"name":"Max","isOptional":true}]},{"name":"RegDelete","params":[{"name":"HKLM|HKU|HKCU|HKCR|HKCC\\\\SubKey","isOptional":false},{"name":"ValueName","isOptional":true}]},{"name":"RegRead","params":[{"name":"OutputVar","isOptional":false},{"name":"HKLM|HKU|HKCU|HKCR|HKCC\\\\SubKey","isOptional":false},{"name":"ValueName","isOptional":true}]},{"name":"RegWrite","params":[{"name":"REG_SZ|REG_EXPAND_SZ|REG_MULTI_SZ|REG_DWORD|REG_BINARY","isOptional":false},{"name":"HKLM|HKU|HKCU|HKCR|HKCC\\\\SubKey","isOptional":false},{"name":"ValueName","isOptional":false},{"name":"Value","isOptional":true}]},{"name":"Run","params":[{"name":"Target","isOptional":false},{"name":"WorkingDir","isOptional":false},{"name":"Max|Min|Hide|UseErrorLevel","isOptional":false},{"name":"OutputVarPID","isOptional":true}]},{"name":"RunAs","params":[{"name":"User","isOptional":true},{"name":"Password","isOptional":true},{"name":"Domain","isOptional":true}]},{"name":"RunWait","params":[{"name":"Target","isOptional":false},{"name":"WorkingDir","isOptional":false},{"name":"Max|Min|Hide|UseErrorLevel","isOptional":false},{"name":"OutputVarPID","isOptional":true}]},{"name":"Send","params":[{"name":"Keys","isOptional":false}]},{"name":"SendEvent","params":[{"name":"Keys","isOptional":false}]},{"name":"SendInput","params":[{"name":"Keys","isOptional":false}]},{"name":"SendLevel","params":[{"name":"Level","isOptional":false}]},{"name":"SendMessage","params":[{"name":"Msg","isOptional":false},{"name":"wParam","isOptional":false},{"name":"lParam","isOptional":false},{"name":"Control","isOptional":false},{"name":"WinTitle","isOptional":false},{"name":"WinText","isOptional":false},{"name":"ExcludeTitle","isOptional":false},{"name":"ExcludeText","isOptional":true}]},{"name":"SendMode","params":[{"name":"Input|Play|Event|InputThenPlay","isOptional":false}]},{"name":"SendPlay","params":[{"name":"Keys","isOptional":false}]},{"name":"SendRaw","params":[{"name":"Keys","isOptional":false}]},{"name":"SetBatchLines","params":[{"name":"-1|20ms|LineCount","isOptional":false}]},{"name":"SetCapsLockState","params":[{"name":"On|Off|AlwaysOn|AlwaysOff","isOptional":true}]},{"name":"SetControlDelay","params":[{"name":"Milliseconds","isOptional":false}]},{"name":"SetDefaultMouseSpeed","params":[{"name":"Speed","isOptional":false}]},{"name":"SetEnv","params":[{"name":"Var","isOptional":false},{"name":"Value","isOptional":false}]},{"name":"SetFormat","params":[{"name":"IntegerFast|FloatFast","isOptional":false},{"name":"TotalWidth.DecimalPlaces|H|D","isOptional":false}]},{"name":"SetKeyDelay","params":[{"name":"Milliseconds","isOptional":true},{"name":"PressDuration","isOptional":true},{"name":"Play","isOptional":true}]},{"name":"SetMouseDelay","params":[{"name":"Milliseconds","isOptional":false},{"name":"Play","isOptional":true}]},{"name":"SetNumLockState","params":[{"name":"On|Off|AlwaysOn|AlwaysOff","isOptional":true}]},{"name":"SetRegView","params":[{"name":"32|64|Default","isOptional":false}]},{"name":"SetScrollLockState","params":[{"name":"On|Off|AlwaysOn|AlwaysOff","isOptional":true}]},{"name":"SetStoreCapslockMode","params":[{"name":"On|Off","isOptional":false}]},{"name":"SetTitleMatchMode","params":[{"name":"Fast|Slow|RegEx|1|2|3","isOptional":false}]},{"name":"SetWinDelay","params":[{"name":"Milliseconds","isOptional":false}]},{"name":"SetWorkingDir","params":[{"name":"DirName","isOptional":false}]},{"name":"Shutdown","params":[{"name":"Code","isOptional":false}]},{"name":"Sort","params":[{"name":"VarName","isOptional":false},{"name":"Options","isOptional":true}]},{"name":"SoundBeep","params":[{"name":"37-to-32767","isOptional":true},{"name":"Milliseconds","isOptional":true}]},{"name":"SoundGet","params":[{"name":"OutputVar","isOptional":false},{"name":"ComponentType","isOptional":false},{"name":"ControlType","isOptional":false},{"name":"DeviceNumber","isOptional":true}]},{"name":"SoundGetWaveVolume","params":[{"name":"OutputVar","isOptional":false},{"name":"DeviceNumber","isOptional":true}]},{"name":"SoundPlay","params":[{"name":"Filename","isOptional":false},{"name":"Wait","isOptional":true}]},{"name":"SoundSet","params":[{"name":"NewSetting","isOptional":false},{"name":"ComponentType","isOptional":false},{"name":"ControlType","isOptional":false},{"name":"DeviceNumber","isOptional":true}]},{"name":"SoundSetWaveVolume","params":[{"name":"Percent","isOptional":false},{"name":"DeviceNumber","isOptional":true}]},{"name":"SplashImage","params":[{"name":"Off|ImageFile","isOptional":true},{"name":"Options","isOptional":true},{"name":"SubText","isOptional":true},{"name":"MainText","isOptional":true},{"name":"WinTitle","isOptional":true},{"name":"FontName","isOptional":true}]},{"name":"SplashTextOff","params":[]},{"name":"SplashTextOn","params":[{"name":"Width","isOptional":true},{"name":"Height","isOptional":true},{"name":"Title","isOptional":true},{"name":"Text","isOptional":true}]},{"name":"SplitPath","params":[{"name":"InputVar","isOptional":false},{"name":"OutFileName","isOptional":false},{"name":"OutDir","isOptional":false},{"name":"OutExtension","isOptional":false},{"name":"OutNameNoExt","isOptional":false},{"name":"OutDrive","isOptional":true}]},{"name":"StatusBarGetText","params":[{"name":"OutputVar","isOptional":false},{"name":"Part","isOptional":false},{"name":"WinTitle","isOptional":false},{"name":"WinText","isOptional":false},{"name":"ExcludeTitle","isOptional":false},{"name":"ExcludeText","isOptional":true}]},{"name":"StatusBarWait","params":[{"name":"BarText","isOptional":true},{"name":"Seconds","isOptional":true},{"name":"Part","isOptional":true},{"name":"WinTitle","isOptional":true},{"name":"WinText","isOptional":true},{"name":"Interval","isOptional":true},{"name":"ExcludeTitle","isOptional":true},{"name":"ExcludeText","isOptional":true}]},{"name":"StringCaseSense","params":[{"name":"On|Off|Locale","isOptional":false}]},{"name":"StringGetPos","params":[{"name":"OutputVar","isOptional":false},{"name":"InputVar","isOptional":false},{"name":"SearchText","isOptional":false},{"name":"L|R|Ln|Rn","isOptional":false},{"name":"Offset","isOptional":true}]},{"name":"StringLeft","params":[{"name":"OutputVar","isOptional":false},{"name":"InputVar","isOptional":false},{"name":"Count","isOptional":false}]},{"name":"StringLen","params":[{"name":"OutputVar","isOptional":false},{"name":"InputVar","isOptional":false}]},{"name":"StringLower","params":[{"name":"OutputVar","isOptional":false},{"name":"InputVar","isOptional":false},{"name":"T","isOptional":true}]},{"name":"StringMid","params":[{"name":"OutputVar","isOptional":false},{"name":"InputVar","isOptional":false},{"name":"StartChar","isOptional":false},{"name":"Count","isOptional":false},{"name":"L","isOptional":true}]},{"name":"StringReplace","params":[{"name":"OutputVar","isOptional":false},{"name":"InputVar","isOptional":false},{"name":"SearchText","isOptional":false},{"name":"ReplaceText","isOptional":false},{"name":"All","isOptional":true}]},{"name":"StringRight","params":[{"name":"OutputVar","isOptional":false},{"name":"InputVar","isOptional":false},{"name":"Count","isOptional":false}]},{"name":"StringSplit","params":[{"name":"OutputArray","isOptional":false},{"name":"InputVar","isOptional":false},{"name":"Delimiters","isOptional":false},{"name":"OmitChars","isOptional":true}]},{"name":"StringTrimLeft","params":[{"name":"OutputVar","isOptional":false},{"name":"InputVar","isOptional":false},{"name":"Count","isOptional":false}]},{"name":"StringTrimRight","params":[{"name":"OutputVar","isOptional":false},{"name":"InputVar","isOptional":false},{"name":"Count","isOptional":false}]},{"name":"StringUpper","params":[{"name":"OutputVar","isOptional":false},{"name":"InputVar","isOptional":false},{"name":"T","isOptional":true}]},{"name":"Suspend","params":[{"name":"On|Off|Toggle|Permit","isOptional":true}]},{"name":"SysGet","params":[{"name":"OutputVar","isOptional":false},{"name":"Sub-command","isOptional":false},{"name":"Param","isOptional":true}]},{"name":"ToolTip","params":[{"name":"Text","isOptional":true},{"name":"X","isOptional":true},{"name":"Y","isOptional":true},{"name":"WhichToolTip","isOptional":true}]},{"name":"Transform","params":[{"name":"OutputVar","isOptional":false},{"name":"Cmd","isOptional":false},{"name":"Value1","isOptional":false},{"name":"Value2","isOptional":true}]},{"name":"TrayTip","params":[{"name":"Title","isOptional":true},{"name":"Text","isOptional":true},{"name":"Seconds","isOptional":true},{"name":"Options","isOptional":true}]},{"name":"URLDownloadToFile","params":[{"name":"URL","isOptional":false},{"name":"Filename","isOptional":false}]},{"name":"WinActivate","params":[{"name":"WinTitle","isOptional":true},{"name":"WinText","isOptional":true},{"name":"ExcludeTitle","isOptional":true},{"name":"ExcludeText","isOptional":true}]},{"name":"WinActivateBottom","params":[{"name":"WinTitle","isOptional":true},{"name":"WinText","isOptional":true},{"name":"ExcludeTitle","isOptional":true},{"name":"ExcludeText","isOptional":true}]},{"name":"WinClose","params":[{"name":"WinTitle","isOptional":true},{"name":"WinText","isOptional":true},{"name":"SecondsToWait","isOptional":true},{"name":"ExcludeTitle","isOptional":true},{"name":"ExcludeText","isOptional":true}]},{"name":"WinGet","params":[{"name":"OutputVar","isOptional":false},{"name":"Cmd","isOptional":false},{"name":"WinTitle","isOptional":false},{"name":"WinText","isOptional":false},{"name":"ExcludeTitle","isOptional":false},{"name":"ExcludeText","isOptional":true}]},{"name":"WinGetActiveStats","params":[{"name":"Title","isOptional":false},{"name":"Width","isOptional":false},{"name":"Height","isOptional":false},{"name":"X","isOptional":false},{"name":"Y","isOptional":false}]},{"name":"WinGetActiveTitle","params":[{"name":"OutputVar","isOptional":false}]},{"name":"WinGetClass","params":[{"name":"OutputVar","isOptional":false},{"name":"WinTitle","isOptional":false},{"name":"WinText","isOptional":false},{"name":"ExcludeTitle","isOptional":false},{"name":"ExcludeText","isOptional":true}]},{"name":"WinGetPos","params":[{"name":"X","isOptional":true},{"name":"Y","isOptional":true},{"name":"Width","isOptional":true},{"name":"Height","isOptional":true},{"name":"WinTitle","isOptional":true},{"name":"WinText","isOptional":true},{"name":"ExcludeTitle","isOptional":true},{"name":"ExcludeText","isOptional":true}]},{"name":"WinGetText","params":[{"name":"OutputVar","isOptional":false},{"name":"WinTitle","isOptional":false},{"name":"WinText","isOptional":false},{"name":"ExcludeTitle","isOptional":false},{"name":"ExcludeText","isOptional":true}]},{"name":"WinGetTitle","params":[{"name":"OutputVar","isOptional":false},{"name":"WinTitle","isOptional":false},{"name":"WinText","isOptional":false},{"name":"ExcludeTitle","isOptional":false},{"name":"ExcludeText","isOptional":true}]},{"name":"WinHide","params":[{"name":"WinTitle","isOptional":true},{"name":"WinText","isOptional":true},{"name":"ExcludeTitle","isOptional":true},{"name":"ExcludeText","isOptional":true}]},{"name":"WinKill","params":[{"name":"WinTitle","isOptional":true},{"name":"WinText","isOptional":true},{"name":"SecondsToWait","isOptional":true},{"name":"ExcludeTitle","isOptional":true},{"name":"ExcludeText","isOptional":true}]},{"name":"WinMaximize","params":[{"name":"WinTitle","isOptional":true},{"name":"WinText","isOptional":true},{"name":"ExcludeTitle","isOptional":true},{"name":"ExcludeText","isOptional":true}]},{"name":"WinMenuSelectItem","params":[{"name":"WinTitle","isOptional":false},{"name":"WinText","isOptional":false},{"name":"Menu","isOptional":false},{"name":"SubMenu1","isOptional":false},{"name":"SubMenu2","isOptional":false},{"name":"SubMenu3","isOptional":false},{"name":"SubMenu4","isOptional":false},{"name":"SubMenu5","isOptional":false},{"name":"SubMenu6","isOptional":false},{"name":"ExcludeTitle","isOptional":false},{"name":"ExcludeText","isOptional":true}]},{"name":"WinMinimize","params":[{"name":"WinTitle","isOptional":true},{"name":"WinText","isOptional":true},{"name":"ExcludeTitle","isOptional":true},{"name":"ExcludeText","isOptional":true}]},{"name":"WinMinimizeAll","params":[]},{"name":"WinMinimizeAllUndo","params":[]},{"name":"WinMove","params":[{"name":"X","isOptional":false},{"name":"Y","isOptional":false}]},{"name":"WinMove","params":[{"name":"WinTitle","isOptional":false},{"name":"WinText","isOptional":false},{"name":"X","isOptional":false},{"name":"Y","isOptional":false},{"name":"Width","isOptional":false},{"name":"Height","isOptional":false},{"name":"ExcludeTitle","isOptional":false},{"name":"ExcludeText","isOptional":true}]},{"name":"WinRestore","params":[{"name":"WinTitle","isOptional":true},{"name":"WinText","isOptional":true},{"name":"ExcludeTitle","isOptional":true},{"name":"ExcludeText","isOptional":true}]},{"name":"WinSet","params":[{"name":"Attribute","isOptional":false},{"name":"Value","isOptional":false},{"name":"WinTitle","isOptional":false},{"name":"WinText","isOptional":false},{"name":"ExcludeTitle","isOptional":false},{"name":"ExcludeText","isOptional":true}]},{"name":"WinSetTitle","params":[{"name":"NewTitle","isOptional":false}]},{"name":"WinSetTitle","params":[{"name":"WinTitle","isOptional":false},{"name":"WinText","isOptional":false},{"name":"NewTitle","isOptional":false},{"name":"ExcludeTitle","isOptional":false},{"name":"ExcludeText","isOptional":true}]},{"name":"WinShow","params":[{"name":"WinTitle","isOptional":true},{"name":"WinText","isOptional":true},{"name":"ExcludeTitle","isOptional":true},{"name":"ExcludeText","isOptional":true}]},{"name":"WinWait","params":[{"name":"WinTitle","isOptional":true},{"name":"WinText","isOptional":true},{"name":"Seconds","isOptional":true},{"name":"ExcludeTitle","isOptional":true},{"name":"ExcludeText","isOptional":true}]},{"name":"WinWaitActive","params":[{"name":"WinTitle","isOptional":true},{"name":"WinText","isOptional":true},{"name":"Seconds","isOptional":true},{"name":"ExcludeTitle","isOptional":true},{"name":"ExcludeText","isOptional":true}]},{"name":"WinWaitClose","params":[{"name":"WinTitle","isOptional":true},{"name":"WinText","isOptional":true},{"name":"Seconds","isOptional":true},{"name":"ExcludeTitle","isOptional":true},{"name":"ExcludeText","isOptional":true}]},{"name":"WinWaitNotActive","params":[{"name":"WinTitle","isOptional":true},{"name":"WinText","isOptional":true},{"name":"Seconds","isOptional":true},{"name":"ExcludeTitle","isOptional":true},{"name":"ExcludeText","isOptional":true}]},{"name":"Sleep","params":[{"name":"Delay","isOptional":false}]}]}});var serverConfiguration_exports={};__export(serverConfiguration_exports,{ServerConfiguration:()=>ServerConfiguration,docLangName:()=>docLangName});var docLangName,ServerConfiguration;var init_serverConfiguration=__esm({"server/src/services/config/serverConfiguration.ts"(){"use strict";docLangName=(docLangName2=>{docLangName2["CN"]="CN";docLangName2["NO"]="no";return docLangName2})(docLangName||{});ServerConfiguration=class _ServerConfiguration{constructor(maxNumberOfProblems,documentLanguage,sendError,traceServer,v2CompatibleMode,enableInlayHint){this.maxNumberOfProblems=maxNumberOfProblems;this.documentLanguage=documentLanguage;this.sendError=sendError;this.traceServer=traceServer;this.v2CompatibleMode=v2CompatibleMode;this.enableInlayHint=enableInlayHint}merge(config){return new _ServerConfiguration(config.maxNumberOfProblems??this.maxNumberOfProblems,config.documentLanguage??this.documentLanguage,config.sendError??this.sendError,config.traceServer??this.traceServer,config.v2CompatibleMode??this.v2CompatibleMode,config.enableInlayHint??this.enableInlayHint)}equal(other){return JSON.stringify(this)===JSON.stringify(other)}}}});var init_types=__esm({"server/src/parser/newtry/analyzer/types.ts"(){"use strict"}});function symbolInformations(symbols,uri){let info=[];for(const[,sym]of symbols){if(sym instanceof VariableSymbol){if(sym.tag===1)continue;info.push(import_vscode_languageserver.SymbolInformation.create(symbolInfomationName(sym),sym.tag===0?import_vscode_languageserver.SymbolKind.Variable:import_vscode_languageserver.SymbolKind.Property,sym.range,uri))}else if(sym instanceof AHKMethodSymbol){info.push(import_vscode_languageserver.SymbolInformation.create(symbolInfomationName(sym),import_vscode_languageserver.SymbolKind.Method,sym.range,uri));info.push(...sym.symbolInformations())}else if(sym instanceof AHKObjectSymbol){let symInfo=import_vscode_languageserver.SymbolInformation.create(symbolInfomationName(sym),import_vscode_languageserver.SymbolKind.Class,sym.range,uri);const childernInfo=sym.symbolInformations();if(symInfo.name===""&&childernInfo.length===0)continue;info.push(symInfo);info.push(...childernInfo)}else if(sym instanceof HotkeySymbol||sym instanceof HotStringSymbol){info.push(import_vscode_languageserver.SymbolInformation.create(symbolInfomationName(sym),import_vscode_languageserver.SymbolKind.Event,sym.range,uri))}else continue}return info}function symbolInfomationName(sym){if(sym.name!=="")return sym.name;if(sym instanceof VariableSymbol){if(sym.tag===1)return"<parameter name>";return"<variable name>"}else if(sym instanceof AHKMethodSymbol){return"<method name>"}else if(sym instanceof AHKObjectSymbol){return"<class name>"}else if(sym instanceof HotkeySymbol){return"<hotkey name>"}else if(sym instanceof HotStringSymbol){return"<hotstring name>"}return"<unknown symbol name>"}var import_vscode_languageserver;var init_symbolInformationProvider=__esm({"server/src/parser/newtry/analyzer/models/symbolInformationProvider.ts"(){"use strict";import_vscode_languageserver=__toESM(require_main4());init_symbol();init_types()}});var stringUtils_exports={};__export(stringUtils_exports,{joinLines:()=>joinLines});var joinLines;var init_stringUtils=__esm({"server/src/parser/newtry/parser/utils/stringUtils.ts"(){"use strict";joinLines=(separator,...lines)=>{if(lines.length===1){return lines[0]}if(lines.every(t=>t.length===1)){return[lines.map(l=>l[0]).join(separator)]}const[first,...rest]=lines;const result=first;for(const restLines of rest){result[result.length-1]=`${result[result.length-1]}${separator}${restLines[0]}`;for(let i=1;i<restLines.length;i+=1){result.push(restLines[i])}}return result}}});var nodeBase_exports={};__export(nodeBase_exports,{NodeBase:()=>NodeBase});var NodeBase;var init_nodeBase=__esm({"server/src/parser/newtry/parser/models/nodeBase.ts"(){"use strict";NodeBase=class{toString(){return this.toLines().join("\r\n")}toLocation(uri){return{uri,range:{start:this.start,end:this.end}}}}}});var types_exports={};__export(types_exports,{SyntaxKind:()=>SyntaxKind});var SyntaxKind;var init_types2=__esm({"server/src/parser/newtry/types.ts"(){"use strict";SyntaxKind=(SyntaxKind2=>{SyntaxKind2[SyntaxKind2["script"]=0]="script";SyntaxKind2[SyntaxKind2["stmt"]=1]="stmt";SyntaxKind2[SyntaxKind2["expr"]=2]="expr";SyntaxKind2[SyntaxKind2["suffixTerm"]=3]="suffixTerm";return SyntaxKind2})(SyntaxKind||{})}});var stmt_exports={};__export(stmt_exports,{AssignStmt:()=>AssignStmt,Block:()=>Block,Break:()=>Break,CaseExpr:()=>CaseExpr,CaseStmt:()=>CaseStmt,CatchStmt:()=>CatchStmt,CommandCall:()=>CommandCall,Continue:()=>Continue,DefaultCase:()=>DefaultCase,Directive:()=>Directive,Else:()=>Else,ExprStmt:()=>ExprStmt,FinallyStmt:()=>FinallyStmt,ForStmt:()=>ForStmt,If:()=>If,Invalid:()=>Invalid,Loop:()=>Loop,Return:()=>Return,Stmt:()=>Stmt,SwitchStmt:()=>SwitchStmt,Throw:()=>Throw,TrailerExprList:()=>TrailerExprList,TryStmt:()=>TryStmt,UntilLoop:()=>UntilLoop,WhileStmt:()=>WhileStmt});var import_vscode_languageserver2,Stmt,Invalid,AssignStmt,ExprStmt,TrailerExprList,CommandCall,Block,If,Else,SwitchStmt,CaseStmt,CaseExpr,DefaultCase,Loop,UntilLoop,WhileStmt,ForStmt,Continue,Break,Return,TryStmt,CatchStmt,FinallyStmt,Throw,Directive;var init_stmt=__esm({"server/src/parser/newtry/parser/models/stmt.ts"(){"use strict";import_vscode_languageserver2=__toESM(require_main4());init_types2();init_nodeBase();init_stringUtils();Stmt=class extends NodeBase{get tag(){return 1}};Invalid=class extends Stmt{constructor(pos,tokens,error){super();this.pos=pos;this.tokens=tokens;this.error=error}toLines(){return[this.tokens.map(t=>t.content).join(" ")]}get start(){return this.tokens.length>0?this.tokens[0].start:this.pos}get end(){return this.tokens.length>0?this.tokens[this.tokens.length-1].end:this.pos}get ranges(){let ranges=[];for(const token of this.tokens){ranges.push(import_vscode_languageserver2.Range.create(token.start,token.end))}return ranges}accept(visitor,parameters){return visitor.visitStmtInvalid(this,...parameters)}};AssignStmt=class extends Stmt{constructor(left,assign,expr,trailerExpr){super();this.left=left;this.assign=assign;this.expr=expr;this.trailerExpr=trailerExpr}toLines(){const exprLines=this.expr.toLines();const idLines=this.left.toLines();return joinLines(this.assign.content,idLines,exprLines)}get start(){return this.left.start}get end(){return this.trailerExpr?this.trailerExpr.end:this.expr.end}get ranges(){return[this.expr]}accept(visitor,parameters){return visitor.visitAssign(this,...parameters)}};ExprStmt=class extends Stmt{constructor(expression,trailerExpr){super();this.expression=expression;this.trailerExpr=trailerExpr}toLines(){const suffixLines=this.expression.toLines();suffixLines[suffixLines.length-1]=`${suffixLines[suffixLines.length-1]}`;return suffixLines}get start(){return this.expression.start}get end(){if(this.trailerExpr)return this.trailerExpr.end;return this.expression.end}get ranges(){return[this.expression]}accept(visitor,parameters){return visitor.visitExpr(this,...parameters)}};TrailerExprList=class extends Stmt{constructor(delimiter,exprList){super();this.delimiter=delimiter;this.exprList=exprList}get ranges(){throw new Error("Method not implemented.")}toLines(){throw new Error("Method not implemented.")}get start(){return this.delimiter.start}get end(){return this.exprList.length!==0?this.exprList.end:this.delimiter.end}accept(visitor,parameters){throw new Error("Method not implemented.")}};CommandCall=class extends Stmt{constructor(command,comma,args){super();this.command=command;this.comma=comma;this.args=args}toLines(){const res=this.comma?[this.command.content+this.comma.content]:[this.command.content];const argsLines=this.args.toLines();if(argsLines.length===0)return res;argsLines[0]=`${this.command.content}, ${argsLines[0]}`;return argsLines}get start(){return this.command.start}get end(){return this.args.length===0?this.command.end:this.args.end;;}get ranges(){return[this.command,...this.args.ranges]}accept(visitor,parameters){return visitor.visitCommandCall(this,...parameters)}};Block=class extends Stmt{constructor(open,stmts,close){super();this.open=open;this.stmts=stmts;this.close=close}toLines(){const lines=this.stmts.flatMap(stmt=>stmt.toLines());if(lines.length===0){return[`${this.open.content} ${this.close.content}`]}if(lines.length===1){return[`${this.open.content} ${lines[0]} ${this.close.content}`]}return[`${this.open.content}`].concat(...lines.map(line=>`    ${line}`),`${this.close.content}`)}get start(){return this.open.start}get end(){return this.close.end}get ranges(){return[this.open,...this.stmts,this.close]}accept(visitor,parameters){return visitor.visitBlock(this,...parameters)}};If=class extends Stmt{constructor(ifToken,condition,body,elseStmt){super();this.ifToken=ifToken;this.condition=condition;this.body=body;this.elseStmt=elseStmt}toLines(){const conditionLines=this.condition.toLines();const stmtLines=this.body.toLines();conditionLines[0]=`${this.ifToken.content} ${conditionLines[0]}`;const lines=conditionLines;if(this.elseStmt!==void 0){const elseLines=this.elseStmt.toLines();return lines}return lines}get start(){return this.ifToken.start}get end(){return this.elseStmt===void 0?this.body.end:this.elseStmt.end}get ranges(){const ranges=[this.ifToken,this.condition,this.body];if(this.elseStmt!==void 0){ranges.push(this.elseStmt)}return ranges}accept(visitor,parameters){return visitor.visitIf(this,...parameters)}};Else=class extends Stmt{constructor(elseToken,body,condition){super();this.elseToken=elseToken;this.body=body;this.condition=condition}toLines(){const lines=this.body.toLines();lines[0]=`${this.elseToken.content} ${lines[0]}`;return lines}get start(){return this.elseToken.start}get end(){return this.body.end}get ranges(){return[this.elseToken,this.body]}accept(visitor,parameters){return visitor.visitElse(this,...parameters)}};SwitchStmt=class extends Stmt{constructor(switchToken,condition,open,cases,close){super();this.switchToken=switchToken;this.condition=condition;this.open=open;this.cases=cases;this.close=close}toLines(){const conditionLines=this.condition.toLines();const casesLines=this.caseLines();conditionLines[0]=`${this.switchToken.content} ${conditionLines[0]}`;return joinLines(" ",conditionLines,casesLines)}caseLines(){const lines=this.cases.flatMap(stmt=>stmt.toLines());if(lines.length===0){return[`${this.open.content} ${this.close.content}`]}if(lines.length===1){return[`${this.open.content} ${lines[0]} ${this.close.content}`]}return[`${this.open.content}`].concat(...lines.map(line=>`    ${line}`),`${this.close.content}`)}get start(){return this.switchToken.start}get end(){return this.close.end}get ranges(){const casesRange=this.cases.flatMap(c=>c.ranges);return[this.switchToken,...this.condition.ranges,this.open,...casesRange,this.close]}accept(visitor,parameters){return visitor.visitSwitch(this,...parameters)}};CaseStmt=class extends Stmt{constructor(CaseNode,body){super();this.CaseNode=CaseNode;this.body=body}toLines(){const CaseNodeLines=this.CaseNode.toLines();const bodyLines=this.body.map(stmt=>stmt.toLines());return joinLines(" ",CaseNodeLines,...bodyLines)}get start(){return this.CaseNode.start}get end(){if(this.body.length===0)return this.CaseNode.end;else return this.body[this.body.length-1].end}get ranges(){const bodyRange=this.body.flatMap(b=>b.ranges);return[...this.CaseNode.ranges,...bodyRange]}accept(visitor,parameters){return visitor.visitCase(this,...parameters)}};CaseExpr=class extends NodeBase{constructor(caseToken,conditions,colon){super();this.caseToken=caseToken;this.conditions=conditions;this.colon=colon}toLines(){const conditionLines=this.conditions.toLines();conditionLines[0]=`${this.caseToken.content} ${conditionLines[0]}`;conditionLines[conditionLines.length-1]+=this.colon.content;return conditionLines}get start(){return this.caseToken.start}get end(){return this.colon.end}get ranges(){const condRange=this.conditions.ranges;return[this.caseToken,...condRange,this.colon]}};DefaultCase=class extends NodeBase{constructor(defaultToken){super();this.defaultToken=defaultToken}toLines(){return[`${this.defaultToken.content}:`]}get start(){return this.defaultToken.start}get end(){return this.defaultToken.end}get ranges(){return[this.defaultToken]}};Loop=class extends Stmt{constructor(loop,body,comma,condition){super();this.loop=loop;this.body=body;this.comma=comma;this.condition=condition}toLines(){const bodyLines=this.body.toLines();if(this.condition!==void 0){const conditionLines=this.condition.toLines();conditionLines[0]=`${this.loop.content} ${conditionLines[0]}`;return joinLines(" ",conditionLines,bodyLines)}return joinLines(" ",[this.loop.content],bodyLines)}get start(){return this.loop.start}get end(){return this.body.end}get ranges(){return this.condition?[this.loop,this.condition,this.body]:[this.loop,this.body]}accept(visitor,parameters){return visitor.visitLoop(this,...parameters)}};UntilLoop=class extends Stmt{constructor(loop,body,until,condition){super();this.loop=loop;this.body=body;this.until=until;this.condition=condition}toLines(){const conditionLines=this.condition.toLines();const bodyLines=this.body.toLines();bodyLines[0]=`${this.loop.content} ${bodyLines[0]}`;conditionLines[0]=`${this.until.content} ${conditionLines[0]}`;return joinLines(" ",bodyLines,conditionLines)}get start(){return this.loop.start}get end(){return this.body.end}get ranges(){return[this.loop,this.condition,this.body]}accept(visitor,parameters){return visitor.visitLoop(this,...parameters)}};WhileStmt=class extends Stmt{constructor(whileToken,condition,body){super();this.whileToken=whileToken;this.condition=condition;this.body=body}toLines(){const conditionLines=this.condition.toLines();const bodyLines=this.body.toLines();conditionLines[0]=`${this.whileToken.content} ${conditionLines[0]}`;return joinLines(" ",conditionLines,bodyLines)}get start(){return this.whileToken.start}get end(){return this.body.end}get ranges(){return[this.whileToken,this.condition,this.body]}accept(visitor,parameters){return visitor.visitWhile(this,...parameters)}};ForStmt=class extends Stmt{constructor(forToken,inToken,iterable,body,iter1id,comma,iter2id){super();this.forToken=forToken;this.inToken=inToken;this.iterable=iterable;this.body=body;this.iter1id=iter1id;this.comma=comma;this.iter2id=iter2id}toLines(){const iterLine=this.iter1id.toLines();const bodyLines=this.body.toLines();return joinLines(" ",iterLine,bodyLines)}get start(){return this.forToken.start}get end(){return this.body.end}get ranges(){if(this.comma&&this.iter2id)return[this.forToken,this.iter1id,this.comma,this.iter2id,this.inToken,this.body];return[this.forToken,this.iter1id,this.inToken,this.body]}accept(visitor,parameters){return visitor.visitFor(this,...parameters)}};Continue=class extends Stmt{constructor(continueToken,label){super();this.continueToken=continueToken;this.label=label}toLines(){return this.label!==void 0?[`${this.continueToken.content} ${this.label.content}`]:[`${this.continueToken.content}`]}get start(){return this.continueToken.start}get end(){return this.continueToken.end}get ranges(){return[this.continueToken]}accept(visitor,parameters){return visitor.visitContinue(this,...parameters)}};Break=class extends Stmt{constructor(breakToken,label){super();this.breakToken=breakToken;this.label=label}toLines(){return this.label!==void 0?[`${this.breakToken.content} ${this.label.content}`]:[`${this.breakToken.content}`]}get start(){return this.breakToken.start}get end(){return this.breakToken.end}get ranges(){return[this.breakToken]}accept(visitor,parameters){return visitor.visitBreak(this,...parameters)}};Return=class extends Stmt{constructor(returnToken,value){super();this.returnToken=returnToken;this.value=value}toLines(){if(this.value!==void 0){const exprLines=this.value.toLines();exprLines[0]=`${this.returnToken.content} ${exprLines[0]}`;exprLines[exprLines.length-1]=`${exprLines[exprLines.length-1]}.`;return exprLines}return[`${this.returnToken.content}`]}get start(){return this.returnToken.start}get end(){return this.value===void 0?this.returnToken.end:this.value.end}get ranges(){let ranges=[this.returnToken];if(this.value!==void 0){ranges=ranges.concat(this.value.ranges)}return ranges}accept(visitor,parameters){return visitor.visitReturn(this,...parameters)}};TryStmt=class extends Stmt{constructor(tryToken,body,catchStmt,finallyStmt){super();this.tryToken=tryToken;this.body=body;this.catchStmt=catchStmt;this.finallyStmt=finallyStmt}toLines(){const stmtLines=this.body.toLines();stmtLines[0]=`${this.tryToken.content} ${stmtLines[0]}`;let lines=stmtLines;if(this.catchStmt!==void 0){lines=joinLines(" ",lines,this.catchStmt.toLines())}if(this.finallyStmt!==void 0){lines=joinLines(" ",lines,this.finallyStmt.toLines())}return lines}get start(){return this.tryToken.start}get end(){return this.catchStmt===void 0?this.body.end:this.catchStmt.end}get ranges(){const ranges=[this.tryToken,this.body];if(this.catchStmt!==void 0){ranges.push(...this.catchStmt.ranges)}if(this.finallyStmt!==void 0){ranges.push(...this.finallyStmt.ranges)}return ranges}accept(visitor,parameters){return visitor.visitTry(this,...parameters)}};CatchStmt=class extends Stmt{constructor(catchToken,errors,body){super();this.catchToken=catchToken;this.errors=errors;this.body=body}toLines(){const conditionLines=this.catchToken.content+(this.errors?this.errors?.content:"");const bodyLines=this.body.toLines();return joinLines(" ",[conditionLines],bodyLines)}get start(){return this.catchToken.start}get end(){return this.body.end}get ranges(){return this.errors?[this.catchToken,this.errors,this.body]:[this.catchToken,this.body]}accept(visitor,parameters){return visitor.visitCatch(this,...parameters)}};FinallyStmt=class extends Stmt{constructor(finallToken,body){super();this.finallToken=finallToken;this.body=body}toLines(){const bodyLines=this.body.toLines();bodyLines[0]=`${this.finallToken.content} ${bodyLines[0]}`;return bodyLines}get start(){return this.finallToken.start}get end(){return this.body.end}get ranges(){return[this.finallToken,this.body]}accept(visitor,parameters){return visitor.visitFinally(this,...parameters)}};Throw=class extends Stmt{constructor(throwToken,expr){super();this.throwToken=throwToken;this.expr=expr}toLines(){const exprLines=this.expr.toLines();exprLines[0]=`${this.throwToken.content} ${exprLines[0]}`;return exprLines}get start(){return this.throwToken.start}get end(){return this.expr.end}get ranges(){return[this.throwToken,this.expr]}accept(visitor,parameters){return visitor.visitThrow(this,...parameters)}};Directive=class extends Stmt{constructor(directive,args){super();this.directive=directive;this.args=args}get start(){return this.directive.start}get end(){return this.args.length===0?this.directive.end:this.args.end}get ranges(){return[this.directive,...this.args.ranges]}toLines(){if(this.args.childern.length===0){return[`#${this.directive.content}`]}const argsLines=this.args.toLines();const argsResult=joinLines(", ",argsLines);argsResult[0]=`#${this.directive.content} ${argsResult[0]}`;return argsResult}accept(visitor,parameters){return visitor.visitDirective(this,...parameters)}}}});var declaration_exports={};__export(declaration_exports,{ClassBaseClause:()=>ClassBaseClause,ClassDef:()=>ClassDef,Decl:()=>Decl,DefaultParameter:()=>DefaultParameter,DynamicProperty:()=>DynamicProperty,FuncDef:()=>FuncDef,GetterSetter:()=>GetterSetter,HotString:()=>HotString,Hotkey:()=>Hotkey,Key:()=>Key,Label:()=>Label,Param:()=>Param,Parameter:()=>Parameter,PropertyDeclaration:()=>PropertyDeclaration,ShortClassMember:()=>ShortClassMember,SpreadParameter:()=>SpreadParameter,VarDecl:()=>VarDecl});var import_vscode_languageserver3,Decl,VarDecl,ClassDef,ClassBaseClause,PropertyDeclaration,DynamicProperty,Label,Hotkey,Key,HotString,FuncDef,Param,Parameter,DefaultParameter,SpreadParameter,GetterSetter,ShortClassMember;var init_declaration=__esm({"server/src/parser/newtry/parser/models/declaration.ts"(){"use strict";import_vscode_languageserver3=__toESM(require_main4());init_tokenTypes();init_stringUtils();init_nodeBase();init_stmt();Decl=class extends Stmt{constructor(){super()}};VarDecl=class extends Decl{constructor(scope,assigns){super();this.scope=scope;this.assigns=assigns}toLines(){const scopeLine=this.scope.content;const assignsLines=this.assigns.toLines();assignsLines[0]=scopeLine+assignsLines[0];return assignsLines}get start(){return this.scope.start}get end(){return this.assigns.end}get ranges(){return[this.scope,...this.assigns.ranges]}accept(visitor,parameters){return visitor.visitDeclVariable(this,...parameters)}};ClassDef=class extends Decl{constructor(classToken,name,body,classBaseClause){super();this.classToken=classToken;this.name=name;this.body=body;this.classBaseClause=classBaseClause}toLines(){const defLine=[`${this.classToken.content} ${this.name.content}`];if(this.classBaseClause!==void 0){defLine[0]+=`${this.classBaseClause.toLines()[0]}`}const block=this.body.toLines();return joinLines(" ",defLine,block)}get start(){return this.classToken.start}get end(){return this.body.end}get ranges(){return this.classBaseClause?[this.classToken,this.name,...this.classBaseClause.ranges,...this.body.ranges]:[this.classToken,this.name,...this.body.ranges]}accept(visitor,parameters){return visitor.visitDeclClass(this,...parameters)}};ClassBaseClause=class extends NodeBase{constructor(extendsToken,baseClass){super();this.extendsToken=extendsToken;this.baseClass=baseClass}get ranges(){return[import_vscode_languageserver3.Range.create(this.extendsToken.start,this.extendsToken.end)].concat(...this.baseClass.ranges)}toLines(){throw new Error("Method not implemented.")}get start(){return this.extendsToken.start}get end(){return this.baseClass.end}};PropertyDeclaration=class extends Decl{constructor(modifier,propertyElements){super();this.modifier=modifier;this.propertyElements=propertyElements}get ranges(){return this.modifier?[this.modifier,...this.propertyElements.ranges]:[this.propertyElements]}toLines(){return this.modifier?[this.modifier.content,...this.propertyElements.toLines()]:[...this.propertyElements.toLines()]}get start(){return this.modifier?this.modifier.start:this.propertyElements.start}get end(){return this.propertyElements.end}accept(visitor,parameters){return visitor.visitPropertyDeclaration(this,...parameters)}};DynamicProperty=class extends Decl{constructor(name,body,open,param,close,fatArrow){super();this.name=name;this.body=body;this.open=open;this.param=param;this.close=close;this.fatArrow=fatArrow}get ranges(){if(this.param)return[this.name,...this.param.ranges,...this.body.ranges];return[this.name,...this.body.ranges]}toLines(){throw new Error("Method not implemented.")}get start(){return this.name.start}get end(){return this.body.end}accept(visitor,parameters){return visitor.visitDynamicProperty(this,...parameters)}};Label=class extends Decl{constructor(name){super();this.name=name}toLines(){const idLines=this.name.content;return[`${idLines}:`]}get start(){return this.name.start}get end(){return this.name.end}get ranges(){return[this.name]}accept(visitor,parameters){return visitor.visitDeclLabel(this,...parameters)}};Hotkey=class extends Decl{constructor(key1,hotkey,up,and,key2){super();this.key1=key1;this.hotkey=hotkey;this.up=up;this.and=and;this.key2=key2}toLines(){const k1=this.key1.toLines();if(this.and!==void 0&&this.key2!==void 0){const k2=this.key2.toLines();return[`${k1[0]} & ${k2[0]}`]}return k1}get start(){return this.key1.start}get end(){return this.hotkey.end}get ranges(){if(this.and!==void 0&&this.key2!==void 0){return[...this.key1.ranges,this.and,...this.key2.ranges]}return this.key1.ranges}accept(visitor,parameters){return visitor.visitDeclHotkey(this,...parameters)}};Key=class extends NodeBase{constructor(key,modifiers){super();this.key=key;this.modifiers=modifiers}toLines(){if(this.modifiers!==void 0){let modifiersLine="";modifiersLine+=this.modifiers.content;return[`${modifiersLine}${this.key.content}`]}return[`${this.key.content}`]}get start(){return this.modifiers!==void 0?this.modifiers.start:this.key.start}get end(){return this.key.end}get ranges(){return this.modifiers!==void 0?[this.modifiers,this.key]:[this.key]}};HotString=class extends Decl{constructor(option,str,expend){super();this.option=option;this.str=str;this.expend=expend}toLines(){return[`${this.option.content}${this.str.content}${this.expend.content}`]}get start(){return this.option.start}get end(){return this.expend.end}get ranges(){return[this.option,this.str,this.expend]}accept(visitor,parameters){return visitor.visitDeclHotString(this,...parameters)}};FuncDef=class extends Decl{constructor(nameToken,open,params,close,body){super();this.nameToken=nameToken;this.open=open;this.params=params;this.close=close;this.body=body}toLines(){const idLines=this.nameToken.content;const params=this.params.toLines();const block=this.body.toLines();params[0]=idLines+params[0];return joinLines(" ",params,block)}get start(){return this.nameToken.start}get end(){return this.body.end}get ranges(){return[this.nameToken,...this.params.ranges,...this.body.ranges]}accept(visitor,parameters){return visitor.visitDeclFunction(this,...parameters)}};Param=class extends Decl{constructor(ParamaterList,requiredParameters,optionalParameters){super();this.ParamaterList=ParamaterList;this.requiredParameters=requiredParameters;this.optionalParameters=optionalParameters}toLines(){const paramLines=this.requiredParameters.flatMap(param=>param.toLines()).join(", ");const defaultParamLines=this.optionalParameters.flatMap(param=>param.toLines()).join(", ");let lines=[];lines[lines.length-1]=`${lines[lines.length-1]}.`;return lines}get start(){return this.ParamaterList.start}get end(){return this.ParamaterList.end}get ranges(){return this.ParamaterList.ranges}accept(visitor,parameters){return visitor.visitDeclParameter(this,...parameters)}};Parameter=class extends NodeBase{constructor(identifier,byref){super();this.identifier=identifier;this.byref=byref}toLines(){return[this.identifier.content]}get start(){return this.byref?this.byref.start:this.identifier.start}get end(){return this.identifier.end}get ranges(){return this.byref?[this.byref,this.identifier]:[this.identifier]}get isKeyword(){return this.identifier.type!==57}};DefaultParameter=class extends Parameter{constructor(identifier,byref,operator,value){super(identifier,byref);this.operator=operator;this.value=value}toLines(){if(this.value){const lines=this.value.toLines();lines[0]=`${this.identifier.content} ${this.operator.content} ${lines[0]}`;return lines}return[`${this.identifier.content} ${this.operator.content}`]}get end(){return this.value?this.value.end:this.operator.end}get ranges(){if(this.value)return super.ranges.concat([this.operator,this.value]);return super.ranges.concat([this.operator])}get isKeyword(){return this.identifier.type!==57}};SpreadParameter=class extends Parameter{constructor(identifier,byref,spread){super(identifier,byref);this.spread=spread}get end(){return this.spread.end}get ranges(){return super.ranges.concat(this.spread)}get isKeyword(){return this.identifier.type!==57}};GetterSetter=class extends Decl{constructor(nameToken,body){super();this.nameToken=nameToken;this.body=body}toLines(){const idLines=this.nameToken.content;const block=this.body.toLines();return joinLines(" ",block)}get start(){return this.nameToken.start}get end(){return this.body.end}get ranges(){return[this.nameToken,...this.body.ranges]}accept(visitor,parameters){return visitor.visitDeclGetterSetter(this,...parameters)}};ShortClassMember=class extends NodeBase{constructor(fatArrow,expr){super();this.fatArrow=fatArrow;this.expr=expr}toLines(){return[this.fatArrow.content,...this.expr.toLines()]}get start(){return this.fatArrow.start}get end(){return this.expr.end}get ranges(){return[this.fatArrow,...this.expr.ranges]}get isKeyword(){return false}}}});var symbol_exports={};__export(symbol_exports,{AHKBaseObject:()=>AHKBaseObject,AHKBuiltinMethodSymbol:()=>AHKBuiltinMethodSymbol,AHKBuiltinObjectSymbol:()=>AHKBuiltinObjectSymbol,AHKDynamicPropertySymbol:()=>AHKDynamicPropertySymbol,AHKGetterSetterSymbol:()=>AHKGetterSetterSymbol,AHKMethodSymbol:()=>AHKMethodSymbol,AHKObjectSymbol:()=>AHKObjectSymbol,AHKSymbol:()=>AHKSymbol2,BuiltinTypeSymbol:()=>BuiltinTypeSymbol,BuiltinVariableSymbol:()=>BuiltinVariableSymbol,HotStringSymbol:()=>HotStringSymbol,HotkeySymbol:()=>HotkeySymbol,LabelSymbol:()=>LabelSymbol,ParameterSymbol:()=>ParameterSymbol,ScopedSymbol:()=>ScopedSymbol,VariableSymbol:()=>VariableSymbol,isBuiltinSymbol:()=>isBuiltinSymbol,isClassObject:()=>isClassObject,isMethodObject:()=>isMethodObject});function isMethodObject(obj){return obj instanceof AHKMethodSymbol||obj instanceof AHKBuiltinMethodSymbol}function isClassObject(obj){return obj instanceof AHKObjectSymbol||obj instanceof AHKBuiltinObjectSymbol}function isBuiltinSymbol(obj){return obj instanceof AHKBuiltinMethodSymbol||obj instanceof AHKBuiltinObjectSymbol||obj instanceof BuiltinVariableSymbol}var import_node,AHKSymbol2,BuiltinVariableSymbol,VariableSymbol,ParameterSymbol,HotkeySymbol,HotStringSymbol,LabelSymbol,BuiltinTypeSymbol,ScopedSymbol,AHKBuiltinMethodSymbol,AHKBuiltinObjectSymbol,AHKMethodSymbol,AHKObjectSymbol,AHKDynamicPropertySymbol,AHKGetterSetterSymbol,AHKBaseObject;var init_symbol=__esm({"server/src/parser/newtry/analyzer/models/symbol.ts"(){"use strict";init_types();import_node=__toESM(require_node3());init_symbolInformationProvider();init_declaration();init_tokenTypes();AHKSymbol2=class{constructor(name,type){this.name=name;this.type=type}};BuiltinVariableSymbol=class extends AHKSymbol2{constructor(name,tag,type){super(name,type);this.name=name;this.tag=tag}toString(){return this.type!==void 0?`<${this.name}: ${this.type.name}>`:`<Variable ${this.name}>`}};VariableSymbol=class extends AHKSymbol2{constructor(uri,name,range,tag,modifier=0,parentScope,enclosingScope,type){super(name,type);this.uri=uri;this.name=name;this.range=range;this.tag=tag;this.modifier=modifier;this.parentScope=parentScope;this.enclosingScope=enclosingScope;this.tempType=[]}setType(t){this.tempType=t}getType(){return this.tempType}toString(){return this.type!==void 0?`<${this.name}: ${this.type.name}>`:`<Variable ${this.name}>`}};ParameterSymbol=class extends VariableSymbol{constructor(uri,name,range,tag,isByref,isSpread,enclosingScope,type){super(uri,name,range,tag,0,void 0,enclosingScope,type);this.isByref=isByref;this.isSpread=isSpread}};HotkeySymbol=class extends AHKSymbol2{constructor(uri,name,range){super(name);this.uri=uri;this.range=range}toString(){return`<Hotkey ${this.name}>`}};HotStringSymbol=class extends AHKSymbol2{constructor(uri,name,range){super(name);this.uri=uri;this.range=range}toString(){return`<HotString ${this.name}>`}};LabelSymbol=class extends AHKSymbol2{constructor(uri,name,range){super(name);this.uri=uri;this.range=range}toString(){return`<Label ${this.name}>`}};BuiltinTypeSymbol=class extends AHKSymbol2{constructor(name){super(name)}toString(){return`<BuiltinType ${this.name}>`}};ScopedSymbol=class extends AHKSymbol2{constructor(uri,name,enclosingScope){super(name);this.symbols=new Map;this.uri=uri;this.enclosingScope=enclosingScope;this.dependcyScope=new Set}define(sym){this.symbols.set(sym.name.toLowerCase(),sym)}resolve(name){const searchName=name.toLocaleLowerCase();if(this.symbols.has(searchName))return this.symbols.get(searchName);return this.enclosingScope?.resolve(searchName)}addScope(scope){this.dependcyScope.add(scope)}allSymbols(){const syms=[];for(const[,sym]of this.symbols)syms.push(sym);return syms}symbolInformations(){return symbolInformations(this.symbols,this.uri)}};AHKBuiltinMethodSymbol=class extends ScopedSymbol{constructor(name,requiredParameters,optionalParameters,enclosingScope){super("__Builtin__",name,enclosingScope);this.requiredParameters=requiredParameters;this.optionalParameters=optionalParameters;this.requiredParameters.forEach(v=>this.define(v));this.optionalParameters.forEach(v=>this.define(v))}toString(){const reqParaStr=this.requiredParameters.map(param=>`${param.isByref?"byref ":""}${param.name}`);const optParaStr=this.optionalParameters.map(param=>`${param.isByref?"byref ":""}${param.name}${param.isSpread?"*":"?"}`);return`${this.name}(${reqParaStr.concat(optParaStr).join(", ")})`}};AHKBuiltinObjectSymbol=class extends ScopedSymbol{constructor(name,parentScope,enclosingScope){super("__Builtin__",name,enclosingScope);this.parentScope=parentScope}resolveProp(name){const searchName=name.toLocaleLowerCase();if(this.symbols.has(searchName))return this.symbols.get(searchName);return this.parentScope?.resolve(searchName)}};AHKMethodSymbol=class extends ScopedSymbol{constructor(uri,name,range,requiredParameters,optionalParameters,enclosingScoop,parentScope){super(uri,name,enclosingScoop);this.range=range;this.requiredParameters=requiredParameters;this.optionalParameters=optionalParameters;this.parentScope=parentScope;this.requiredParameters.forEach(v=>this.define(v));this.optionalParameters.forEach(v=>{if(!(v instanceof SpreadParameter&&v.identifier.type==5))this.define(v)})}resolve(name){if(name.toLowerCase()==="this"&&!this.symbols.has("this")){return this.parentScope}return super.resolve(name)}toString(){const reqParaStr=this.requiredParameters.map(param=>`${param.isByref?"byref ":""}${param.name}`);const optParaStr=this.optionalParameters.map(param=>`${param.isByref?"byref ":""}${param.name}${param.isSpread?param.name==="*"?"":"*":"?"}`);return`${this.name}(${reqParaStr.concat(optParaStr).join(", ")})`}};AHKObjectSymbol=class extends ScopedSymbol{constructor(uri,name,range,parentScoop,enclosingScoop){super(uri,name,enclosingScoop);this.range=range;this.parentScoop=parentScoop??new AHKBaseObject}resolveProp(name){const searchName=name.toLocaleLowerCase();if(this.symbols.has(searchName))return this.symbols.get(searchName);return this.parentScoop.resolveProp(searchName)}allSymbols(){let sym=new Set(super.allSymbols());for(const s of this.parentScoop.allSymbols()){if(this.symbols.has(s.name.toLowerCase()))continue;sym.add(s)}return[...sym]}symbolInformations(){let info=super.symbolInformations();for(const[name,sym]of this.symbols){if(sym instanceof AHKDynamicPropertySymbol)info.push(...sym.symbolInformations())}return info}};AHKDynamicPropertySymbol=class extends VariableSymbol{constructor(uri,name,range,enclosingScope){super(uri,name,range,2,void 0);this.enclosingScope=enclosingScope;this.dependcyScope=new Set;this.symbols=new Map}define(sym){this.symbols.set(sym.name,sym)}resolve(name){return void 0}addScope(scope){this.dependcyScope.add(scope)}symbolInformations(){const info=[];for(const[name,sym]of this.symbols){info.push(import_node.SymbolInformation.create(sym.name,import_node.SymbolKind.Method,sym.range,sym.uri));info.push(...sym.symbolInformations())}return info}allSymbols(){return[]}allSymbolsFull(){const syms=[];for(const[,sym]of this.symbols)syms.push(sym);return syms}};AHKGetterSetterSymbol=class extends AHKMethodSymbol{constructor(uri,funcType,property,range,parentScoop,enclosingScoop){const name=`(${funcType}) ${property}`;super(uri,name,range,[],[],enclosingScoop,parentScoop);if(funcType==="set")this.define(new BuiltinVariableSymbol("value",1,void 0))}};AHKBaseObject=class extends AHKBuiltinObjectSymbol{constructor(){super("base",void 0);this.define(new BuiltinVariableSymbol("__Class",2,void 0));for(const name of["__New","__Delete","__Init"])this.define(new AHKBuiltinMethodSymbol(name,[],[]))}}}});var types_exports2={};__export(types_exports2,{MissingToken:()=>MissingToken,SkipedToken:()=>SkipedToken,Token:()=>Token,TokenKind:()=>TokenKind});var TokenKind,Token,MissingToken,SkipedToken;var init_types3=__esm({"server/src/parser/newtry/tokenizor/types.ts"(){"use strict";TokenKind=(TokenKind2=>{TokenKind2[TokenKind2["Token"]=0]="Token";TokenKind2[TokenKind2["Diagnostic"]=1]="Diagnostic";TokenKind2[TokenKind2["Commnet"]=2]="Commnet";TokenKind2[TokenKind2["Multi"]=3]="Multi";return TokenKind2})(TokenKind||{});Token=class{constructor(type,content,start,end){this.type=type;this.content=content;this.start=start;this.end=end}};MissingToken=class extends Token{constructor(type,start){super(type,"",start,start)}};SkipedToken=class extends Token{constructor(token){super(token.type,token.content,token.start,token.end)}}}});var logger_exports={};__export(logger_exports,{LogLevel:()=>LogLevel,Logger:()=>Logger,mockLogger:()=>mockLogger});var LogLevel,Logger,mockLogger;var init_logger=__esm({"server/src/utilities/logger.ts"(){"use strict";LogLevel=(LogLevel2=>{LogLevel2[LogLevel2["veberse"]=0]="veberse";LogLevel2[LogLevel2["info"]=1]="info";LogLevel2[LogLevel2["warn"]=2]="warn";LogLevel2[LogLevel2["error"]=3]="error";LogLevel2[LogLevel2["off"]=4]="off";return LogLevel2})(LogLevel||{});Logger=class{constructor(connection2,logLevel){this.connection=connection2;this.logLevel=logLevel}error(message){if(this.logLevel<=3)this.connection.error(message)}warn(message){if(this.logLevel<=2)this.connection.warn(message)}log(message){if(this.logLevel<=0)this.connection.log(message)}info(message){if(this.logLevel<=1)this.connection.info(message)}updateLevel(level){if(this.logLevel!=level)this.logLevel=level}};mockLogger={error:_=>{},warn:_=>{},info:_=>{},log:_=>{}}}});var import_vscode_languageserver4,Tokenizer,MAX_HOTKEY_LENGTH,identifierTest,HOTKEY_TEST,RESERVED_KEYWORDS,OTHER_MARK,DIRECTIVE_TEST,COMMAND_TEST;var init_tokenizer=__esm({"server/src/parser/newtry/tokenizor/tokenizer.ts"(){"use strict";init_types3();init_tokenTypes();import_vscode_languageserver4=__toESM(require_main4());init_types3();init_logger();Tokenizer=class{constructor(document,v2Mode=false,logger2=mockLogger){this.v2Mode=v2Mode;this.logger=logger2;this.pos=0;this.isLiteralToken=false;this.isPrecentForceExpression=false;this.line=0;this.chr=0;this.EscapeChar='"';this.isParseHotkey=false;this.document=document;this.currChar=document[this.pos]}setPrecentForceExpression(bool){this.isPrecentForceExpression=bool}Advance(){this.pos++;this.chr++;if(this.pos>=this.document.length){this.currChar="EOF"}else{this.currChar=this.document[this.pos]}return this}AdvanceLine(){this.Advance();this.chr=0;this.line++}Peek(len=1,skipWhite=false){if(this.pos+len>=this.document.length){return"EOF"}if(skipWhite){if(!this.isWhiteSpace(this.currChar)){return this.document[this.pos+len]}let char=this.currChar;let pos=this.pos;do{char=this.document[pos];pos++}while(this.isWhiteSpace(char));if(pos>=this.document.length)return"EOF";return char}return this.document[this.pos+len]}BackPeek(backstartlen=1,skipWhite=false){let pos=this.pos-backstartlen;if(pos===0)return"\n";if(skipWhite){let nwp=0;while(this.isWhiteSpace(this.document[pos-nwp])){++nwp}if(pos-nwp<=0){return"\n"}return this.document[pos-nwp]}return this.document[pos]}SkipWhiteSpace(){while(this.currChar===" "||this.currChar==="	"||this.currChar==="\r")this.Advance()}BlockComment(){const offset=this.pos;const p=this.genPosition();this.Advance().Advance();while(this.currChar!=="EOF"&&!this.matchWord("*/")){if(this.currChar==="\n"){this.AdvanceLine();continue}this.Advance()}this.Advance().Advance();const s=this.document.slice(offset,this.pos);return this.CreateComment(75,s,p,this.genPosition())}LineComment(){const offset=this.pos;const p=this.genPosition();this.Advance();while(this.currChar!=="EOF"&&this.currChar!=="\n"){this.Advance()}const s=this.document.slice(offset,this.pos);return this.CreateComment(74,s,p,this.genPosition())}genPosition(){return import_vscode_languageserver4.Position.create(this.line,this.chr)}NumberAdvance(){while(this.isDigit(this.currChar)){this.Advance()}}HexNumberAdvance(){while(this.isHexNumber(this.currChar)){this.Advance()}}GetNumber(){const offset=this.pos;let p=this.genPosition();if(this.currChar==="0"&&this.Peek().toLowerCase()==="x"){this.Advance().Advance();this.HexNumberAdvance();const sNum2=this.document.slice(offset,this.pos);return this.CreateToken(54,sNum2,p,this.genPosition())}this.NumberAdvance();if(this.currChar==="."){this.Advance();this.NumberAdvance()}if(this.currChar==="e"||this.currChar==="E"){this.Advance();this.NumberAdvance()}const sNum=this.document.slice(offset,this.pos);return this.CreateToken(54,sNum,p,this.genPosition())}IsV1DoulbeQuote(){if(this.v2Mode){return false}const peek=this.document[this.pos+1];return this.currChar==='"'&&peek==='"'}IsEOLAndLength(){if(this.currChar==="\n")return 1;if(this.currChar==="\r")return this.Peek()==="\n"?2:1;return 0}IsEOF(){return this.currChar==="EOF"}IsContinuationSection(pos){if(this.document[pos]==="(")return true;while(pos<this.document.length&&this.isWhiteSpace(this.document[pos],true)){if(this.document[pos+1]==="(")return true;pos+=1}return false}GetString(){let offset=this.pos;let p=this.genPosition();const strDelimitor=this.currChar;this.Advance();while(true){if(this.currChar===strDelimitor){if(this.IsV1DoulbeQuote()){this.Advance().Advance();continue}break}if(this.v2Mode&&this.currChar==="`"){this.Advance().Advance();continue}const eol=this.IsEOLAndLength();if(this.currChar==="EOF"||eol){if(eol&&this.IsContinuationSection(this.pos+eol)){this.AdvanceContinuationSection();continue}return this.CreateError(this.document.slice(offset+1,this.pos),p,this.genPosition())}this.Advance()}this.Advance();const str=this.document.slice(offset,this.pos);return this.CreateToken(53,str,p,this.genPosition())}AdvanceContinuationSection(){while(!(this.currChar===")"&&this.BackPeek(1,true)==="\n")){if(this.IsEOF())return;const eol=this.IsEOLAndLength();if(eol){if(eol>1)this.Advance();this.AdvanceLine();continue}this.Advance()}this.Advance()}GetId(preType){let offset=this.pos;let p=this.genPosition();this.Advance();while(this.isAlphaNumeric(this.currChar)&&this.currChar!=="EOF")this.Advance();const value=this.document.slice(offset,this.pos);const keyword=RESERVED_KEYWORDS.get(value.toLowerCase());if(keyword){return this.CreateToken(keyword,value,p,this.genPosition())}if(preType===105&&this.v2Mode===false&&COMMAND_TEST.has(value.toLowerCase())){return this.GetCommand(p,value)}return this.CreateToken(57,value,p,this.genPosition())}GetCommand(start,cmd){const offset=this.pos;const end=this.genPosition();if(this.currChar==="(")return this.CreateToken(57,cmd,start,end);if(this.isWhiteSpace(this.currChar))this.SkipWhiteSpace();if(this.ischars(this.currChar,"~","<",">","!",":","+","-","*","/",".","|","&","^")){const mark=this.GetMark();if(mark.kind===0&&(mark.result.type>=38&&mark.result.type<=49||mark.result.type===17||mark.result.type===37||mark.result.type===22)){const id=this.CreateToken(57,cmd,start,end);return{result:[id.result,mark.result],kind:3}}this.BackTo(offset);this.isLiteralToken=true;return this.CreateToken(101,cmd,start,end)}this.isLiteralToken=true;return this.CreateToken(101,cmd,start,end)}GetDirectivesOrSharp(){const start=this.pos;const p=this.genPosition();const pospre=import_vscode_languageserver4.Position.create(this.line,this.chr-1);while(this.isAscii(this.currChar)&&this.currChar!=="EOF")this.Advance();const d=this.document.slice(start,this.pos);if(DIRECTIVE_TEST.has(d.toLowerCase()))return this.CreateToken(102,d,p,this.genPosition());this.BackTo(start+1);return this.CreateError("#",pospre,p)}GetMark(){let currstr=this.currChar;let p=this.genPosition();const p1=currstr+this.Peek();const p2=p1+this.Peek(2);let mark=OTHER_MARK.get(p2);if(mark!==void 0){this.Advance().Advance().Advance();if(p2===">>>"&&this.Peek(3)==="="){this.Advance();return this.CreateToken(49,">>>=",p,this.genPosition())}return this.CreateToken(mark,p2,p,this.genPosition())}mark=OTHER_MARK.get(p1);if(mark!==void 0){this.Advance().Advance();currstr+=this.currChar;return this.CreateToken(mark,p1,p,this.genPosition())}mark=OTHER_MARK.get(currstr);if(mark!==void 0){this.Advance();return this.CreateToken(mark,currstr,p,this.genPosition())}this.Advance();return this.CreateError(currstr,p,this.genPosition())}GetLiteralToken(){let start=this.pos;let p=this.genPosition();while(this.currChar!=="EOF"&&this.Peek()!=="%"&&this.Peek()!=="\n"&&this.Peek()!==","){this.Advance()}this.Advance();let end=this.pos;if(this.currChar==="\n"){const commentMarkOffset=this.document.slice(start,this.pos).search(";");if(commentMarkOffset!==-1){const s=this.document.slice(start,start+commentMarkOffset);const c=this.document.slice(start+commentMarkOffset+1,this.pos);return{result:[new Token(53,s,p,import_vscode_languageserver4.Position.create(p.line,p.character+commentMarkOffset)),new Token(74,c,import_vscode_languageserver4.Position.create(p.line,p.character+commentMarkOffset+1),this.genPosition())],kind:3}}}const value=this.document.slice(start,this.pos).trim();return this.CreateToken(53,value,p,this.genPosition())}getHotString(){const offset=this.pos;const p=this.genPosition();while(!(this.currChar===":")&&!(this.currChar==="\n")&&!(this.Peek()===":")&&this.currChar!=="EOF"){this.Advance()}this.Advance().Advance().Advance();if(offset===this.pos)return this.CreateError("",p,this.genPosition());const content=this.document.slice(offset,this.pos);return this.CreateToken(73,content,p,this.genPosition())}getExpendString(){if(this.isWhiteSpace(this.currChar)){this.SkipWhiteSpace()}const offset=this.pos;if(this.currChar==="\n"){if(this.Peek()==="("){this.Advance();return this.getLiteralString()}const p2=this.genPosition();this.Advance();return this.CreateToken(105,"\n",p2,this.genPosition())}const p=this.genPosition();while(this.currChar!=="\n"&&this.currChar!=="EOF"){this.Advance()}const content=this.document.slice(offset,this.pos);return this.CreateToken(53,content,p,this.genPosition())}getLiteralString(){const p=this.genPosition();const offset=this.pos;this.Advance();while(this.Peek()!==")"&&this.currChar!=="EOF"){this.Advance()}this.Advance();const content=this.document.slice(offset,this.pos);return this.CreateToken(53,content,p,this.genPosition())}getPrecentDereferenceToken(startPosition){this.Advance();let tokens=[new Token(60,"%",startPosition,this.genPosition())];if(!this.isAlphaNumeric(this.currChar)){return{result:tokens,kind:3}}const offset=this.pos;const idstartpos=this.genPosition();while(this.isAlphaNumeric(this.currChar)&&this.currChar!=="EOF")this.Advance();const value=this.document.slice(offset,this.pos);tokens.push(new Token(57,value,idstartpos,this.genPosition()));if(this.currChar!=="%")return{result:tokens,kind:3};const prestartpos=this.genPosition();this.Advance();tokens.push(new Token(60,"%",prestartpos,this.genPosition()));return{result:tokens,kind:3}}getCommandToken(){while(true){if(this.isWhiteSpace(this.currChar)){this.SkipWhiteSpace();continue}const startPosition=this.genPosition();switch(this.currChar){case"%":if(this.isWhiteSpace(this.Peek())){this.Advance();return this.CreateToken(104,"%",startPosition,this.genPosition())}this.Advance();return this.getPrecentDereferenceToken(startPosition);case",":this.Advance();return this.CreateToken(52,",",startPosition,this.genPosition());case"\n":if(this.BackPeek(1,true)==="="&&this.Peek(1,true)==="("){return this.getLiteralString()}this.isLiteralToken=false;this.AdvanceLine();return this.returnSkipEmptyLine(startPosition);case"/":if(this.Peek()==="*")return this.BlockComment();return this.GetLiteralToken();case";":if(this.isWhiteSpace(this.Peek()))return this.LineComment();this.GetLiteralToken();default:return this.GetLiteralToken()}}}GetNextToken(preType=105){while(this.currChar!=="EOF"){let p=this.genPosition();if(preType===72){return this.getHotString()}if(preType===73){return this.getExpendString()}if(this.isLiteralToken&&!this.isPrecentForceExpression){return this.getCommandToken()}if(this.ischars(this.currChar," ","	","\r")){this.SkipWhiteSpace();continue}if(this.currChar==="\n"){this.AdvanceLine();return this.returnSkipEmptyLine(p)}const checkHotkeyResult=preType===105&&this.CheckHotkey();if(checkHotkeyResult){const hotkeytypemap=[70,67,71,67,70,69];const tokens=checkHotkeyResult.slice(1).map((e,i)=>{if(e===void 0)return;const t=hotkeytypemap[i];const p2=this.genPosition();let step=t!==71?e.length:3;while(step--)this.Advance();const c=t!==71?e:" & ";return new Token(hotkeytypemap[i],c,p2,this.genPosition())}).filter(t=>t!==void 0);return{result:tokens,kind:3}}if(this.isDigit(this.currChar)){return this.GetNumber()}if(this.isAlpha(this.currChar)){return this.GetId(preType)}switch(this.currChar){case".":if(this.isDigit(this.Peek())&&!isValidIdentifier(preType)){return this.GetNumber()}else{if(this.isWhiteSpace(this.Peek(),true)&&this.isWhiteSpace(this.BackPeek(),true)){this.Advance();return this.CreateToken(16," . ",p,this.genPosition())}else if(this.Peek()==="="){this.Advance().Advance();return this.CreateToken(43,".=",p,this.genPosition())}this.Advance();return this.CreateToken(51,".",p,this.genPosition())}case'"':return this.GetString();case"#":this.Advance();return this.GetDirectivesOrSharp();case"/":if(this.Peek()==="*"){return this.BlockComment()}return this.GetMark();case";":return this.LineComment();case":":if(preType===105){return this.CheckHotStringAndCreateToken()}const pchar=this.Peek();if(pchar==="="){this.Advance().Advance();return this.CreateToken(37,":=",p,this.genPosition())}this.Advance();return this.CreateToken(68,":",p,this.genPosition());case"'":if(this.v2Mode)return this.GetString();default:return this.GetMark()}}return this.CreateToken(106,"EOF",this.genPosition(),this.genPosition())}*GenToken(){let preType=105;while(true){const tokenResult=this.GetNextToken(preType);switch(tokenResult.kind){case 1:yield tokenResult;preType=107;break;case 2:yield tokenResult;preType=tokenResult.result.type;break;case 0:yield tokenResult;preType=tokenResult.result.type;break;case 3:for(const token of tokenResult.result){if(token.type===74||token.type===75){yield{result:token,kind:2}}yield{result:token,kind:0}}preType=tokenResult.result[tokenResult.result.length-1].type;break}}}CheckHotStringAndCreateToken(){const p=this.genPosition();const offset=this.pos;this.Advance();for(let i=0;i<6;i++){if(this.currChar===":"){this.Advance();const content=this.document.slice(offset,this.pos);return this.CreateToken(72,content,p,this.genPosition())}if(this.currChar.toLowerCase()==="k"){if(this.currChar==="-")this.Advance();this.NumberAdvance()}this.Advance()}this.BackTo(offset+1);return this.CreateToken(68,":",p,this.genPosition())}CheckHotkey(){const testStr=this.document.slice(this.pos,this.pos+MAX_HOTKEY_LENGTH);return HOTKEY_TEST.exec(testStr)}matchWord(s){let w=this.document.slice(this.pos,this.pos+s.length);return w===s}BackTo(offset){const delta=this.pos-offset;this.pos=offset;this.chr-=delta;this.currChar=this.document[offset]}CreateToken(t,c,start,end){return{result:new Token(t,c,start,end),kind:0}}CreateError(c,start,end){return{result:new Token(107,c,start,end),kind:1}}CreateComment(t,c,start,end){return{result:new Token(t,c,start,end),kind:2}}isDigit(s){return s>="0"&&s<="9"}isHexNumber(s){return s!=="EOF"&&(this.isDigit(s)||s>="a"&&s<="f"||s>="A"&&s<="F")}isAlpha(s){return this.isAscii(s)||s==="_"||identifierTest.test(s)}isAlphaNumeric(s){return this.isAlpha(s)||this.isDigit(s)}isAscii(s){return s>="A"&&s<="Z"||s>="a"&&s<="z"}isWhiteSpace(s,containEOL=false){if(containEOL)return s===" "||s==="	"||s==="\r"||s==="\n";return s===" "||s==="	"}isMark(s){return s>="!"&&s<="~"&&!this.isAscii(s)&&!this.isDigit(s)}ischars(c,...chars){for(const char of chars){if(char===c)return true}return false}returnSkipEmptyLine(p){const t=this.CreateToken(105,"\n",p,this.genPosition());this.SkipWhiteSpace();while(this.currChar==="\n"){this.AdvanceLine();if(this.isWhiteSpace(this.currChar))this.SkipWhiteSpace()}if(this.isWhiteSpace(this.currChar)){this.SkipWhiteSpace()}return t}Reset(document){this.pos=-1;this.line=1;this.chr=0;if(document){this.document=document}this.Advance()}};MAX_HOTKEY_LENGTH=40;identifierTest=new RegExp("^[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]*$");HOTKEY_TEST=/^([#!^+&<>*~$]+|(?:<\^>!))?([!-\/]|[:-@]|[\[-`]|[\{-~]|[a-zA-Z0-9]+)(\s&\s([!-\/]|[:-@]|[\[-`]|[\{-~]|[a-zA-Z0-9]+))?([ \t]+UP)?(::)/i;RESERVED_KEYWORDS=(()=>{let keyword=new Map;for(let k=76;k<=100;k++)keyword.set(TokenType[k],k);keyword.set("or",33);keyword.set("and",32);keyword.set("not",30);keyword.set("is",27);keyword.set("contains",29);return keyword})();OTHER_MARK=new Map([["{",61],["}",62],["[",58],["]",63],["(",59],[")",64],[";",74],["=",22],["#",65],[",",52],[".",51],["!",3],["&",13],["|",15],["^",14],["&&",31],["||",34],["+",8],["-",9],["*",5],["/",6],["//",7],["**",2],[">",18],["<",20],[">=",19],["<=",21],["?",36],[":",68],["::",69],["%",60],[">>",10],["<<",11],["++",0],["--",1],["~",4],["$",66],[">>>",12],["??",35],[":=",37],["=",22],["+=",38],["-=",39],["*=",40],["/=",41],["//=",42],[".=",43],["|=",44],["&=",45],["^=",46],[">>=",47],["<<=",48],["~=",17],["==",23],["<>",24],["!=",25],["!==",23],[">>>=",49],["=>",50]]);DIRECTIVE_TEST=new Set(["allowsamelinecomments","clipboardtimeout","commentflag","errorstdout","escapechar","hotkeyinterval","hotkeymodifiertimeout","hotstring","if","iftimeout","ifwinactive","ifwinactiveclose","ifwinexist","ifwinexistclose","ifwinnotactive","ifwinnotactiveclose","ifwinnotexist","include","includeagain","inputlevel","installkeybdhook","installmousehook","keyhistory","ltrim","maxhotkeysperinterval","maxmem","maxthreads","maxthreadsbuffer","maxthreadsperhotkey","menumaskkey","noenv","notrayicon","persistent","singleinstance","usehook","warn","winactivateforce","requires"]);COMMAND_TEST=new Set(["autotrim","blockinput","click","clipwait","control","controlclick","controlfocus","controlget","controlgetfocus","controlgetpos","controlgettext","controlmove","controlsend","controlsendraw","controlsettext","coordmode","critical","detecthiddentext","detecthiddenwindows","drive","driveget","drivespacefree","edit","envadd","envdiv","envget","envmult","envset","envsub","envupdate","exit","exitapp","fileappend","filecopy","filecopydir","filecreatedir","filecreateshortcut","filedelete","fileencoding","filegetattrib","filegetshortcut","filegetsize","filegettime","filegetversion","fileinstall","filemove","filemovedir","fileread","filereadline","filerecycle","filerecycleempty","fileremovedir","fileselectfile","fileselectfolder","filesetattrib","filesettime","formattime","getkeystate","groupactivate","groupadd","groupclose","groupdeactivate","gui","guicontrol","guicontrolget","hotkey","imagesearch","inidelete","iniread","iniwrite","input","inputbox","keyhistory","keywait","listhotkeys","listlines","listvars","menu","mouseclick","mouseclickdrag","mousegetpos","mousemove","msgbox","onexit","outputdebug","pause","pixelgetcolor","pixelsearch","postmessage","process","progress","random","regdelete","regread","regwrite","reload","run","runas","runwait","send","sendevent","sendinput","sendlevel","sendmessage","sendmode","sendplay","sendraw","setbatchlines","setcapslockstate","setcontroldelay","setdefaultmousespeed","setenv","setformat","setkeydelay","setmousedelay","setnumlockstate","setregview","setscrolllockstate","setstorecapslockmode","settimer","settitlematchmode","setwindelay","setworkingdir","shutdown","sleep","sort","soundbeep","soundget","soundgetwavevolume","soundplay","soundset","soundsetwavevolume","splashimage","splashtextoff","splashtexton","splitpath","statusbargettext","statusbarwait","stringcasesense","stringgetpos","stringleft","stringlen","stringlower","stringmid","stringreplace","stringright","stringsplit","stringtrimleft","stringtrimright","stringupper","suspend","sysget","thread","tooltip","transform","traytip","urldownloadtofile","winactivate","winactivatebottom","winclose","winget","wingetactivestats","wingetactivetitle","wingetclass","wingetpos","wingettext","wingettitle","winhide","winkill","winmaximize","winmenuselectitem","winminimize","winminimizeall","winminimizeallundo","winmove","winrestore","winset","winsettitle","winshow","winwait","winwaitactive","winwaitclose","winwaitnotactive"])}});var require_expr=__commonJS({"server/src/parser/newtry/parser/models/expr.ts"(exports2){"use strict";Object.defineProperty(exports2,"__esModule",{value:true});exports2.CommandArgumentExpression=exports2.AnonymousFunctionCreation=exports2.Factor=exports2.ParenExpr=exports2.Ternary=exports2.Binary=exports2.Unary=exports2.Invalid=exports2.Expr=void 0;var vscode_languageserver_1=require_main4();var tokenTypes_1=(init_tokenTypes(),__toCommonJS(tokenTypes_exports));var types_1=(init_types2(),__toCommonJS(types_exports));var nodeBase_1=(init_nodeBase(),__toCommonJS(nodeBase_exports));var stringUtils_1=(init_stringUtils(),__toCommonJS(stringUtils_exports));var Expr8=class extends nodeBase_1.NodeBase{get tag(){return types_1.SyntaxKind.expr}};exports2.Expr=Expr8;var Invalid4=class extends Expr8{constructor(pos,tokens,error){super();this.pos=pos;this.tokens=tokens;this.error=error}get start(){return this.tokens.length>0?this.tokens[0].start:this.pos}get end(){return this.tokens.length>0?this.tokens[this.tokens.length-1].end:this.pos}toLines(){return[this.tokens.map(t=>t.content).join(" ")]}get ranges(){let ranges=[];for(const token of this.tokens){ranges.push(vscode_languageserver_1.Range.create(token.start,token.end))}return ranges}};exports2.Invalid=Invalid4;var Unary4=class extends Expr8{constructor(operator,factor){super();this.operator=operator;this.factor=factor}get start(){return isBiggerPosition(this.operator.start,this.factor.start)?this.factor.start:this.operator.start}get end(){return isBiggerPosition(this.operator.end,this.factor.end)?this.operator.end:this.factor.end}get ranges(){return[this.operator,this.factor]}toLines(){const lines=this.factor.toLines();switch(this.operator.type){case tokenTypes_1.TokenType.plus:case tokenTypes_1.TokenType.minus:lines[0]=`${this.operator.content}${lines[0]}`;return lines;default:lines[0]=`${this.operator.content} ${lines[0]}`;return lines}}};exports2.Unary=Unary4;var Binary5=class extends Expr8{constructor(left,operator,right){super();this.left=left;this.operator=operator;this.right=right}get start(){return this.left.start}get end(){return this.right.end}get ranges(){return[this.left,this.operator,this.right]}toLines(){const leftLines=this.left.toLines();const rightLines=this.right.toLines();return rightLines.length===0?[`${leftLines[0]} ${this.operator.content}`]:[`${leftLines[0]} ${this.operator.content} ${rightLines[0]}`]}};exports2.Binary=Binary5;var Ternary4=class extends Expr8{constructor(condition,question,trueExpr,colon,falseExpr){super();this.condition=condition;this.question=question;this.trueExpr=trueExpr;this.colon=colon;this.falseExpr=falseExpr}get start(){return this.condition.start}get end(){return this.falseExpr.end}get ranges(){const condR=this.condition.ranges;const trueR=this.trueExpr.ranges;const falseR=this.falseExpr.ranges;return condR.concat(this.question).concat(...trueR).concat(this.colon).concat(falseR)}toLines(){const condLines=this.condition.toLines();const trueLines=this.trueExpr.toLines();const falseLines=this.falseExpr.toLines();condLines[condLines.length-1]+=" "+this.question.content;trueLines[trueLines.length-1]+=" "+this.colon.content;return condLines.concat(trueLines).concat(falseLines)}};exports2.Ternary=Ternary4;var ParenExpr4=class extends Expr8{constructor(openParen,expr,closeParen){super();this.openParen=openParen;this.expr=expr;this.closeParen=closeParen}get ranges(){return[this.openParen,...this.expr.ranges,this.closeParen]}toLines(){return[`(${this.expr.toLines().join(`
`)})`]}get start(){return this.openParen.start}get end(){return this.closeParen.end}};exports2.ParenExpr=ParenExpr4;var Factor6=class extends Expr8{constructor(suffixTerm){super();this.suffixTerm=suffixTerm}get start(){return this.suffixTerm.start}get end(){return this.suffixTerm.end}get ranges(){return[...this.suffixTerm.ranges]}get termCount(){return this.suffixTerm.getElements().length}toLines(){return this.suffixTerm.toLines()}};exports2.Factor=Factor6;var AnonymousFunctionCreation4=class extends Expr8{constructor(open,params,close,fatArrow,body){super();this.open=open;this.params=params;this.close=close;this.fatArrow=fatArrow;this.body=body}get ranges(){throw new Error("Method not implemented.")}toLines(){throw new Error("Method not implemented.")}get start(){return this.open?this.open.start:this.params.start}get end(){return this.body.end}};exports2.AnonymousFunctionCreation=AnonymousFunctionCreation4;var CommandArgumentExpression4=class extends Expr8{constructor(precent,expression){super();this.precent=precent;this.expression=expression}get ranges(){return this.precent?[this.precent,...this.expression.ranges]:this.expression.ranges}toLines(){return this.precent?(0,stringUtils_1.joinLines)(" ",["%"],this.expression.toLines()):this.expression.toLines()}get start(){return this.precent?this.precent.start:this.expression.start}get end(){return this.expression.end}};exports2.CommandArgumentExpression=CommandArgumentExpression4;function isBiggerPosition(p1,p2){if(p1.line>p2.line)return true;if(p1.line===p2.line&&p1.character>p2.character)return true;return false}}});function joinNodeTokenLines(...nodeOrToken){if(nodeOrToken.length===0)return[];let oneline=[];let lines=[oneline];let prelement=nodeOrToken[0];for(const e of nodeOrToken){const leadingSpace=prelement===e||prelement.end.line!==e.start.line?"":" ".repeat(e.start.character-prelement.end.character);if(e.start.line!==prelement.start.line){oneline=[];lines.push(oneline)}if(e instanceof Token){oneline.push(leadingSpace,e.content);continue}const el=e.toLines();oneline.push(leadingSpace,el[0]);if(el.length>=2){lines.push(...el.slice(1).map(s=>[s]));oneline=lines[lines.length-1]}prelement=e}return lines.map(s=>s.join(""))}var init_joinNodeTokenLines=__esm({"server/src/parser/newtry/formatter/joinNodeTokenLines.ts"(){"use strict";init_types3()}});var suffixterm_exports={};__export(suffixterm_exports,{ArrayTerm:()=>ArrayTerm,AssociativeArray:()=>AssociativeArray,Call:()=>Call,Grouping:()=>Grouping,Identifier:()=>Identifier,Invalid:()=>Invalid2,Literal:()=>Literal,Pair:()=>Pair,PercentDereference:()=>PercentDereference,PseudoArray:()=>PseudoArray,SuffixTerm:()=>SuffixTerm,SuffixTermBase:()=>SuffixTermBase,SuffixTrailer:()=>SuffixTrailer});var SuffixTermBase,Invalid2,SuffixTrailer,SuffixTerm,Call,PercentDereference,Literal,ArrayTerm,PseudoArray,AssociativeArray,Identifier,Grouping,Pair;var init_suffixterm=__esm({"server/src/parser/newtry/parser/models/suffixterm.ts"(){"use strict";init_tokenTypes();init_types2();init_nodeBase();init_joinNodeTokenLines();SuffixTermBase=class extends NodeBase{get tag(){return 3}};Invalid2=class extends SuffixTermBase{constructor(token){super();this.token=token}get start(){return this.token.start}get end(){return this.token.end}get ranges(){return[]}toLines(){return[""]}};SuffixTrailer=class extends SuffixTermBase{constructor(dot,suffixTerm){super();this.dot=dot;this.suffixTerm=suffixTerm}get start(){return this.dot.start}get end(){return this.suffixTerm.length===0?this.dot.end:this.suffixTerm.end}get ranges(){return[this.dot,...this.suffixTerm.ranges]}toLines(){const suffixTermLines=this.suffixTerm.toLines();return[this.dot.content,...suffixTermLines]}};SuffixTerm=class extends SuffixTermBase{constructor(atom,brackets){super();this.atom=atom;this.brackets=brackets}get ranges(){return[this.atom,...this.brackets]}get start(){return this.atom.start}get end(){if(this.brackets.length>0){return this.brackets[this.brackets.length-1].end}return this.atom.end}toLines(){const atomLines=this.atom.toLines();const trailersLines=this.brackets.map(t=>t.toLines());const flatLines=trailersLines.flat();if(flatLines.length===0)return atomLines;return atomLines.concat(flatLines)}};Call=class extends SuffixTermBase{constructor(open,args,close,parent){super();this.open=open;this.args=args;this.close=close;this.parent=parent;this.atomIndex=parent.termCount}get start(){return this.open?.start??this.args.start}get end(){return this.close?.end??this.args.end}get ranges(){if(this.open&&this.close)return[this.open,...this.args.ranges,this.close];return[...this.args.ranges]}get callInfo(){return this.parent.suffixTerm.getElements().slice(0,this.atomIndex+1)}toLines(){const res=this.args.toLines();if(res.length===0){if(this.open&&this.close)return joinNodeTokenLines(this.open,this.close);return[]}if(this.open&&this.close)return joinNodeTokenLines(this.open,this.args,this.close);return res}};PercentDereference=class extends SuffixTermBase{constructor(open,dereferencable,close){super();this.open=open;this.dereferencable=dereferencable;this.close=close}get start(){return this.open.start}get end(){return this.open.end}get ranges(){return[this.open,this.dereferencable,this.close]}toLines(){let v=this.dereferencable.type===53?'"'+this.dereferencable.content+'"':this.dereferencable.content;return[this.open.content+v+this.close.content]}};Literal=class extends SuffixTermBase{constructor(token){super();this.token=token}get start(){return this.token.start}get end(){return this.token.end}get ranges(){return[this.token]}toLines(){if(this.token.type===53)return[`"${this.token.content}"`];return[`${this.token.content}`]}};ArrayTerm=class extends SuffixTermBase{constructor(open,close,items){super();this.open=open;this.close=close;this.items=items}get start(){return this.open.start}get end(){return this.close.end}get ranges(){return[this.open,...this.items.ranges,this.close]}toLines(){const itemLines=this.items.toLines();itemLines[0]=this.open.content+itemLines[0];itemLines[itemLines.length-1]+=this.close.content;return itemLines}};PseudoArray=class extends SuffixTermBase{constructor(Identifier2,openPercent,dereferencable,closePercent){super();this.Identifier=Identifier2;this.openPercent=openPercent;this.dereferencable=dereferencable;this.closePercent=closePercent}get ranges(){return[this.Identifier,this.openPercent,this.dereferencable,this.closePercent]}toLines(){return[`${this.Identifier.content}${this.openPercent.content}${this.dereferencable.content}${this.closePercent.content}`]}get start(){return this.Identifier.start}get end(){return this.closePercent.end}};AssociativeArray=class extends SuffixTermBase{constructor(open,close,pairs){super();this.open=open;this.close=close;this.pairs=pairs}get start(){return this.open.start}get end(){return this.close.end}get ranges(){return[this.open,...this.pairs.ranges,this.close]}toLines(){const pairLines=this.pairs.toLines();pairLines[0]=this.open.content+pairLines[0];pairLines[pairLines.length-1]+=this.close.content;return pairLines}};Identifier=class extends SuffixTermBase{constructor(token){super();this.token=token}get start(){return this.token.start}get end(){return this.token.end}get ranges(){return[this.token]}get isKeyword(){return!(this.token.type===57)}toLines(){return[`${this.token.content}`]}};Grouping=class extends SuffixTermBase{constructor(open,expr,close){super();this.open=open;this.expr=expr;this.close=close}get start(){return this.open.start}get end(){return this.close.end}get ranges(){return[this.open,this.expr,this.close]}toString(){return`${this.open.content}${this.expr.toString()}${this.close.content}`}toLines(){const lines=this.expr.toLines();lines[0]=`${this.open.content}${lines[0]}`;lines[lines.length-1]=`${lines[lines.length-1]}${this.close.content}`;return lines}};Pair=class extends SuffixTermBase{constructor(key,colon,value){super();this.key=key;this.colon=colon;this.value=value}get start(){return this.key.start}get end(){return this.value.end}get ranges(){return[this.key,this.colon,this.value]}toLines(){const keyLines=this.key.toLines();const valueLines=this.value.toLines();keyLines[keyLines.length-1]+=this.colon.content+valueLines[0];return keyLines.concat(valueLines.slice(1))}}}});var PrecedenceAndAssociativity;var init_precedences=__esm({"server/src/parser/newtry/parser/models/precedences.ts"(){"use strict";PrecedenceAndAssociativity=[[18,0],[18,0],[17,2],[16,0],[16,0],[15,1],[15,1],[15,1],[14,1],[14,1],[13,1],[13,1],[13,1],[12,1],[12,1],[12,1],[11,1],[10,1],[9,1],[9,1],[9,1],[9,1],[8,1],[8,1],[8,1],[8,1],[8,1],[7,1],[7,1],[7,1],[6,0],[5,1],[5,1],[4,1],[4,1],[3,1],[2,2],...(()=>new Array(13).fill([1,2]))()]}});var import_vscode_languageserver5,Script;var init_script=__esm({"server/src/parser/newtry/models/script.ts"(){"use strict";init_types2();import_vscode_languageserver5=__toESM(require_main4());init_nodeBase();Script=class extends NodeBase{constructor(uri,stmts,tokens,comments,include){super();this.uri=uri;this.stmts=stmts;this.tokens=tokens;this.comments=comments;this.include=include}toLines(){return this.stmts.flatMap(stmt=>stmt.toLines())}get start(){if(this.stmts.length===0){return import_vscode_languageserver5.Position.create(0,0)}return this.stmts[0].start}get end(){if(this.stmts.length===0){return import_vscode_languageserver5.Position.create(0,0)}return this.stmts[this.stmts.length-1].end}get ranges(){return[...this.stmts]}toLocation(){return{uri:this.uri,range:{start:this.start,end:this.end}}}get tag(){return 0}}}});var import_vscode_languageserver6,DelimitedList;var init_delimtiedList=__esm({"server/src/parser/newtry/parser/models/delimtiedList.ts"(){"use strict";import_vscode_languageserver6=__toESM(require_main4());init_tokenTypes();init_types3();init_nodeBase();DelimitedList=class extends NodeBase{constructor(start){super();this.delimiter=[51,52];this.childern=[];this._start=start}getElements(){let result=[];for(const e of this.childern){if(e instanceof NodeBase)result.push(e);else if(!this.delimiter.includes(e.type))result.push(e)}return result}addElement(e){this.childern.push(e)}get ranges(){let r=[];for(const e of this.childern){if(e instanceof NodeBase){r.push(...e.ranges)}else r.push(import_vscode_languageserver6.Range.create(e.start,e.end))}return r}toLines(){let lines=[];if(this.length===0)return lines;let oneline="";let prelement=this.childern[0];for(const e of this.childern){const leadingSpace=prelement===e?"":" ".repeat(e.start.character-prelement.end.character);if(e.start.line!==prelement.start.line){lines.push(oneline);oneline=""}if(e instanceof Token){oneline+=`${leadingSpace}${e.content}`;continue}const el=e.toLines();el[0]=`${leadingSpace}${el[0]}`;lines.push(...el)}return lines}get start(){return this.childern.length>0?this.childern[0].start:this._start}get end(){return this.childern.length>0?this.childern[this.childern.length-1].end:this._start}get length(){return this.childern.length}}}});var init_parseContext=__esm({"server/src/parser/newtry/parser/models/parseContext.ts"(){"use strict"}});var import_expr,ParseError,FailedConstructor,failedExpr,failedStmt;var init_parseError=__esm({"server/src/parser/newtry/parser/models/parseError.ts"(){"use strict";import_expr=__toESM(require_expr());init_stmt();ParseError=class{constructor(token,message,failed){this.token=token;this.message=message;this.failed=failed}get start(){return this.token.start}get end(){return this.token.end}};FailedConstructor=class{constructor(stmt,expr){this.stmt=stmt;this.expr=expr}};failedExpr=expr=>{return new FailedConstructor(void 0,expr)};failedStmt=stmt=>{return new FailedConstructor(stmt,void 0)}}});var positionUtils_exports={};__export(positionUtils_exports,{binarySearchIndex:()=>binarySearchIndex,binarySearchRange:()=>binarySearchRange,posInRange:()=>posInRange,positionEqual:()=>positionEqual,rangeBefore:()=>rangeBefore,rangeInRange:()=>rangeInRange});function posInRange(r,pos){if(r instanceof DelimitedList&&r.length===0)return false;const isAfterStart=r.start.line<pos.line?true:r.start.line===pos.line?r.start.character<=pos.character?true:false:false;const isBeforeEnd=r.end.line>pos.line?true:r.end.line===pos.line?r.end.character>=pos.character?true:false:false;return isAfterStart&&isBeforeEnd}function positionEqual(p1,p2){return p1.line===p2.line&&p1.character===p2.character}function rangeInRange(range1,range2){if(range1 instanceof DelimitedList&&range1.length===0)return false;if(range2.start.line<range1.start.line)return false;if(range2.start.line===range1.start.line&&range2.start.character<range1.start.character){return false}if(range2.end.line>range1.end.line)return false;if(range2.end.line===range1.end.line&&range2.end.character>range1.end.character){return false}return true}function binarySearchRange(nodes,pos){const index=binarySearchIndex(nodes,pos);if(index!==void 0)return nodes[index];return void 0}function binarySearchIndex(nodes,pos){let start=0;let end=nodes.length-1;while(start<=end){const mid=Math.floor((start+end)/2);const node=nodes[mid];const isAfterStart=node.start.line<pos.line?true:node.start.line===pos.line?node.start.character<=pos.character?true:false:false;const isBeforeEnd=node.end.line>pos.line?true:node.end.line===pos.line?node.end.character>=pos.character?true:false:false;if(isAfterStart&&isBeforeEnd)return mid;else if(!isBeforeEnd)start=mid+1;else end=mid-1}return void 0}var rangeBefore;var init_positionUtils=__esm({"server/src/utilities/positionUtils.ts"(){"use strict";init_delimtiedList();rangeBefore=(range,pos)=>{if(pos.line>range.end.line)return true;if(pos.line===range.end.line){if(pos.character>range.end.character)return true}return false}}});var parser_exports={};__export(parser_exports,{AHKParser:()=>AHKParser});var Expr2,import_vscode_uri,import_path,AHKParser;var init_parser=__esm({"server/src/parser/newtry/parser/parser.ts"(){"use strict";init_tokenizer();init_tokenTypes();init_stmt();Expr2=__toESM(require_expr());init_suffixterm();init_precedences();init_declaration();init_types3();init_logger();init_script();init_delimtiedList();init_parseContext();import_vscode_uri=__toESM(require_umd());import_path=require("path");init_parseError();init_positionUtils();AHKParser=class{constructor(document,uri,v2mode=false,logger2=mockLogger){this.pos=-1;this.tokens=[];this.tokenErrors=[];this.comments=[];this.includes=new Set;this.v2mode=v2mode;this.tokenizer=new Tokenizer(document,v2mode,logger2);this.tokenizer.isParseHotkey=true;this.tokenGetter=this.tokenizer.GenToken();this.advance();this.logger=logger2;this.uri=uri;this.currentParseContext=0}get currentToken(){return this.tokens[this.pos]}nextToken(){let tokenResult=this.tokenGetter.next().value;let tokenComment=void 0;while(tokenResult.kind===2){this.comments.push(tokenResult.result);tokenComment=tokenResult.result;tokenResult=this.tokenGetter.next().value}tokenResult.result.comment=tokenComment;if(tokenResult.kind===1)this.tokenErrors.push(tokenResult.result);return tokenResult.result}advance(){this.pos++;if(this.pos>=this.tokens.length){const token=this.nextToken();if(token.type===105)this.skipEOLIfNeed(token);else this.tokens.push(token)}return this}previous(){return this.tokens[this.pos-1]}peek(){if(this.pos+1<=this.tokens.length-1)return this.tokens[this.pos+1];let token=this.nextToken();if(token.type===105){this.skipEOLIfNeed(token);return this.tokens[this.pos+1]}this.tokens.push(token);return token}skipEOLIfNeed(token){const saveToken=token;do{token=this.nextToken()}while(token.type===105);if(this.isPossibleBinaryOperator(token.type)||token.type===68||token.type===52||token.type===51){this.tokens.push(token)}else{this.tokens.push(saveToken);this.tokens.push(token)}}matchPeekChar(skipWhite=false,...chars){const p=this.pos+1<=this.tokens.length-1?this.tokens[this.pos+1].content[0]:this.tokenizer.Peek(1,skipWhite);for(const c of chars){if(p===c)return true}return false}delimitedList(start,delimiter,isElementStartFn,parseElementFn,allowEmptyElement=false){let list=new DelimitedList(start);while(true){if(this.v2mode&&delimiter===52)this.jumpWhiteSpace();if(isElementStartFn(this.currentToken)){list.addElement(parseElementFn())}else if(!allowEmptyElement){break}const delimiterToken=this.eatOptional(delimiter);if(delimiterToken===void 0){break}list.addElement(delimiterToken)}return list}expressionList(start){return this.delimitedList(start,52,this.isExpressionStart,()=>this.expression())}setCommandScanMode(flag){this.tokenizer.isLiteralToken=flag}parse(){const diagnostics=[];const baseName=this.uri.split("/").slice(-1)[0];this.logger.log(`Parsing started for ${baseName}`);try{const start=Date.now();const statment=this.parseList(0);const end=Date.now();this.logger.log(`Parsing finished for ${baseName}[${end-start} ms]`);return{script:new Script(this.uri,statment,this.tokens,this.comments,this.includes),sytanxErrors:diagnostics,tokenErrors:this.tokenErrors}}catch(error){this.logger.error(error.stack)}return{script:new Script(this.uri,[],[],[]),sytanxErrors:[],tokenErrors:[]}}parseList(listParseContext){const savedContext=this.currentParseContext;this.currentParseContext|=1<<listParseContext;const parseListElementFn=this.getParseListElementFn(listParseContext);let stmts=[];this.jumpWhiteSpace();while(!this.isListTerminator(listParseContext)){if(this.isValidListStart(listParseContext)){const element=parseListElementFn();stmts.push(element);this.jumpWhiteSpace();continue}if(this.isCurrentTokenValidInEnclosingContexts()){break}const token=new SkipedToken(this.currentToken);stmts.push(new Invalid(token.start,[token]));this.advance();this.jumpWhiteSpace()}this.currentParseContext=savedContext;return stmts}getParseListElementFn(listParseContext){switch(listParseContext){case 0:case 1:case 4:case 6:return this.declaration.bind(this);case 5:return this.caseStmtList.bind(this);case 2:return this.classMemberElement.bind(this);case 3:return this.dynamicPropertyMember.bind(this);default:throw new Error("Unrecognized parse context")}}isListTerminator(listParseContext){const t=this.currentToken.type;if(t===106)return true;switch(listParseContext){case 0:return false;case 1:case 2:case 5:case 3:return t===62;case 4:return t===77;case 6:return t===79||this.isDefauleCase()||t===62;default:throw new Error("Unrecognized parse context")}}isValidListStart(listParseContext){switch(listParseContext){case 0:case 1:case 4:case 6:return this.isStatementStart();case 2:return this.isClassMemberDeclarationStart();case 5:return this.currentToken.type===79||this.isDefauleCase();case 3:return this.isDynamicPropertyStart();default:throw new Error("Unrecognized parse context")}}isCurrentTokenValidInEnclosingContexts(){for(let contextKind=0;contextKind<7;contextKind++){if(this.isInParseContext(contextKind)){if(this.isValidListStart(contextKind)||this.isListTerminator(contextKind)){return true}}}return false}isInParseContext(contextToCheck){return this.currentParseContext&1<<contextToCheck}isStatementStart(){const t=this.currentToken.type;switch(t){case 61:case 67:case 70:case 72:case 102:case 101:return true;case 76:case 78:case 80:case 81:case 83:return true;case 85:case 86:case 92:case 95:case 90:case 91:return true;case 87:return true;case 93:case 94:case 99:return true;default:return this.isAllowedExpressionStatementStart()}}isAllowedExpressionStatementStart(){const t=this.currentToken.type;switch(t){case 57:return true;case 0:case 1:case 59:case 61:return true;default:return isValidIdentifier(t)}}isClassMemberDeclarationStart(){const t=this.currentToken.type;if(t>=76&&t<=100||t===57||t===102||t===96)return true;return false}isDynamicPropertyStart(){const token=this.currentToken;const content=token.content.toLowerCase();return token.type===57&&(content==="get"||content==="set")}testDeclaration(){return this.declaration()}declaration(){while(true){switch(this.currentToken.type){case 57:return this.idLeadStatement();case 96:return this.classDefine();case 93:case 94:case 99:return this.varDecl();case 67:case 70:return this.hotkey();case 72:return this.hotstring();case 105:this.jumpWhiteSpace();continue;default:return this.statement()}}}varDecl(){const scope=this.eat();const assign=this.expressionList(this.currentToken.start);this.terminal();return new VarDecl(scope,assign)}classDefine(){const classToken=this.eat();const name=this.eatType(57);const extendsToken=this.eatOptional(97);if(extendsToken!==void 0){const list=this.factor();const baseClass=new ClassBaseClause(extendsToken,list);const body2=this.classMember();return new ClassDef(classToken,name,body2,baseClass)}const body=this.classMember();return new ClassDef(classToken,name,body)}classMember(){this.jumpWhiteSpace();const open=this.eatType(61);const block=this.parseList(2);this.jumpWhiteSpace();const close=this.eatType(62);return new Block(open,block,close)}classMemberElement(){const modifier=this.eatOptional(99);const token=this.currentToken;if(token.type===96&&!(this.tokenizer.Peek()==="(")&&!this.matchTokens(this.peek().type,[61,50]))return this.classDefine();if(isValidIdentifier(this.currentToken.type))return this.idLeadClassMember(modifier);if(token.type===102)return this.directive();return this.makeMissingClassMemberDeclaration(modifier)}idLeadClassMember(modifier){const p=this.peek();switch(p.type){case 59:const name=this.eat();return this.funcDefine(name);case 58:case 61:return this.dynamicProperty();default:if(this.v2mode&&p.type===50)return this.dynamicProperty();return this.PropertyDeclarationOrMissingMemberDeclaration(modifier)}}PropertyDeclarationOrMissingMemberDeclaration(modifier){if(this.currentToken.type!==57)return this.makeMissingClassMemberDeclaration(modifier);return this.propertyDeclaration(modifier)}propertyDeclaration(modifier){const expressions=this.expressionList(this.currentToken.start);return new PropertyDeclaration(modifier,expressions)}dynamicProperty(){const name=this.eat();const openBracket=this.eatOptional(58);const parameter=openBracket?this.parameters():void 0;const closeBracket=openBracket?this.eatType(63):void 0;if(this.v2mode){const fatArrow=this.eatOptional(50);if(fatArrow){const expr=this.expression();const stmt=new ExprStmt(expr);return new DynamicProperty(name,stmt,openBracket,parameter,closeBracket,fatArrow)}}this.jumpWhiteSpace();const open=this.eatType(61);const block=this.parseList(3);this.jumpWhiteSpace();const close=this.eatType(62);const body=new Block(open,block,close);return new DynamicProperty(name,body,openBracket,parameter,closeBracket)}dynamicPropertyMember(){const name=this.eatType(57);this.jumpWhiteSpace();if(this.v2mode){const fatArrow=this.eatOptional(50);if(fatArrow){const expr=this.expression();const stmt=new ExprStmt(expr);return new GetterSetter(name,new ShortClassMember(fatArrow,this.expression()))}}const open=this.eatType(61);const block=this.parseList(1);this.jumpWhiteSpace();const close=this.eatType(62);const body=new Block(open,block,close);return new GetterSetter(name,body)}label(){const name=this.eat();this.eatType(68);return new Label(name)}hotkey(){const modifier=this.eatOptional(70);const k1=new Key(this.eatType(67),modifier);const and=this.eatOptional(71);if(and){const k2=new Key(this.currentToken);this.advance();const up2=this.eatOptional(70);const hotkey2=this.eatType(69);return new Hotkey(k1,hotkey2,up2,and,k2)}const up=this.eatOptional(70);const hotkey=this.eatType(69);return new Hotkey(k1,hotkey,up)}hotstring(){const option=this.eat();const str=this.eatType(73);if(this.atLineEnd()){const expend2=this.eat();return new HotString(option,str,expend2)}const expend=this.eatType(53);return new HotString(option,str,expend)}statement(){switch(this.currentToken.type){case 57:return this.idLeadStatement();case 61:return this.block();case 76:return this.ifStmt();case 85:return this.breakStmt();case 86:return this.continueStmt();case 92:return this.returnStmt();case 78:return this.switchStmt();case 80:return this.loopStmt();case 83:return this.whileStmt();case 81:return this.forStmt();case 87:return this.tryStmt();case 95:return this.throwStmt();case 102:return this.directive();case 101:return this.command();case 0:case 1:case 59:case 61:return this.exprStmt();default:return this.unrecognizedActionStmt()}}idLeadStatement(){const p=this.peek();switch(p.type){case 71:case 69:return this.hotkey();case 59:if(this.matchTokenAfterParentGruop(61))return this.funcDefine(this.eatId());case 0:case 1:case 58:case 51:case 59:case 52:return this.exprStmt();case 68:if(p.start.line===this.currentToken.end.line&&p.start.character===this.currentToken.end.character)return this.label()}if(this.v2mode&&(this.isExpressionStart(p)||p.type===105||p.type===106)){const callexpr=this.v2CommandStyleFucntionCall();this.terminal();return new ExprStmt(callexpr)}if(p.type>=37&&p.type<=48||this.matchTokens(p.type,[22,17])){return this.exprStmt()}return this.unrecognizedActionStmt()}block(){this.jumpWhiteSpace();const open=this.eatType(61);const block=this.parseList(1);this.jumpWhiteSpace();const close=this.eatType(62);return new Block(open,block,close)}ifStmt(){const iftoken=this.currentToken;this.advance();const condition=this.expression();this.jumpWhiteSpace();const body=this.statement();this.jumpWhiteSpace();if(this.currentToken.type===77){const elseStmt=this.elseStmt();return new If(iftoken,condition,body,elseStmt)}return new If(iftoken,condition,body)}elseStmt(){const elsetoken=this.eat();if(this.currentToken.type===76){const elif=this.ifStmt();return new Else(elsetoken,elif)}const body=this.declaration();return new Else(elsetoken,body)}breakStmt(){const breakToken=this.currentToken;this.advance();this.eatOptional(52);if(!this.atLineEnd()){this.eatDiscardCR(52);const label=this.eatId();this.terminal();return new Break(breakToken,label)}this.terminal();return new Break(breakToken)}returnStmt(){const returnToken=this.eat();this.eatOptional(52);if(!this.atLineEnd()){this.eatDiscardCR(52);const expr=this.expression();this.terminal();return new Return(returnToken,expr)}this.terminal();return new Return(returnToken)}continueStmt(){const continueToken=this.eat();const comma=this.eatDiscardCR(52);if(!this.atLineEnd()&&isValidIdentifier(this.currentToken.type)){const label=this.eat();this.terminal();return new Continue(continueToken,label)}this.terminal();return new Continue(continueToken)}switchStmt(){const switchToken=this.eat();this.eatOptional(52);const cond=this.expression();this.jumpWhiteSpace();const open=this.eatType(61);const cases=this.parseList(5);const close=this.eatType(62);return new SwitchStmt(switchToken,cond,open,cases,close)}caseStmtList(){const caseToken=this.eat();if(caseToken.type===79){this.eatOptional(52);const conditions=this.expressionList(this.currentToken.start);const colon=this.eatType(68);const stmts2=this.parseList(6);return new CaseStmt(new CaseExpr(caseToken,conditions,colon),stmts2)}this.eatType(68);const CaseNode=new DefaultCase(caseToken);const stmts=this.parseList(6);return new CaseStmt(CaseNode,stmts)}loopStmt(){const loop=this.eat();if(this.matchTokens(this.currentToken.type,[105,106,61])){this.jumpWhiteSpace();const body2=this.declaration();const until=this.eatOptional(84);if(until){const cond=this.expression();this.terminal();return new UntilLoop(loop,body2,until,cond)}return new Loop(loop,body2)}if(!this.v2mode){this.setCommandScanMode(true);const delimiter=this.eatOptional(52);const param=this.commandArguments();if(this.atLineEnd())this.advance();const body2=this.declaration();return new Loop(loop,body2,delimiter,param)}const condition=this.expressionList(this.currentToken.start);const body=this.declaration();return new Loop(loop,body,void 0,condition)}whileStmt(){const whileToken=this.currentToken;this.advance();const cond=this.expression();this.jumpWhiteSpace();const body=this.declaration();return new WhileStmt(whileToken,cond,body)}forStmt(){const forToken=this.eat();const id1=this.factor();if(this.currentToken.type===52){const comma=this.eat();const id2=this.factor();const inToken2=this.eatType(82);const iterable2=this.expression();const body2=this.declaration();return new ForStmt(forToken,inToken2,iterable2,body2,id1,comma,id2)}const inToken=this.eatType(82);const iterable=this.expression();const body=this.declaration();return new ForStmt(forToken,inToken,iterable,body,id1)}tryStmt(){const tryToken=this.eat();this.jumpWhiteSpace();const body=this.declaration();let catchStmt;let finallyStmt;this.jumpWhiteSpace();const catchToken=this.eatOptional(88);if(catchToken){const errorVar=isValidIdentifier(this.currentToken.type)?this.eat():void 0;const body2=this.declaration();catchStmt=new CatchStmt(catchToken,errorVar,body2)}this.jumpWhiteSpace();const finallyToken=this.eatOptional(89);if(finallyToken){const body2=this.declaration();finallyStmt=new FinallyStmt(finallyToken,body2)}return new TryStmt(tryToken,body,catchStmt,finallyStmt)}throwStmt(){const throwToken=this.eat();const expr=this.expression();this.terminal();return new Throw(throwToken,expr)}directive(){const directive=this.currentToken;const directiveName=directive.content.toLowerCase();if(directiveName==="if"||directiveName==="hotif")this.setCommandScanMode(false);else this.setCommandScanMode(true);this.eat();const args=this.delimitedList(this.currentToken.start,52,this.isExpressionStart,()=>{if(directiveName==="include"||directiveName==="includeagain"){const token=this.currentToken;if(token.type===57){const v=token.content.toLowerCase();if(v==="a_linefile"){const prefix=import_vscode_uri.URI.parse(this.uri).fsPath;const includePath=this.eatOptional(53);if(includePath)this.includes.add((0,import_path.join)(prefix,includePath.content))}}else{this.includes.add(token.content)}}return this.expression()},true);this.setCommandScanMode(false);this.terminal();return new Directive(directive,args)}exprStmt(){const expr=this.expression();const delimiter=this.eatOptional(52);if(delimiter){const trailer=this.tailorExpr(delimiter);this.terminal();return new ExprStmt(expr,trailer)}this.terminal();return new ExprStmt(expr)}tailorExpr(delimiter){const exprList=this.expressionList(this.currentToken.start);return new TrailerExprList(delimiter,exprList)}testExpr(){this.tokens.pop();this.tokenizer.Reset();this.tokenizer.isParseHotkey=false;this.tokens.push(this.nextToken());return this.expression()}isExpressionStart(token){switch(token.type){case 8:case 9:case 13:case 5:case 3:case 4:case 0:case 1:case 98:case 59:case 54:case 53:case 61:case 58:case 57:case 60:return true;default:return isValidIdentifier(token.type)}}expression(p=0){this.tokenizer.isParseHotkey=false;let result=this.UnaryExpressionOrHigher();while(true){this.tokenizer.isParseHotkey=false;const[newPrecedence,newAssociative]=PrecedenceAndAssociativity[this.currentToken.type]??[-1,0];if(newPrecedence===-1&&newAssociative===0){if(this.currentToken.type>=53&&this.currentToken.type<=60){const[newPrecedence2,_]=PrecedenceAndAssociativity[16];if(newPrecedence2<p)break;const right2=this.expression(newPrecedence2+1);result=new Expr2.Binary(result,new Token(103," ",result.end,right2.start),right2);continue}break}if(newPrecedence<p)break;const saveToken=this.currentToken;if(saveToken.type===36){this.advance();const trueExpr=this.expression();const colon=this.eatType(68);const falseExpr=this.expression(newPrecedence);result=new Expr2.Ternary(result,saveToken,trueExpr,colon,falseExpr);return result}this.advance();const right=this.expression(newAssociative===1?newAssociative+1:newAssociative);result=new Expr2.Binary(result,saveToken,right)}this.tokenizer.isParseHotkey=true;return result}UnaryExpressionOrHigher(){while(this.currentToken.type===105){if(this.v2mode&&this.isPossibleBinaryOperator(this.peek().type)){this.eatType(105);continue}break}switch(this.currentToken.type){case 8:case 9:case 13:case 5:case 3:case 4:case 98:const saveToken=this.currentToken;this.advance();const expr=this.UnaryExpressionOrHigher();return new Expr2.Unary(saveToken,expr);case 0:case 1:return this.prefixedUpdateExpression();case 61:case 58:case 60:return this.factor()}const expression=this.primaryExpression();return this.postfixExpressionRest(expression)}prefixedUpdateExpression(){const operator=this.eatTypes(0,1);const token=this.currentToken;const factor=token.type===0||token.type===1?this.prefixedUpdateExpression():this.primaryExpression();if(!(factor instanceof Expr2.Invalid))return new Expr2.Unary(operator,this.postfixExpressionRest(factor,false));return new Expr2.Unary(operator,factor)}postfixExpressionRest(expression,allowUpdateExpression=true){const token=this.currentToken;switch(token.type){case 0:case 1:if(allowUpdateExpression){const factor=expression;const operator=this.eatTypes(0,1);return new Expr2.Unary(operator,factor)}break;case 5:if(!this.matchTokens(this.currentToken.type,[8,9,13,5,3,4,0,1,98,59,54,53,61,58,57,60])){return new Expr2.Unary(token,expression)}break;default:break}return expression}primaryExpression(){switch(this.currentToken.type){case 59:if(this.v2mode&&this.matchTokenAfterParentGruop(50))return this.anonymousFunction();const OPar=this.eat();const mid=this.expressionList(this.currentToken.start);const CPar=this.eatType(64);return new Expr2.ParenExpr(OPar,mid,CPar);case 54:case 53:return this.factor();case 57:if(this.v2mode&&this.peek().type===50)return this.anonymousFunction();return this.factor()}if(!this.v2mode&&isValidIdentifier(this.currentToken.type)){return this.factor()}const token=this.currentToken;return new Expr2.Invalid(token.start,[token],new ParseError(token,"Expect an expression",failedExpr(Expr2.Factor)))}isPossibleBinaryOperator(t){return 2<=t&&t<=27||30<=t&&t<=49}factor(){const factor=new Expr2.Factor(new DelimitedList(this.currentToken.start));const atomList=this.delimitedList(this.currentToken.start,51,token=>this.isVaildAtom(token),()=>this.suffixTerm(factor));factor.suffixTerm.childern.push(...atomList.childern);return factor}suffixTerm(parent){const atom=this.atom();const isValid=!(atom instanceof Invalid2);if(isValid){const trailers=this.suffixTermTailor(parent);return new SuffixTerm(atom,trailers)}return new SuffixTerm(atom,[])}suffixTermTailor(parent){const trailers=[];while(true){if(this.currentToken.type===58){const bracket=this.arrayTerm();trailers.push(bracket)}else if(this.currentToken.type===59){const callTrailer=this.functionCallTerm(parent);trailers.push(callTrailer)}else break}return trailers}isVaildAtom(token){const t=token.type;switch(t){case 57:case 54:case 53:case 60:case 58:case 61:case 59:return true;default:return isValidIdentifier(t)}}atom(){const type=this.currentToken.type;switch(type){case 57:this.advance();if(this.currentToken.type!==60)return new Identifier(this.previous());return new PseudoArray(this.previous(),this.eatType(60),this.eatId(),this.eatType(60));case 54:case 53:let t=this.eat();return new Literal(t);case 60:return new PercentDereference(this.eat(),this.eatId(),this.eatType(60));case 58:return this.arrayTerm();case 61:return this.associativeArray();case 59:return new Expr2.ParenExpr(this.eat(),this.expression(),this.eatType(64));default:const id=this.eatId();if(id instanceof MissingToken){return new Invalid2(id)}return new Identifier(id)}}arrayTerm(){const open=this.eat();const items=this.expressionList(this.currentToken.start);const close=this.eatType(63,true);return new ArrayTerm(open,close,items)}associativeArray(){const open=this.eat();const pairs=this.delimitedList(this.currentToken.start,52,this.isExpressionStart,()=>this.pair());const close=this.eatType(62,true);return new AssociativeArray(open,close,pairs)}pair(){const key=this.expression();const colon=this.eatType(68);const value=this.expression();return new Pair(key,colon,value)}arguments(){return this.delimitedList(this.currentToken.start,52,this.isExpressionStart,()=>this.expression(),true)}funcDefine(name){const open=this.eatType(59);let parameters=this.parameters();const close=this.eatType(64);let block=this.currentToken.type===50?new ShortClassMember(this.eatType(50),this.expression()):this.block();return new FuncDef(name,open,parameters,close,block)}anonymousFunction(){const open=this.eatOptional(59);const parameters=this.parameters();const close=open?this.eatType(64):void 0;const fatArrow=this.eatType(50);const body=this.expression();return new Expr2.AnonymousFunctionCreation(open,parameters,close,fatArrow,body)}functionCallTerm(parent){const args=new Call(this.eatType(59),this.arguments(),this.eatType(64),parent);return args}v2CommandStyleFucntionCall(){const callee=this.factor();const terms=callee.suffixTerm.getElements();const args=this.atLineEnd()?new DelimitedList(this.currentToken.start):this.arguments();const call=new Call(void 0,args,void 0,callee);terms[terms.length-1].brackets.push(call);return callee}parameters(){const requiredParameters=[];const optionalParameters=[];let isDefaultParam=false;const allParameters=this.delimitedList(this.currentToken.start,52,token=>isValidIdentifier(token.type)||token.type===13||token.type===5,()=>{const byref=this.eatOptional(this.v2mode?13:100);if(this.currentToken.type===5){isDefaultParam=true;const spreadMark=this.eatType(5);const param2=new SpreadParameter(spreadMark,byref,spreadMark);optionalParameters.push(param2);return param2}if(isDefaultParam){const param2=this.optionalParameter(byref);optionalParameters.push(param2);return param2}const p=this.peek();if(p.type===37||p.type===22||p.type===5||p.type===36){isDefaultParam=true;const param2=this.optionalParameter(byref,p.type===5);optionalParameters.push(param2);return param2}const param=this.requiredParameter(byref);requiredParameters.push(param);return param});return new Param(allParameters,requiredParameters,optionalParameters)}requiredParameter(byref){const name=this.eatType(57);return new Parameter(name,byref)}optionalParameter(byref,isExtend=false){const name=this.eatType(57);if(isExtend||this.currentToken.type===5){const star=this.eat();return new SpreadParameter(name,byref,star)}const operator=this.eatTypes(37,22,36);if(operator.type===36)return new DefaultParameter(name,byref,operator);const dflt=this.expression();return new DefaultParameter(name,byref,operator,dflt)}command(){this.setCommandScanMode(true);const cmd=this.eat();const delimiter=this.eatOptional(52);const args=this.commandArguments();this.setCommandScanMode(false);this.terminal();return new CommandCall(cmd,delimiter,args)}commandArguments(){return this.delimitedList(this.currentToken.start,52,t=>t.type===104||this.isExpressionStart(t),()=>{if(this.currentToken.type===104){this.tokenizer.setPrecentForceExpression(true);const precent=this.eatType(104);const expression2=this.expression();this.tokenizer.setPrecentForceExpression(false);return new Expr2.CommandArgumentExpression(precent,expression2)}const expression=this.expression();this.tokenizer.setPrecentForceExpression(false);return expression},true)}unrecognizedActionStmt(){const token=new SkipedToken(this.eat());return new Invalid(token.start,[token],new ParseError(token,"This line does not contain a recognized action.",failedStmt(ExprStmt)))}makeMissingClassMemberDeclaration(modifier){const token=new SkipedToken(this.eat());return new Invalid(token.start,modifier?[modifier,token]:[token],new ParseError(token,"Not a valid method, class or property definition.",failedStmt(PropertyDeclaration)))}terminal(){if(this.currentToken.type!==106)this.eatType(105)}backto(pos){this.pos=pos}eatDiscardCR(t){if(this.currentToken.type===105){if(this.peek().type===t){this.advance().advance();return this.previous()}}else if(this.check(t)){this.advance();return this.previous()}return void 0}check(t){return t===this.currentToken.type}checkFromTo(t1,t2){return this.currentToken.type>=t1&&this.currentToken.type<=t2}eat(){this.advance();return this.previous()}eatType(t,skipEOL=false){if(this.currentToken.type===105&&this.v2mode&&skipEOL){const p=this.peek();if(p.type===t)this.advance()}if(this.currentToken.type===t){this.advance();return this.previous()}return new MissingToken(t,this.currentToken.start)}eatTypes(...ts){if(this.matchTokens(this.currentToken.type,ts)){this.advance();return this.previous()}return new MissingToken(ts[0],this.currentToken.start)}eatId(){if(isValidIdentifier(this.currentToken.type))return this.eat();return new MissingToken(57,this.currentToken.start)}eatOptional(t){if(this.currentToken.type===t){this.advance();return this.previous()}return void 0}eatOptionals(...ts){if(this.matchTokens(this.currentToken.type,ts)){this.advance();return this.previous()}return void 0}matchTokens(t1,ts){if(t1===106)return false;for(const t of ts){if(t===t1)return true}return false}matchTokenAfterParentGruop(t){const pos=this.pos;while(this.currentToken.type!==59)this.advance();let unclosed=1;while(unclosed>0&&!this.atLineEnd()){let t2=this.peek().type;if(t2===64)unclosed--;if(t2===59)unclosed++;this.advance()}this.advance();const isMatch=!!this.eatDiscardCR(t);this.backto(pos);return isMatch}jumpWhiteSpace(){while(this.currentToken.type===105)this.advance()}atLineEnd(){return this.currentToken.type===105||this.currentToken.type===106}isDefauleCase(){if(this.currentToken.type===57&&this.currentToken.content.toLowerCase()==="default"){const p=this.peek();return p.content===":"&&positionEqual(p.start,this.currentToken.end)}return false}}}});var constants_exports={};__export(constants_exports,{AHKLSSemanticTokenTypes:()=>AHKLSSemanticTokenTypes,ServerName:()=>ServerName,buildBuiltinCommandNode:()=>buildBuiltinCommandNode,buildBuiltinFunctionNode:()=>buildBuiltinFunctionNode,buildKeyWordCompletions:()=>buildKeyWordCompletions,buildbuiltin_variable:()=>buildbuiltin_variable,defaultSettings:()=>defaultSettings,getBuiltinScope:()=>getBuiltinScope,keywords:()=>keywords});function buildKeyWordCompletions(){return keywords.map(keyword=>({kind:import_vscode_languageserver7.CompletionItemKind.Keyword,label:keyword,data:0}))}function buildbuiltin_variable(){return builtin_variable.map((bti_var_info,index)=>{return{kind:import_vscode_languageserver7.CompletionItemKind.Variable,detail:"Built-in Variable",label:bti_var_info[0],data:index}})}function buildBuiltinFunctionNode(){return builtin_function}function buildBuiltinCommandNode(){return builtin_command}function getBuiltinScope(v2mode=false,logger2){let b=new Map;const version=v2mode?"v2":"v1";const furi=import_vscode_uri2.URI.file((0,import_path2.join)(__dirname,"..","..","syntaxes","builtin",version,"functions.d.ahk"));try{const docText=(0,import_fs.readFileSync)(furi.fsPath,{encoding:"utf-8"});const p=new AHKParser(docText,furi.toString(),v2mode);const ast=p.parse();const fuctions=ast.script.stmts.map(f=>{if(f instanceof FuncDef)return convertStmt2MethodSymbol(f);throw new Error("Need A function defination but got:\n"+JSON.stringify(f))});for(const m of fuctions)b.set(m.name.toLowerCase(),m)}catch(err){if(err.code==="ENOENT"){logger2.info("Builtin function definitions not found. Function-related features unavailable.")}else{logger2.error("Failed to parse builtin functions: "+err.message)}}const fclassUri=import_vscode_uri2.URI.file((0,import_path2.join)(__dirname,"..","..","syntaxes","builtin",version,"classes.d.ahk"));try{const docText=(0,import_fs.readFileSync)(fclassUri.fsPath,{encoding:"utf-8"});const p2=new AHKParser(docText,fclassUri.toString(),true);const ast2=p2.parse();const objects=ast2.script.stmts.filter(s=>s instanceof ClassDef).map(o=>{const odef=new AHKObjectSymbol(fclassUri.toString(),o.name.content,fakeRange);for(const stmt of o.body.stmts){if(stmt instanceof PropertyDeclaration){const propElement=stmt.propertyElements.getElements()[0];if(!(propElement instanceof import_expr2.Binary&&propElement.left instanceof import_expr2.Factor))continue;const prop=propElement.left.suffixTerm.getElements()[0];if(prop===void 0||!(prop.atom instanceof Identifier))continue;odef.define(new VariableSymbol(fclassUri.toString(),prop.atom.token.content,fakeRange,2))}if(stmt instanceof FuncDef)odef.define(convertStmt2MethodSymbol(stmt))}return odef});for(const o of objects)b.set(o.name.toLowerCase(),o)}catch(err){if(err.code==="ENOENT"){logger2.info("Builtin class definitions not found. Class-related features unavailable.")}else{logger2.error("Failed to parse builtin classes: "+err.message)}}const v=buildbuiltin_variable().map(v2=>[v2.label.toLowerCase(),new BuiltinVariableSymbol(v2.label,0,void 0)]);for(const[name,sym]of v)b.set(name,sym);return b}function convertStmt2MethodSymbol(fdef){return new AHKMethodSymbol("__Builtin__",fdef.nameToken.content,fakeRange,fdef.params.requiredParameters.map(p=>new ParameterSymbol("__Builtin__",p.identifier.content,import_vscode_languageserver7.Range.create(p.start,p.end),1,p.byref!==void 0,false)),fdef.params.optionalParameters.map(p=>new ParameterSymbol("__Builtin__",p.identifier.content,import_vscode_languageserver7.Range.create(p.start,p.end),1,p.byref!==void 0,p instanceof SpreadParameter)))}var import_vscode_languageserver7,import_fs,import_path2,import_vscode_uri2,import_expr2,ServerName,AHKLSSemanticTokenTypes,defaultSettings,keywords,fakeRange;var init_constants=__esm({"server/src/constants.ts"(){"use strict";import_vscode_languageserver7=__toESM(require_main4());init_tokenTypes();init_builtins();init_serverConfiguration();init_symbol();init_types();init_parser();import_fs=require("fs");import_path2=require("path");import_vscode_uri2=__toESM(require_umd());init_declaration();import_expr2=__toESM(require_expr());init_suffixterm();ServerName="ahk-simple-language-server";AHKLSSemanticTokenTypes=[import_vscode_languageserver7.SemanticTokenTypes.class,import_vscode_languageserver7.SemanticTokenTypes.parameter,import_vscode_languageserver7.SemanticTokenTypes.variable,import_vscode_languageserver7.SemanticTokenTypes.property,import_vscode_languageserver7.SemanticTokenTypes.function,import_vscode_languageserver7.SemanticTokenTypes.method,import_vscode_languageserver7.SemanticTokenTypes.keyword,import_vscode_languageserver7.SemanticTokenTypes.modifier,import_vscode_languageserver7.SemanticTokenTypes.comment,import_vscode_languageserver7.SemanticTokenTypes.string,import_vscode_languageserver7.SemanticTokenTypes.number,import_vscode_languageserver7.SemanticTokenTypes.operator];defaultSettings=new ServerConfiguration(1e3,"no",false,{level:"info"},false,true);keywords=(()=>{let keyword=[];for(let k=76;k<=100;k++)keyword.push(TokenType[k]);return keyword})();fakeRange={start:import_vscode_languageserver7.Position.create(-1,-1),end:import_vscode_languageserver7.Position.create(-1,-1)}}});var require_main5=__commonJS({"server/node_modules/vscode-languageserver-textdocument/lib/umd/main.js"(exports2,module2){var __spreadArray=exports2&&exports2.__spreadArray||function(to,from,pack){if(pack||arguments.length===2)for(var i=0,l=from.length,ar;i<l;i++){if(ar||!(i in from)){if(!ar)ar=Array.prototype.slice.call(from,0,i);ar[i]=from[i]}}return to.concat(ar||Array.prototype.slice.call(from))};(function(factory){if(typeof module2==="object"&&typeof module2.exports==="object"){var v=factory(require,exports2);if(v!==void 0)module2.exports=v}else if(typeof define==="function"&&define.amd){define(["require","exports"],factory)}})(function(require2,exports3){"use strict";Object.defineProperty(exports3,"__esModule",{value:true});exports3.TextDocument=void 0;var FullTextDocument2=function(){function FullTextDocument3(uri,languageId,version,content){this._uri=uri;this._languageId=languageId;this._version=version;this._content=content;this._lineOffsets=void 0}Object.defineProperty(FullTextDocument3.prototype,"uri",{get:function(){return this._uri},enumerable:false,configurable:true});Object.defineProperty(FullTextDocument3.prototype,"languageId",{get:function(){return this._languageId},enumerable:false,configurable:true});Object.defineProperty(FullTextDocument3.prototype,"version",{get:function(){return this._version},enumerable:false,configurable:true});FullTextDocument3.prototype.getText=function(range){if(range){var start=this.offsetAt(range.start);var end=this.offsetAt(range.end);return this._content.substring(start,end)}return this._content};FullTextDocument3.prototype.update=function(changes,version){for(var _i=0,changes_1=changes;_i<changes_1.length;_i++){var change=changes_1[_i];if(FullTextDocument3.isIncremental(change)){var range=getWellformedRange(change.range);var startOffset=this.offsetAt(range.start);var endOffset=this.offsetAt(range.end);this._content=this._content.substring(0,startOffset)+change.text+this._content.substring(endOffset,this._content.length);var startLine=Math.max(range.start.line,0);var endLine=Math.max(range.end.line,0);var lineOffsets=this._lineOffsets;var addedLineOffsets=computeLineOffsets(change.text,false,startOffset);if(endLine-startLine===addedLineOffsets.length){for(var i=0,len=addedLineOffsets.length;i<len;i++){lineOffsets[i+startLine+1]=addedLineOffsets[i]}}else{if(addedLineOffsets.length<1e4){lineOffsets.splice.apply(lineOffsets,__spreadArray([startLine+1,endLine-startLine],addedLineOffsets,false))}else{this._lineOffsets=lineOffsets=lineOffsets.slice(0,startLine+1).concat(addedLineOffsets,lineOffsets.slice(endLine+1))}}var diff=change.text.length-(endOffset-startOffset);if(diff!==0){for(var i=startLine+1+addedLineOffsets.length,len=lineOffsets.length;i<len;i++){lineOffsets[i]=lineOffsets[i]+diff}}}else if(FullTextDocument3.isFull(change)){this._content=change.text;this._lineOffsets=void 0}else{throw new Error("Unknown change event received")}}this._version=version};FullTextDocument3.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){this._lineOffsets=computeLineOffsets(this._content,true)}return this._lineOffsets};FullTextDocument3.prototype.positionAt=function(offset){offset=Math.max(Math.min(offset,this._content.length),0);var lineOffsets=this.getLineOffsets();var low=0,high=lineOffsets.length;if(high===0){return{line:0,character:offset}}while(low<high){var mid=Math.floor((low+high)/2);if(lineOffsets[mid]>offset){high=mid}else{low=mid+1}}var line=low-1;return{line,character:offset-lineOffsets[line]}};FullTextDocument3.prototype.offsetAt=function(position){var lineOffsets=this.getLineOffsets();if(position.line>=lineOffsets.length){return this._content.length}else if(position.line<0){return 0}var lineOffset=lineOffsets[position.line];var nextLineOffset=position.line+1<lineOffsets.length?lineOffsets[position.line+1]:this._content.length;return Math.max(Math.min(lineOffset+position.character,nextLineOffset),lineOffset)};Object.defineProperty(FullTextDocument3.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:false,configurable:true});FullTextDocument3.isIncremental=function(event){var candidate=event;return candidate!==void 0&&candidate!==null&&typeof candidate.text==="string"&&candidate.range!==void 0&&(candidate.rangeLength===void 0||typeof candidate.rangeLength==="number")};FullTextDocument3.isFull=function(event){var candidate=event;return candidate!==void 0&&candidate!==null&&typeof candidate.text==="string"&&candidate.range===void 0&&candidate.rangeLength===void 0};return FullTextDocument3}();var TextDocument2;(function(TextDocument3){function create(uri,languageId,version,content){return new FullTextDocument2(uri,languageId,version,content)}TextDocument3.create=create;function update(document,changes,version){if(document instanceof FullTextDocument2){document.update(changes,version);return document}else{throw new Error("TextDocument.update: document must be created by TextDocument.create")}}TextDocument3.update=update;function applyEdits(document,edits){var text=document.getText();var sortedEdits=mergeSort(edits.map(getWellformedEdit),function(a,b){var diff=a.range.start.line-b.range.start.line;if(diff===0){return a.range.start.character-b.range.start.character}return diff});var lastModifiedOffset=0;var spans=[];for(var _i=0,sortedEdits_1=sortedEdits;_i<sortedEdits_1.length;_i++){var e=sortedEdits_1[_i];var startOffset=document.offsetAt(e.range.start);if(startOffset<lastModifiedOffset){throw new Error("Overlapping edit")}else if(startOffset>lastModifiedOffset){spans.push(text.substring(lastModifiedOffset,startOffset))}if(e.newText.length){spans.push(e.newText)}lastModifiedOffset=document.offsetAt(e.range.end)}spans.push(text.substr(lastModifiedOffset));return spans.join("")}TextDocument3.applyEdits=applyEdits})(TextDocument2||(exports3.TextDocument=TextDocument2={}));function mergeSort(data,compare){if(data.length<=1){return data}var p=data.length/2|0;var left=data.slice(0,p);var right=data.slice(p);mergeSort(left,compare);mergeSort(right,compare);var leftIdx=0;var rightIdx=0;var i=0;while(leftIdx<left.length&&rightIdx<right.length){var ret=compare(left[leftIdx],right[rightIdx]);if(ret<=0){data[i++]=left[leftIdx++]}else{data[i++]=right[rightIdx++]}}while(leftIdx<left.length){data[i++]=left[leftIdx++]}while(rightIdx<right.length){data[i++]=right[rightIdx++]}return data}function computeLineOffsets(text,isAtLineStart,textOffset){if(textOffset===void 0){textOffset=0}var result=isAtLineStart?[textOffset]:[];for(var i=0;i<text.length;i++){var ch=text.charCodeAt(i);if(ch===13||ch===10){if(ch===13&&i+1<text.length&&text.charCodeAt(i+1)===10){i++}result.push(textOffset+i+1)}}return result}function getWellformedRange(range){var start=range.start;var end=range.end;if(start.line>end.line||start.line===end.line&&start.character>end.character){return{start:end,end:start}}return range}function getWellformedEdit(textEdit){var range=getWellformedRange(textEdit.range);if(range!==textEdit.range){return{newText:textEdit.newText,range}}return textEdit}})}});var types_exports3={};__export(types_exports3,{ClassNode:()=>ClassNode,FuncNode:()=>FuncNode,Parameter:()=>Parameter2,ReferenceInfomation:()=>ReferenceInfomation,SymbolNode:()=>SymbolNode,TokenType:()=>TokenType2,VariableNode:()=>VariableNode,Word:()=>Word,createToken:()=>createToken});function createToken(type,content,start,end){return{type,content,start,end}}var TokenType2,SymbolNode,VariableNode,FuncNode,ClassNode,Word,Parameter2,ReferenceInfomation;var init_types4=__esm({"server/src/parser/regParser/types.ts"(){"use strict";TokenType2=(TokenType3=>{TokenType3[TokenType3["number"]=0]="number";TokenType3[TokenType3["string"]=1]="string";TokenType3[TokenType3["true"]=2]="true";TokenType3[TokenType3["false"]=3]="false";TokenType3[TokenType3["id"]=4]="id";TokenType3[TokenType3["aassign"]=5]="aassign";TokenType3[TokenType3["equal"]=6]="equal";TokenType3[TokenType3["pluseq"]=7]="pluseq";TokenType3[TokenType3["minuseq"]=8]="minuseq";TokenType3[TokenType3["multieq"]=9]="multieq";TokenType3[TokenType3["diveq"]=10]="diveq";TokenType3[TokenType3["idiveq"]=11]="idiveq";TokenType3[TokenType3["sconneq"]=12]="sconneq";TokenType3[TokenType3["oreq"]=13]="oreq";TokenType3[TokenType3["andeq"]=14]="andeq";TokenType3[TokenType3["xoreq"]=15]="xoreq";TokenType3[TokenType3["rshifteq"]=16]="rshifteq";TokenType3[TokenType3["lshifteq"]=17]="lshifteq";TokenType3[TokenType3["regeq"]=18]="regeq";TokenType3[TokenType3["question"]=19]="question";TokenType3[TokenType3["sconnect"]=20]="sconnect";TokenType3[TokenType3["plus"]=21]="plus";TokenType3[TokenType3["minus"]=22]="minus";TokenType3[TokenType3["multi"]=23]="multi";TokenType3[TokenType3["div"]=24]="div";TokenType3[TokenType3["idiv"]=25]="idiv";TokenType3[TokenType3["power"]=26]="power";TokenType3[TokenType3["and"]=27]="and";TokenType3[TokenType3["or"]=28]="or";TokenType3[TokenType3["xor"]=29]="xor";TokenType3[TokenType3["not"]=30]="not";TokenType3[TokenType3["logicand"]=31]="logicand";TokenType3[TokenType3["logicor"]=32]="logicor";TokenType3[TokenType3["notEqual"]=33]="notEqual";TokenType3[TokenType3["greaterEqual"]=34]="greaterEqual";TokenType3[TokenType3["greater"]=35]="greater";TokenType3[TokenType3["lessEqual"]=36]="lessEqual";TokenType3[TokenType3["less"]=37]="less";TokenType3[TokenType3["openBrace"]=38]="openBrace";TokenType3[TokenType3["closeBrace"]=39]="closeBrace";TokenType3[TokenType3["openBracket"]=40]="openBracket";TokenType3[TokenType3["closeBracket"]=41]="closeBracket";TokenType3[TokenType3["openParen"]=42]="openParen";TokenType3[TokenType3["closeParen"]=43]="closeParen";TokenType3[TokenType3["lineComment"]=44]="lineComment";TokenType3[TokenType3["openMultiComment"]=45]="openMultiComment";TokenType3[TokenType3["closeMultiComment"]=46]="closeMultiComment";TokenType3[TokenType3["sharp"]=47]="sharp";TokenType3[TokenType3["dot"]=48]="dot";TokenType3[TokenType3["comma"]=49]="comma";TokenType3[TokenType3["colon"]=50]="colon";TokenType3[TokenType3["hotkey"]=51]="hotkey";TokenType3[TokenType3["if"]=52]="if";TokenType3[TokenType3["else"]=53]="else";TokenType3[TokenType3["switch"]=54]="switch";TokenType3[TokenType3["case"]=55]="case";TokenType3[TokenType3["do"]=56]="do";TokenType3[TokenType3["loop"]=57]="loop";TokenType3[TokenType3["while"]=58]="while";TokenType3[TokenType3["until"]=59]="until";TokenType3[TokenType3["break"]=60]="break";TokenType3[TokenType3["continue"]=61]="continue";TokenType3[TokenType3["try"]=62]="try";TokenType3[TokenType3["catch"]=63]="catch";TokenType3[TokenType3["finally"]=64]="finally";TokenType3[TokenType3["gosub"]=65]="gosub";TokenType3[TokenType3["goto"]=66]="goto";TokenType3[TokenType3["return"]=67]="return";TokenType3[TokenType3["global"]=68]="global";TokenType3[TokenType3["local"]=69]="local";TokenType3[TokenType3["throw"]=70]="throw";TokenType3[TokenType3["class"]=71]="class";TokenType3[TokenType3["extends"]=72]="extends";TokenType3[TokenType3["new"]=73]="new";TokenType3[TokenType3["static"]=74]="static";TokenType3[TokenType3["keyand"]=75]="keyand";TokenType3[TokenType3["keyor"]=76]="keyor";TokenType3[TokenType3["keynot"]=77]="keynot";TokenType3[TokenType3["command"]=78]="command";TokenType3[TokenType3["directive"]=79]="directive";TokenType3[TokenType3["EOL"]=80]="EOL";TokenType3[TokenType3["EOF"]=81]="EOF";TokenType3[TokenType3["unknown"]=82]="unknown";return TokenType3})(TokenType2||{});SymbolNode=class{constructor(name,kind,range,subnode){this.name=name;this.kind=kind;this.range=range;if(subnode){this.subnode=subnode}}};VariableNode=class extends SymbolNode{constructor(name,kind,range,refname,subnode){super(name,kind,range,subnode);this.refname=refname}};FuncNode=class extends SymbolNode{constructor(name,kind,range,params,subnode){super(name,kind,range,subnode);this.params=params}};ClassNode=class extends SymbolNode{constructor(name,kind,range,subnode,extendsName=["prototype"]){super(name,kind,range,subnode);this.extends=extendsName}};(Word2=>{function create(name,range){return{name,range}}Word2.create=create})(Word||(Word={}));(Parameter3=>{function create(name){return{name}}Parameter3.create=create})(Parameter2||(Parameter2={}));(ReferenceInfomation2=>{function create(name,line){return{name,line}}ReferenceInfomation2.create=create})(ReferenceInfomation||(ReferenceInfomation={}))}});var asttypes_exports={};__export(asttypes_exports,{ClassDeclaration:()=>ClassDeclaration,CommandCall:()=>CommandCall2,FunctionCall:()=>FunctionCall,FunctionDeclaration:()=>FunctionDeclaration,MethodCall:()=>MethodCall,NoOption:()=>NoOption,Offrange:()=>Offrange,PropertCall:()=>PropertCall});var Offrange,ClassDeclaration,FunctionDeclaration,FunctionCall,CommandCall2,MethodCall,PropertCall,NoOption;var init_asttypes=__esm({"server/src/parser/regParser/asttypes.ts"(){"use strict";Offrange=class{constructor(start,end){this.start=start;this.end=end}};ClassDeclaration=class{constructor(name,exts,token,block){this.name=name;this.exts=exts;this.token=token;this.block=block;this.offrange={start:token.start,end:token.end}}};FunctionDeclaration=class{constructor(name,parameters,block,token){this.name=name;this.parameters=parameters;this.block=block;this.token=token;this.offrange={start:token.start,end:token.end}}};FunctionCall=class{constructor(name,actualParams,token,offrange){this.name=name;this.actualParams=actualParams;this.token=token;this.offrange=offrange}};CommandCall2=class extends FunctionCall{constructor(name,actualParams,token,offrange){super(name,actualParams,token,offrange)}};MethodCall=class extends FunctionCall{constructor(name,actualParams,token,ref,offrange){super(name,actualParams,token,offrange);this.ref=ref}};PropertCall=class{constructor(name,token,ref,offrange){this.name=name;this.token=token;this.ref=ref;this.offrange=offrange}};NoOption=class{constructor(offrange){this.none=null;this.offrange=offrange}}}});var Tokenizer2,identifierTest2,RESERVED_KEYWORDS2,OTHER_MARK2,DIRECTIVE_TEST2;var init_tokenizer2=__esm({"server/src/parser/regParser/tokenizer.ts"(){"use strict";init_types4();Tokenizer2=class{constructor(document){this.pos=0;this.isLiteralToken=false;this.isLiteralDeref=false;this.document=document;this.currChar=document[this.pos]}setLiteralDeref(bool){this.isLiteralDeref=bool}Advance(){this.pos++;if(this.pos>=this.document.length){this.currChar="EOF"}else{this.currChar=this.document[this.pos]}return this}Peek(len=1,skipWhite=false){if(this.pos>=this.document.length){return"EOF"}if(skipWhite){let nwp=0;while(this.document[this.pos-nwp]&&this.document[this.pos-nwp].trim().length===0){++nwp}return this.document[this.pos+nwp+len-1]}return this.document[this.pos+len]}BackPeek(backstartlen=1,skipWhite=false){let pos=this.pos-backstartlen;if(pos===0)return"\n";if(skipWhite){let nwp=1;while(this.document[pos-nwp]&&this.document[pos-nwp].trim().length===0){++nwp}if(pos-nwp<=0){return"\n"}return this.document[pos-nwp]}return this.document[pos-1]}NumberAdvance(){let sNum="";while(this.isDigit(this.currChar)){sNum+=this.currChar;this.Advance()}return sNum}GetNumber(){let offset=this.pos;let sNum=this.NumberAdvance();if(this.currChar==="."){sNum+=".";this.Advance();sNum+=this.NumberAdvance()}if(this.currChar==="e"||this.currChar==="E"){sNum+=this.currChar;sNum+=this.NumberAdvance()}return createToken(0,sNum,offset,this.pos)}IsEscapeChar(){if(this.Peek()==='"'){this.Advance();return true}return false}GetString(){let str;let offset=this.pos;this.Advance();while(this.currChar!=='"'||this.IsEscapeChar()){if(this.currChar==="EOF"||this.currChar==="\n"||this.currChar==="\r"){break}this.Advance()}str=this.document.slice(offset+1,this.pos);this.Advance();return createToken(1,str,offset,this.pos)}GetId(){let value;let offset=this.pos;this.Advance();while(this.isAlphaNumeric(this.currChar)&&this.currChar!=="EOF")this.Advance();value=this.document.slice(offset,this.pos);let keyword=RESERVED_KEYWORDS2.get(value.toLowerCase());if(keyword){return createToken(keyword,value,offset,this.pos)}if(this.BackPeek(value.length,true)==="\n"&&this.Peek(1,true)===","){this.isLiteralToken=true;return createToken(78,value,offset,this.pos)}return createToken(4,value,offset,this.pos)}GetDirectivesOrSharp(){const start=this.pos;while(this.isAscii(this.currChar)&&this.currChar!=="EOF")this.Advance();const d=this.document.slice(start,this.pos);if(DIRECTIVE_TEST2.has(d.toLowerCase()))return createToken(79,d,start-1,this.pos);this.pos=start;return createToken(47,"#",start-1,this.pos)}GetMark(){let currstr=this.currChar;let offset=this.pos;const p1=currstr+this.Peek();const p2=p1+this.Peek(2);let mark=OTHER_MARK2.get(p2);if(mark){this.Advance().Advance().Advance();return createToken(mark,p2,offset,this.pos)}mark=OTHER_MARK2.get(p1);if(mark){this.Advance().Advance();currstr+=this.currChar;return createToken(mark,p1,offset,this.pos)}mark=OTHER_MARK2.get(currstr);if(mark){this.Advance();return createToken(mark,currstr,offset,this.pos)}else{this.Advance();return createToken(82,currstr,offset,this.pos)}}LiteralToken(){let start=this.pos;while(this.Peek()!==","&&this.Peek()!=="%"&&this.currChar!=="EOF"){this.Advance()}this.Advance();let end=this.pos;const value=this.document.substr(start,end-start).trim();return createToken(1,value,start,end)}GetNextToken(){while(this.currChar!=="EOF"){if(this.isLiteralToken){switch(this.currChar){case" ":case"	":case"\r":this.Advance();continue;case"%":if(this.Peek()===" "){this.isLiteralDeref=true;this.Advance();break}this.Advance();let token=this.GetId();this.Advance();return token;case",":this.Advance();return createToken(49,",",this.pos-1,this.pos);default:if(this.isLiteralDeref)break;return this.LiteralToken()}}switch(this.currChar){case" ":case"	":case"\r":this.Advance();continue;case"\n":this.Advance();return createToken(80,"\n",this.pos-1,this.pos);case".":if(this.isDigit(this.Peek())){return this.GetNumber()}else{if(this.isWhiteSpace(this.Peek())&&this.isWhiteSpace(this.BackPeek())){this.Advance();return createToken(20," . ",this.pos-1,this.pos)}this.Advance();return createToken(48,".",this.pos-1,this.pos)}case'"':return this.GetString();case"#":this.Advance();return this.GetDirectivesOrSharp();default:if(this.isDigit(this.currChar)){return this.GetNumber()}else if(this.isAlpha(this.currChar)){return this.GetId()}else{return this.GetMark()}}}return createToken(81,"EOF",this.pos,this.pos)}isDigit(s){return s>="0"&&s<="9"}isAlpha(s){return this.isAscii(s)||s==="_"||identifierTest2.test(s)}isAlphaNumeric(s){return this.isAlpha(s)||this.isDigit(s)}isAscii(s){return s>="A"&&s<="Z"||s>="a"&&s<="z"}isWhiteSpace(s){return s===" "||s==="	"}Reset(document){this.pos=-1;if(document){this.document=document}this.Advance()}};identifierTest2=new RegExp("^[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]*$");RESERVED_KEYWORDS2=new Map([["class",71],["extends",72],["new",73],["if",52],["else",53],["while",58],["do",56],["loop",57],["until",59],["switch",54],["case",55],["break",60],["goto",66],["gosub",65],["return",67],["global",68],["local",69],["throw",70],["continue",61],["and",75],["or",76],["not",77],["try",62],["catch",63],["finally",64]]);OTHER_MARK2=new Map([["{",38],["}",39],["[",40],["]",41],["(",42],[")",43],["/*",45],["*/",46],[";",44],["=",6],["#",47],[",",49],[".",48],["!",30],["&",27],["|",28],["^",29],["&&",31],["||",32],["+",21],["-",22],["*",23],["/",24],["//",25],["**",26],[">",35],["<",37],[">=",34],["<=",36],["?",19],[":",50],["::",51],[":=",5],["= ",6],["+=",7],["-=",8],["*=",9],["/=",10],["//=",11],[".=",12],["|=",13],["&=",14],["^=",15],[">>=",16],["<<=",17],["~=",18]]);DIRECTIVE_TEST2=new Set(["allowsamelinecomments","clipboardtimeout","commentflag","errorstdout","escapechar","hotkeyinterval","hotkeymodifiertimeout","hotstring","if","iftimeout","ifwinactive","ifwinactiveclose","ifwinexist","ifwinexistclose","ifwinnotactive","ifwinnotactiveclose","ifwinnotexist","include","includeagain","inputlevel","installkeybdhook","installmousehook","keyhistory","ltrim","maxhotkeysperinterval","maxmem","maxthreads","maxthreadsbuffer","maxthreadsperhotkey","menumaskkey","noenv","notrayicon","persistent","singleinstance","usehook","warn","winactivateforce"])}});var semantic_stack_exports={};__export(semantic_stack_exports,{SemanticStack:()=>SemanticStack,isExpr:()=>isExpr});function isExpr(node){if(node["right"]===void 0){return false}return true}var SemanticStack;var init_semantic_stack=__esm({"server/src/parser/regParser/semantic_stack.ts"(){"use strict";init_types4();init_tokenizer2();init_asttypes();SemanticStack=class{constructor(document){this.tokenizer=new Tokenizer2(document);this.currentToken=this.tokenizer.GetNextToken()}reset(document){this.tokenizer.Reset(document);return this}inType(actualt,expectts){for(const t of expectts){if(actualt===t){return true}}return false}eat(type){if(type===this.currentToken.type){this.currentToken=this.tokenizer.GetNextToken()}else{throw new Error("Unexpect Token")}}variable(){let token=this.currentToken;this.eat(4);return{errors:false,value:{name:token.content,token,offrange:new Offrange(token.start,token.end)}}}literal(){let token=this.currentToken;if(this.currentToken.type===1){this.eat(1)}else if(this.currentToken.type===0){this.eat(0)}return{errors:false,value:{token,value:token.content,offrange:new Offrange(token.start,token.end)}}}associativeArray(){const start=this.currentToken.start;let error=false;let pairs=[];this.eat(38);try{let key=this.expr();this.eat(50);let value=this.expr();pairs.push({key,value});while(this.currentToken.type===49){this.eat(49);let key2=this.expr();this.eat(50);let value2=this.expr();pairs.push({key:key2,value:value2})}this.eat(39)}catch(err){error=true}const end=error?this.currentToken.start:this.currentToken.end;return{errors:error,value:{Pairs:pairs,offrange:new Offrange(start,end)}}}array(){const start=this.currentToken.start;let error=false;let items=[];this.eat(40);try{let item=this.expr();items.push(item);while(this.currentToken.type===49){this.eat(49);item=this.expr();items.push(item)}this.eat(41)}catch(err){error=true}const end=error?this.currentToken.start:this.currentToken.end;return{errors:error,value:{items,offrange:new Offrange(start,end)}}}classNew(){this.eat(73);const token=this.currentToken;if(this.tokenizer.currChar==="("){let node=this.funcCall();return{errors:node.errors,value:new MethodCall("__New",node.value.actualParams,node.value.token,[node.value.token],node.value.offrange)}}else if(this.tokenizer.currChar==="."){let node=this.classCall();let vnode=node.value;vnode.ref.push(vnode.token);if(vnode instanceof MethodCall){return{errors:node.errors,value:new MethodCall("__New",vnode.actualParams,vnode.token,vnode.ref,vnode.offrange)}}else{return{errors:node.errors,value:new MethodCall("__New",[],vnode.token,vnode.ref,vnode.offrange)}}}else{if(token.type===4){this.eat(4);return{errors:false,value:new MethodCall("__New",[],token,[token],new Offrange(token.start,token.end))}}else{return{errors:true,value:new MethodCall("__New",[],createToken(82,"",token.start,token.end),[],new Offrange(token.start,token.end))}}}}factor(){let token=this.currentToken;let node;switch(this.currentToken.type){case 1:case 0:return this.literal();case 21:case 22:this.eat(this.currentToken.type);let exp=this.expr();return{errors:false,value:{operator:token,expr:exp,offrange:new Offrange(token.start,exp.value.offrange.end)}};case 73:return this.classNew();case 42:this.eat(42);node=this.expr();this.eat(43);return node;case 40:return this.array();case 38:return this.associativeArray();default:switch(this.tokenizer.currChar){case"(":node=this.funcCall();break;case".":node=this.classCall();break;default:node=this.variable();break}return node}}expr(){try{let left=this.factor();let node={errors:left.errors,value:left.value};while(this.currentToken.type>=0&&this.currentToken.type<=37||this.currentToken.type===48||this.currentToken.type===82){let token=this.currentToken;if(this.currentToken.type>=0&&this.currentToken.type<=4){token={content:"",type:82,start:this.currentToken.start,end:this.currentToken.start}}if(this.currentToken.type===19){this.eat(19);const right2=this.expr();try{this.eat(50)}finally{node={errors:right2.errors,value:{left,operator:token,right:right2,offrange:new Offrange(token.start,right2.value.offrange.end)}}}}this.eat(this.currentToken.type);const right=this.expr();node={errors:right.errors,value:{left,operator:token,right,offrange:new Offrange(token.start,right.value.offrange.end)}}}return node}catch(err){return{errors:true,value:new NoOption(new Offrange(this.currentToken.start,this.currentToken.end))}}}assignment(){let left;if(this.tokenizer.currChar==="."){left=this.classCall()}left=this.variable();let isWrong=false;let token=this.currentToken;if(this.currentToken.type===5){this.eat(5)}try{this.eat(6)}catch(err){isWrong=true}let exprNode=this.expr();return{errors:isWrong,value:{left,operator:token,right:exprNode,offrange:new Offrange(token.start,exprNode.value.offrange.end)}}}commandCall(){let token=this.currentToken;let cmdName=token.content;let iserror=false;this.eat(78);let actualParams=[];while(this.currentToken.type===49){this.tokenizer.setLiteralDeref(false);this.eat(49);actualParams.push(this.expr())}const end=this.currentToken.end;return{errors:iserror,value:new CommandCall2(cmdName,actualParams,token,new Offrange(token.start,end))}}funcCall(){let token=this.currentToken;let funcName=token.content;let iserror=false;this.eat(4);this.eat(42);let actualParams=[];if(this.currentToken.type!==43){actualParams.push(this.expr())}while(this.currentToken.type===49){this.eat(49);actualParams.push(this.expr())}const end=this.currentToken.end;try{this.eat(43)}catch(err){iserror=true}return{errors:iserror,value:new FunctionCall(funcName,actualParams,token,new Offrange(token.start,end))}}classCall(){let classref=[this.currentToken];this.eat(4);this.eat(48);while(this.currentToken.type===4&&this.tokenizer.currChar==="."){classref.push(this.currentToken);this.eat(4);this.eat(48)}let token=this.currentToken;if(this.currentToken.type===4){if(this.tokenizer.currChar==="("){let callNode=this.funcCall();callNode.value.offrange.start=classref[0].start;return{errors:callNode.errors,value:new MethodCall(callNode.value.name,callNode.value.actualParams,callNode.value.token,classref,callNode.value.offrange)}}this.eat(4);return{errors:false,value:new PropertCall(token.content,token,classref,new Offrange(classref[0].start,token.end))}}return{errors:true,value:new PropertCall(this.currentToken.content,this.currentToken,classref,new Offrange(classref[0].start,token.end))}}statement(){while(this.currentToken.type!==4&&this.currentToken.type!==78){if(this.currentToken.type===81){return void 0}this.eat(this.currentToken.type)}switch(this.currentToken.type){case 4:if(this.tokenizer.currChar==="("){return this.funcCall()}else if(this.tokenizer.currChar==="."){let left=this.classCall();if(left.value instanceof PropertCall&&this.inType(this.currentToken.type,[6,5])){let token=this.currentToken;this.eat(this.currentToken.type);let exprNode=this.expr();return{errors:false,value:{left,operator:token,right:exprNode,offrange:new Offrange(left.value.offrange.start,exprNode.value.offrange.end)}}}return left}else{return this.assignment()}case 78:return this.commandCall()}}}}});var require_ignore=__commonJS({"server/node_modules/ignore/index.js"(exports2,module2){function makeArray(subject){return Array.isArray(subject)?subject:[subject]}var UNDEFINED=void 0;var EMPTY="";var SPACE=" ";var ESCAPE="\\";var REGEX_TEST_BLANK_LINE=/^\s+$/;var REGEX_INVALID_TRAILING_BACKSLASH=/(?:[^\\]|^)\\$/;var REGEX_REPLACE_LEADING_EXCAPED_EXCLAMATION=/^\\!/;var REGEX_REPLACE_LEADING_EXCAPED_HASH=/^\\#/;var REGEX_SPLITALL_CRLF=/\r?\n/g;var REGEX_TEST_INVALID_PATH=/^\.{0,2}\/|^\.{1,2}$/;var REGEX_TEST_TRAILING_SLASH=/\/$/;var SLASH="/";var TMP_KEY_IGNORE="node-ignore";if(typeof Symbol!=="undefined"){TMP_KEY_IGNORE=Symbol.for("node-ignore")}var KEY_IGNORE=TMP_KEY_IGNORE;var define2=(object,key,value)=>{Object.defineProperty(object,key,{value});return value};var REGEX_REGEXP_RANGE=/([0-z])-([0-z])/g;var RETURN_FALSE=()=>false;var sanitizeRange=range=>range.replace(REGEX_REGEXP_RANGE,(match,from,to)=>from.charCodeAt(0)<=to.charCodeAt(0)?match:EMPTY);var cleanRangeBackSlash=slashes=>{const{length}=slashes;return slashes.slice(0,length-length%2)};var REPLACERS=[[/^\uFEFF/,()=>EMPTY],[/((?:\\\\)*?)(\\?\s+)$/,(_,m1,m2)=>m1+(m2.indexOf("\\")===0?SPACE:EMPTY)],[/(\\+?)\s/g,(_,m1)=>{const{length}=m1;return m1.slice(0,length-length%2)+SPACE}],[/[\\$.|*+(){^]/g,match=>`\\${match}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function startingReplacer(){return!/\/(?!$)/.test(this)?"(?:^|\\/)":"^"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(_,index,str)=>index+6<str.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(_,p1,p2)=>{const unescaped=p2.replace(/\\\*/g,"[^\\/]*");return p1+unescaped}],[/\\\\\\(?=[$.|*+(){^])/g,()=>ESCAPE],[/\\\\/g,()=>ESCAPE],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(match,leadEscape,range,endEscape,close)=>leadEscape===ESCAPE?`\\[${range}${cleanRangeBackSlash(endEscape)}${close}`:close==="]"?endEscape.length%2===0?`[${sanitizeRange(range)}${endEscape}]`:"[]":"[]"],[/(?:[^*])$/,match=>/\/$/.test(match)?`${match}$`:`${match}(?=$|\\/$)`]];var REGEX_REPLACE_TRAILING_WILDCARD=/(^|\\\/)?\\\*$/;var MODE_IGNORE="regex";var MODE_CHECK_IGNORE="checkRegex";var UNDERSCORE="_";var TRAILING_WILD_CARD_REPLACERS={[MODE_IGNORE](_,p1){const prefix=p1?`${p1}[^/]+`:"[^/]*";return`${prefix}(?=$|\\/$)`},[MODE_CHECK_IGNORE](_,p1){const prefix=p1?`${p1}[^/]*`:"[^/]*";return`${prefix}(?=$|\\/$)`}};var makeRegexPrefix=pattern=>REPLACERS.reduce((prev,[matcher,replacer])=>prev.replace(matcher,replacer.bind(pattern)),pattern);var isString=subject=>typeof subject==="string";var checkPattern=pattern=>pattern&&isString(pattern)&&!REGEX_TEST_BLANK_LINE.test(pattern)&&!REGEX_INVALID_TRAILING_BACKSLASH.test(pattern)&&pattern.indexOf("#")!==0;var splitPattern=pattern=>pattern.split(REGEX_SPLITALL_CRLF).filter(Boolean);var IgnoreRule=class{constructor(pattern,mark,body,ignoreCase,negative,prefix){this.pattern=pattern;this.mark=mark;this.negative=negative;define2(this,"body",body);define2(this,"ignoreCase",ignoreCase);define2(this,"regexPrefix",prefix)}get regex(){const key=UNDERSCORE+MODE_IGNORE;if(this[key]){return this[key]}return this._make(MODE_IGNORE,key)}get checkRegex(){const key=UNDERSCORE+MODE_CHECK_IGNORE;if(this[key]){return this[key]}return this._make(MODE_CHECK_IGNORE,key)}_make(mode,key){const str=this.regexPrefix.replace(REGEX_REPLACE_TRAILING_WILDCARD,TRAILING_WILD_CARD_REPLACERS[mode]);const regex=this.ignoreCase?new RegExp(str,"i"):new RegExp(str);return define2(this,key,regex)}};var createRule=({pattern,mark},ignoreCase)=>{let negative=false;let body=pattern;if(body.indexOf("!")===0){negative=true;body=body.substr(1)}body=body.replace(REGEX_REPLACE_LEADING_EXCAPED_EXCLAMATION,"!").replace(REGEX_REPLACE_LEADING_EXCAPED_HASH,"#");const regexPrefix=makeRegexPrefix(body);return new IgnoreRule(pattern,mark,body,ignoreCase,negative,regexPrefix)};var RuleManager=class{constructor(ignoreCase){this._ignoreCase=ignoreCase;this._rules=[]}_add(pattern){if(pattern&&pattern[KEY_IGNORE]){this._rules=this._rules.concat(pattern._rules._rules);this._added=true;return}if(isString(pattern)){pattern={pattern}}if(checkPattern(pattern.pattern)){const rule=createRule(pattern,this._ignoreCase);this._added=true;this._rules.push(rule)}}add(pattern){this._added=false;makeArray(isString(pattern)?splitPattern(pattern):pattern).forEach(this._add,this);return this._added}test(path,checkUnignored,mode){let ignored=false;let unignored=false;let matchedRule;this._rules.forEach(rule=>{const{negative}=rule;if(unignored===negative&&ignored!==unignored||negative&&!ignored&&!unignored&&!checkUnignored){return}const matched=rule[mode].test(path);if(!matched){return}ignored=!negative;unignored=negative;matchedRule=negative?UNDEFINED:rule});const ret={ignored,unignored};if(matchedRule){ret.rule=matchedRule}return ret}};var throwError=(message,Ctor)=>{throw new Ctor(message)};var checkPath=(path,originalPath,doThrow)=>{if(!isString(path)){return doThrow(`path must be a string, but got \`${originalPath}\``,TypeError)}if(!path){return doThrow(`path must not be empty`,TypeError)}if(checkPath.isNotRelative(path)){const r="`path.relative()`d";return doThrow(`path should be a ${r} string, but got "${originalPath}"`,RangeError)}return true};var isNotRelative=path=>REGEX_TEST_INVALID_PATH.test(path);checkPath.isNotRelative=isNotRelative;checkPath.convert=p=>p;var Ignore=class{constructor({ignorecase=true,ignoreCase=ignorecase,allowRelativePaths=false}={}){define2(this,KEY_IGNORE,true);this._rules=new RuleManager(ignoreCase);this._strictPathCheck=!allowRelativePaths;this._initCache()}_initCache(){this._ignoreCache=Object.create(null);this._testCache=Object.create(null)}add(pattern){if(this._rules.add(pattern)){this._initCache()}return this}addPattern(pattern){return this.add(pattern)}_test(originalPath,cache,checkUnignored,slices){const path=originalPath&&checkPath.convert(originalPath);checkPath(path,originalPath,this._strictPathCheck?throwError:RETURN_FALSE);return this._t(path,cache,checkUnignored,slices)}checkIgnore(path){if(!REGEX_TEST_TRAILING_SLASH.test(path)){return this.test(path)}const slices=path.split(SLASH).filter(Boolean);slices.pop();if(slices.length){const parent=this._t(slices.join(SLASH)+SLASH,this._testCache,true,slices);if(parent.ignored){return parent}}return this._rules.test(path,false,MODE_CHECK_IGNORE)}_t(path,cache,checkUnignored,slices){if(path in cache){return cache[path]}if(!slices){slices=path.split(SLASH).filter(Boolean)}slices.pop();if(!slices.length){return cache[path]=this._rules.test(path,checkUnignored,MODE_IGNORE)}const parent=this._t(slices.join(SLASH)+SLASH,cache,checkUnignored,slices);return cache[path]=parent.ignored?parent:this._rules.test(path,checkUnignored,MODE_IGNORE)}ignores(path){return this._test(path,this._ignoreCache,false).ignored}createFilter(){return path=>!this.ignores(path)}filter(paths){return makeArray(paths).filter(this.createFilter())}test(path){return this._test(path,this._testCache,true)}};var factory=options=>new Ignore(options);var isPathValid=path=>checkPath(path&&checkPath.convert(path),path,RETURN_FALSE);var setupWindows=()=>{const makePosix=str=>/^\\\\\?\\/.test(str)||/["<>|\u0000-\u001F]+/u.test(str)?str:str.replace(/\\/g,"/");checkPath.convert=makePosix;const REGEX_TEST_WINDOWS_PATH_ABSOLUTE=/^[a-z]:\//i;checkPath.isNotRelative=path=>REGEX_TEST_WINDOWS_PATH_ABSOLUTE.test(path)||isNotRelative(path)};if(typeof process!=="undefined"&&process.platform==="win32"){setupWindows()}module2.exports=factory;factory.default=factory;module2.exports.isPathValid=isPathValid;define2(module2.exports,Symbol.for("setupWindows"),setupWindows)}});var ioService_exports={};__export(ioService_exports,{IoKind:()=>IoKind,IoService:()=>IoService});function readFileAsync(path,encoding){return new Promise((resolve,reject)=>{(0,import_fs2.readFile)(path,{encoding},(err,data)=>{if(err){reject(err)}resolve(data)})})}var import_fs2,import_path3,ignore,IoKind,IoService;var init_ioService=__esm({"server/src/services/ioService.ts"(){"use strict";import_fs2=require("fs");import_path3=require("path");ignore=require_ignore();IoKind=(IoKind2=>{IoKind2[IoKind2["file"]=0]="file";IoKind2[IoKind2["folder"]=1]="folder";return IoKind2})(IoKind||{});IoService=class{constructor(){}load(path){return readFileAsync(path,"utf-8")}fileExistsSync(path){return(0,import_fs2.existsSync)(path)&&(0,import_fs2.lstatSync)(path).isFile()}findFilesRecursive(rootPath,extension=".ahk"){const results=[];const ig=ignore();ig.add(".git");const gitignorePath=(0,import_path3.join)(rootPath,".gitignore");if((0,import_fs2.existsSync)(gitignorePath)){try{const patterns=(0,import_fs2.readFileSync)(gitignorePath,"utf-8");ig.add(patterns)}catch{}}const scan=dir=>{const entries=this.statDirectory(dir);for(const entry of entries){const fullPath=(0,import_path3.join)(dir,entry.path);const relativePath=(0,import_path3.relative)(rootPath,fullPath);if(ig.ignores(relativePath))continue;if(entry.kind===1){scan(fullPath)}else if(entry.path.toLowerCase().endsWith(extension)){results.push(fullPath)}}};if((0,import_fs2.existsSync)(rootPath)&&(0,import_fs2.lstatSync)(rootPath).isDirectory()){scan(rootPath)}return results}statDirectory(path){const isDirectory=(0,import_fs2.existsSync)(path)&&(0,import_fs2.lstatSync)(path).isDirectory();if(!isDirectory){return[]}const directory=path;if(!(0,import_fs2.existsSync)(directory)){return[]}const files=(0,import_fs2.readdirSync)(directory);let entities=[];for(const file of files){const path2=(0,import_path3.join)(directory,file);try{entities.push({path:file,kind:(0,import_fs2.statSync)(path2).isDirectory()?1:0})}catch(error){continue}}return entities}}}});var scriptFinder_exports={};__export(scriptFinder_exports,{ScriptASTFinder:()=>ScriptASTFinder});function createResult(node,outter){return{nodeResult:node,outterFactor:outter}}function matchNodeTypes(node,types){if(types.length===0)return true;for(const t of types){if(node instanceof t)return true}return false}var Expr4,ScriptASTFinder;var init_scriptFinder=__esm({"server/src/services/scriptFinder.ts"(){"use strict";init_declaration();init_stmt();Expr4=__toESM(require_expr());init_suffixterm();init_positionUtils();init_tokenTypes();init_types3();ScriptASTFinder=class{constructor(){}visitDeclVariable(decl,pos,matchType){if(posInRange(decl.assigns,pos)){const deepMatch=this.searchDelimitedList(decl.assigns,pos,matchType);if(deepMatch)return deepMatch}if(matchNodeTypes(decl,matchType))return createResult(decl);return void 0}visitDeclClass(decl,pos,matchType){if(posInRange(decl.body,pos)){const deepMatch=decl.body.accept(this,[pos,matchType]);if(deepMatch){const isNeedOutter=deepMatch.nodeResult instanceof FuncDef||deepMatch.nodeResult instanceof ClassDef;if(isNeedOutter){deepMatch.outterFactor=createResult(decl)}return deepMatch}}if(matchNodeTypes(decl,matchType))return createResult(decl);return void 0}visitPropertyDeclaration(decl,pos,matchType){if(!posInRange(decl.propertyElements,pos))return void 0;for(const element of decl.propertyElements.getElements()){const result=this.searchExpression(element,pos,matchType);if(result)return result}return void 0}visitDynamicProperty(decl,pos,matchType){if(decl.param&&posInRange(decl.param,pos)){const deepMatch=decl.param.accept(this,[pos,matchType]);if(deepMatch)return deepMatch}if(posInRange(decl.body,pos)){const deepMatch=decl.body.accept(this,[pos,matchType]);if(deepMatch)return deepMatch}if(matchNodeTypes(decl,matchType))return createResult(decl);return void 0}visitDeclHotkey(decl,pos,matchType){if(matchNodeTypes(decl,matchType))return createResult(decl)}visitDeclHotString(decl,pos,matchType){if(matchNodeTypes(decl,matchType))return createResult(decl)}visitDeclFunction(decl,pos,matchType){if(decl.params.ParamaterList.length>0&&posInRange(decl.params,pos)){const paramMatch=decl.params.accept(this,[pos,matchType]);if(paramMatch){paramMatch.outterFactor=createResult(decl);return paramMatch}}if(posInRange(decl.body,pos)){const deepMatch=decl.body instanceof Block?decl.body.accept(this,[pos,matchType]):this.searchExpression(decl.body.expr,pos,matchType);if(deepMatch)return deepMatch}if(matchNodeTypes(decl,matchType))return createResult(decl);return void 0}visitDeclParameter(decl,pos,matchType){if(posInRange(decl.ParamaterList,pos)){const deepMatch=this.searchDelimitedList(decl.ParamaterList,pos,matchType);if(deepMatch)return deepMatch}if(matchNodeTypes(decl,matchType))return createResult(decl);return void 0}visitDeclGetterSetter(decl,pos,matchType){if(posInRange(decl.body,pos)){const deepMatch=decl.body instanceof Block?decl.body.accept(this,[pos,matchType]):this.searchExpression(decl.body.expr,pos,matchType);if(deepMatch)return deepMatch}if(matchNodeTypes(decl,matchType))return createResult(decl);return void 0}visitDeclLabel(decl,pos,matchType){if(matchNodeTypes(decl,matchType))return createResult(decl)}visitStmtInvalid(stmt,pos,matchType){return}visitDirective(stmt,pos,matchType){if(posInRange(stmt.args,pos)){const deepMatch=this.searchDelimitedList(stmt.args,pos,matchType);if(deepMatch)return deepMatch}if(matchNodeTypes(stmt,matchType))return createResult(stmt);return void 0}visitBlock(stmt,pos,matchType){const deepMatch=this.find(stmt.stmts,pos,matchType);if(deepMatch)return deepMatch;if(matchNodeTypes(stmt,matchType))return createResult(stmt);return void 0}visitExpr(stmt,pos,matchType){if(posInRange(stmt.expression,pos)){const exprMatch=this.searchExpression(stmt.expression,pos,matchType);if(exprMatch)return exprMatch}if(stmt.trailerExpr&&posInRange(stmt.trailerExpr.exprList,pos)){const exprMatch=this.searchDelimitedList(stmt.trailerExpr.exprList,pos,matchType);if(exprMatch)return exprMatch}if(matchNodeTypes(stmt,matchType))return createResult(stmt);return void 0}visitCommandCall(stmt,pos,matchType){if(posInRange(stmt.args,pos)){const deepMatch=this.searchDelimitedList(stmt.args,pos,matchType);if(deepMatch)return deepMatch}if(matchNodeTypes(stmt,matchType))return createResult(stmt);return void 0}visitAssign(stmt,pos,matchType){if(posInRange(stmt.left,pos)){const leftMatch=this.searchExpression(stmt.left,pos,matchType);if(leftMatch)return leftMatch}if(posInRange(stmt.expr,pos)){const exprMatch=this.searchExpression(stmt.expr,pos,matchType);if(exprMatch)return exprMatch}if(stmt.trailerExpr&&posInRange(stmt.trailerExpr.exprList,pos)){const exprMatch=this.searchDelimitedList(stmt.trailerExpr.exprList,pos,matchType);if(exprMatch)return exprMatch}if(matchNodeTypes(stmt,matchType))return createResult(stmt);return void 0}visitIf(stmt,pos,matchType){if(posInRange(stmt.condition,pos)){const exprMatch=this.searchExpression(stmt.condition,pos,matchType);if(exprMatch)return exprMatch}if(posInRange(stmt.body,pos)){const deepMatch=stmt.body.accept(this,[pos,matchType]);if(deepMatch)return deepMatch}if(stmt.elseStmt&&posInRange(stmt.elseStmt,pos)){const elseMatch=stmt.elseStmt.accept(this,[pos,matchType]);if(elseMatch)return elseMatch}if(matchNodeTypes(stmt,matchType))return createResult(stmt);return void 0}visitElse(stmt,pos,matchType){if(posInRange(stmt.body,pos)){const deepMatch=stmt.body.accept(this,[pos,matchType]);if(deepMatch)return deepMatch}if(matchNodeTypes(stmt,matchType))return createResult(stmt);return void 0}visitReturn(stmt,pos,matchType){if(matchNodeTypes(stmt,matchType))return createResult(stmt);if(stmt.value&&posInRange(stmt.value,pos)){const match=this.searchExpression(stmt.value,pos,matchType);return match?match:void 0};}visitBreak(stmt,pos,matchType){if(matchNodeTypes(stmt,matchType))return createResult(stmt)}visitContinue(stmt,pos,matchType){if(matchNodeTypes(stmt,matchType))return createResult(stmt)}visitSwitch(stmt,pos,matchType){if(posInRange(stmt.condition,pos)){const exprMatch=this.searchExpression(stmt.condition,pos,matchType);;if(exprMatch)return exprMatch}const deepMatch=this.find(stmt.cases,pos,matchType);if(deepMatch)return deepMatch;if(matchNodeTypes(stmt,matchType))return createResult(stmt);return void 0}visitCase(stmt,pos,matchType){if(posInRange(stmt.CaseNode,pos)){if(stmt.CaseNode instanceof CaseExpr){const exprMatch=this.searchDelimitedList(stmt.CaseNode.conditions,pos,matchType);;if(exprMatch)return exprMatch}}const deepMatch=this.find(stmt.body,pos,matchType);if(deepMatch)return deepMatch;if(matchNodeTypes(stmt,matchType))return createResult(stmt);return void 0}visitLoop(stmt,pos,matchType){if(stmt.condition&&posInRange(stmt.condition,pos)){if(stmt.condition instanceof Expr4.Expr){const exprMatch=this.searchExpression(stmt.condition,pos,matchType);;if(exprMatch)return exprMatch}else{const exprMatch=this.searchDelimitedList(stmt.condition,pos,matchType);;if(exprMatch)return exprMatch}}if(posInRange(stmt.body,pos)){const deepMatch=stmt.body.accept(this,[pos,matchType]);if(deepMatch)return deepMatch}if(matchNodeTypes(stmt,matchType))return createResult(stmt);return void 0}visitWhile(stmt,pos,matchType){if(posInRange(stmt.condition,pos)){const exprMatch=this.searchExpression(stmt.condition,pos,matchType);;if(exprMatch)return exprMatch}if(posInRange(stmt.body,pos)){const deepMatch=stmt.body.accept(this,[pos,matchType]);if(deepMatch)return deepMatch}if(matchNodeTypes(stmt,matchType))return createResult(stmt);return void 0}visitFor(stmt,pos,matchType){if(posInRange(stmt.iter1id,pos)&&matchNodeTypes(stmt.iter1id,matchType)){return createResult(stmt.iter1id)}if(stmt.iter2id&&posInRange(stmt.iter2id,pos)&&matchNodeTypes(stmt.iter2id,matchType)){return createResult(stmt.iter2id)}if(posInRange(stmt.iterable,pos)){const exprMatch=this.searchExpression(stmt.iterable,pos,matchType);;if(exprMatch)return exprMatch}if(posInRange(stmt.body,pos)){const deepMatch=stmt.body.accept(this,[pos,matchType]);if(deepMatch)return deepMatch}if(matchNodeTypes(stmt,matchType))return createResult(stmt);return void 0}visitTry(stmt,pos,matchType){if(posInRange(stmt.body,pos)){const deepMatch=stmt.body.accept(this,[pos,matchType]);if(deepMatch)return deepMatch}if(stmt.catchStmt&&posInRange(stmt.catchStmt,pos)){const catchMatch=stmt.catchStmt.accept(this,[pos,matchType]);if(catchMatch)return catchMatch}if(stmt.finallyStmt&&posInRange(stmt.finallyStmt,pos)){const finallyMatch=stmt.finallyStmt.accept(this,[pos,matchType]);if(finallyMatch)return finallyMatch}if(matchNodeTypes(stmt,matchType))return createResult(stmt);return void 0}visitCatch(stmt,pos,matchType){if(posInRange(stmt.body,pos)){const deepMatch=stmt.body.accept(this,[pos,matchType]);if(deepMatch)return deepMatch}if(matchNodeTypes(stmt,matchType))return createResult(stmt);return void 0}visitFinally(stmt,pos,matchType){if(posInRange(stmt.body,pos)){if(posInRange(stmt.body,pos)){const deepMatch=stmt.body.accept(this,[pos,matchType]);if(deepMatch)return deepMatch}}if(matchNodeTypes(stmt,matchType))return createResult(stmt);return void 0}visitThrow(stmt,pos,matchType){if(matchNodeTypes(stmt,matchType))return createResult(stmt);if(posInRange(stmt.expr,pos)){const match=this.searchExpression(stmt.expr,pos,matchType);return match?match:void 0}}searchExpression(expr,pos,matchNodeType){if(expr instanceof Expr4.Factor){return this.searchFactor(expr,pos,matchNodeType)}else if(expr instanceof Expr4.Unary){let deepMatch;if(posInRange(expr.factor,pos))deepMatch=this.searchExpression(expr.factor,pos,matchNodeType);if(deepMatch){if(expr.operator.type===98&&deepMatch.nodeResult===expr.factor)return createResult(expr);return deepMatch}return matchNodeTypes(expr,matchNodeType)?createResult(expr):void 0}else if(expr instanceof Expr4.Binary){let deepMatch;if(posInRange(expr.left,pos))deepMatch=this.searchExpression(expr.left,pos,matchNodeType);if(posInRange(expr.right,pos))deepMatch=this.searchExpression(expr.right,pos,matchNodeType);return deepMatch?deepMatch:matchNodeTypes(expr,matchNodeType)?createResult(expr):void 0}else if(expr instanceof Expr4.Ternary){let deepMatch;if(posInRange(expr.condition,pos))deepMatch=this.searchExpression(expr.condition,pos,matchNodeType);if(posInRange(expr.trueExpr,pos))deepMatch=this.searchExpression(expr.trueExpr,pos,matchNodeType);if(posInRange(expr.falseExpr,pos))deepMatch=this.searchExpression(expr.falseExpr,pos,matchNodeType);return deepMatch?deepMatch:matchNodeTypes(expr,matchNodeType)?createResult(expr):void 0}else if(expr instanceof Expr4.ParenExpr){const deepMatch=expr.expr instanceof Expr4.Expr?this.searchExpression(expr.expr,pos,matchNodeType):this.searchDelimitedList(expr.expr,pos,matchNodeType);return deepMatch?deepMatch:matchNodeTypes(expr,matchNodeType)?createResult(expr):void 0}else if(expr instanceof Expr4.AnonymousFunctionCreation){if(expr.params.ParamaterList.length>0&&posInRange(expr.params,pos)){const paramMatch=expr.params.accept(this,[pos,matchNodeType]);if(paramMatch){paramMatch.outterFactor=createResult(expr);return paramMatch}}if(posInRange(expr.body,pos)){const exprMatch=this.searchExpression(expr.body,pos,matchNodeType);if(exprMatch)return exprMatch}if(matchNodeTypes(expr,matchNodeType))return createResult(expr);return void 0}else if(expr instanceof Expr4.CommandArgumentExpression){if(!posInRange(expr.expression,pos))return void 0;return this.searchExpression(expr.expression,pos,matchNodeType)}}searchFactor(factor,pos,matchNodeType){const term=binarySearchRange(factor.suffixTerm.getElements(),pos);if(!term)return matchNodeTypes(factor,matchNodeType)?createResult(factor):void 0;;const atom=term.atom;if(posInRange(atom,pos)){if(atom instanceof Invalid2)return void 0;if(atom instanceof ArrayTerm)return this.searchDelimitedList(atom.items,pos,matchNodeType);if(atom instanceof AssociativeArray)return this.searchDelimitedList(atom.pairs,pos,matchNodeType);if(atom instanceof Expr4.ParenExpr)return this.searchExpression(atom,pos,matchNodeType);if(atom instanceof PseudoArray)return matchNodeTypes(factor,matchNodeType)?createResult(factor):void 0}return this.bracketsMatch(factor,term.brackets,pos,matchNodeType)}bracketsMatch(expr,brackets,pos,matchNodeType){const bracketMatch=binarySearchRange(brackets,pos);if(!bracketMatch)return matchNodeTypes(expr,matchNodeType)?createResult(expr):void 0;const nextSearch=bracketMatch instanceof Call?bracketMatch.args:bracketMatch.items;const deepMatch=posInRange(nextSearch,pos)?this.searchDelimitedList(nextSearch,pos,matchNodeType):void 0;if(deepMatch)return deepMatch;if(bracketMatch&&matchNodeTypes(bracketMatch,matchNodeType)){if(bracketMatch instanceof Call)return createResult(bracketMatch,createResult(expr));return createResult(bracketMatch)}}searchDelimitedList(list,pos,matchNodeType){const match=binarySearchRange(list.getElements(),pos);if(match===void 0||match instanceof Token)return void 0;if(match instanceof Expr4.Expr)return this.searchExpression(match,pos,matchNodeType);if(match instanceof Pair){if(posInRange(match.key,pos))return this.searchExpression(match.key,pos,matchNodeType);if(posInRange(match.value,pos))return this.searchExpression(match.value,pos,matchNodeType)}return matchNodeTypes(match,matchNodeType)?createResult(match):void 0}find(ast,pos,matchNodeType){const match=binarySearchRange(ast,pos);if(!match)return void 0;const deepMatch=match.accept(this,[pos,matchNodeType]);if(deepMatch)return deepMatch;if(matchNodeTypes(match,matchNodeType))return createResult(match);return void 0}}}});var symbolResolver_exports={};__export(symbolResolver_exports,{resolveCommandCall:()=>resolveCommandCall,resolveFactor:()=>resolveFactor,resolveRelative:()=>resolveRelative,resolveSubclass:()=>resolveSubclass,resolveSuffixTermSymbol:()=>resolveSuffixTermSymbol,searchPerfixSymbol:()=>searchPerfixSymbol});function resolveFactor(factor,postion,table){const first=factor.suffixTerm.getElements()[0];if(!(first.atom instanceof Identifier))return void 0;const elements=factor.suffixTerm.getElements();let currentScope=table;let symbols=[];for(let i=0;i<elements.length;i+=1){const suffix=elements[i];const isInRange=posInRange(suffix,postion);if(suffix.brackets.length!==0&&i<elements.length-1&&!isInRange)return void 0;if(!(suffix.atom instanceof Identifier))return void 0;const name=suffix.atom.token.content;const symbol=suffix.brackets.length===0&&currentScope instanceof AHKObjectSymbol?currentScope.resolveProp(name):currentScope.resolve(name);if(symbol===void 0)return void 0;if(isInRange){symbols.push(symbol);return symbols}const scope=resolveRelative(suffix.atom.token.content,currentScope);if(!(scope instanceof AHKObjectSymbol))return void 0;currentScope=scope;if(scope.name.toLowerCase()!==symbol.name.toLowerCase())symbols=[];symbols.push(scope)}return void 0}function resolveSuffixTermSymbol(suffix,scope){const{atom,brackets}=suffix;for(const bracket of brackets){if(bracket instanceof Call)return void 0}if(atom instanceof Identifier){const sym=scope instanceof AHKObjectSymbol?scope.resolveProp(atom.token.content):scope.resolve(atom.token.content);if(brackets.length===0)return sym;if(!(sym instanceof AHKObjectSymbol))return void 0;const bracket=brackets[0];const{items}=bracket;const firstIndex=items.getElements()[0];if(!(firstIndex instanceof import_expr3.Factor))return void 0;if(firstIndex.termCount!==1)return void 0;const firstFactor=firstIndex.suffixTerm.getElements()[0];if(!(firstFactor instanceof Literal))return void 0;return sym.resolveProp(firstFactor.token.content)}if(atom instanceof PercentDereference)return void 0}function resolveSubclass(object){let symbols=[object];let parent=object.enclosingScope;while(true){if(parent===void 0||!(parent instanceof AHKObjectSymbol))break;symbols.unshift(parent);parent=parent.enclosingScope}return symbols}function resolveCommandCall(cmd){const name=cmd.command.content;const find=builtin_command.find(c=>c.name.toLowerCase()===name.toLowerCase());if(!find)return void 0;return`(command) ${find.name}, ${find.params.map(p=>p.isOptional?`${p.name}?`:p.name).join(", ")}`}function resolveRelative(name,scope){const sym=scope.resolve(name);if(sym instanceof VariableSymbol){if(sym.type&&sym.type instanceof AHKSymbol2)return sym.type;const varType=sym.getType();if(varType.length===0)return sym;return searchPerfixSymbol(varType,scope)}return sym}function searchPerfixSymbol(prefixs,scope){let nextScope=scope.resolve(prefixs[0]);if(!nextScope)return void 0;if(prefixs.length===1)return nextScope;if(!(nextScope instanceof AHKObjectSymbol)){if(!(nextScope instanceof VariableSymbol))return void 0;if(!(nextScope.type instanceof AHKObjectSymbol))return void 0;nextScope=nextScope.type}prefixs=prefixs.slice(1);for(let i=0;i<prefixs.length;i++){const lexem=prefixs[i];const currentScope=nextScope.resolveProp(lexem);if(currentScope&&currentScope instanceof AHKObjectSymbol){nextScope=currentScope;continue}if(i>=prefixs.length-1)return currentScope;if(currentScope instanceof VariableSymbol){if(currentScope.type instanceof ScopedSymbol){nextScope=currentScope.type;continue}const varType=currentScope.getType();if(varType.length===0)return void 0;const referenceScope=searchPerfixSymbol(varType,nextScope);if(referenceScope===void 0)return void 0;nextScope=referenceScope;continue}return void 0}}var import_expr3;var init_symbolResolver=__esm({"server/src/services/utils/symbolResolver.ts"(){"use strict";import_expr3=__toESM(require_expr());init_suffixterm();init_symbol();init_positionUtils();init_builtins()}});var converter_exports={};__export(converter_exports,{convertBuiltin2Signature:()=>convertBuiltin2Signature,convertCommandCallInlayHint:()=>convertCommandCallInlayHint,convertFactorHover:()=>convertFactorHover,convertMethodCallInlayHint:()=>convertMethodCallInlayHint,convertNewClassHover:()=>convertNewClassHover,convertSymbolCompletion:()=>convertSymbolCompletion,convertSymbolsHover:()=>convertSymbolsHover,getFuncPrototype:()=>getFuncPrototype});function getFuncPrototype(symbol,cmdFormat=false){const paramStartSym=cmdFormat?", ":"(";const paramEndSym=cmdFormat?"":")";let result=symbol.name+paramStartSym;symbol.params.map((param,index,array)=>{result+=param.name;if(param.isOptional)result+="?";if(param.defaultVal)result+=" := "+param.defaultVal;if(array.length-1!==index)result+=", "});return result+paramEndSym}function convertBuiltin2Signature(symbols,iscmd=false){if(symbols.length===0)return void 0;const info=[];for(const sym of symbols){const paraminfo=sym.params.map(param=>({label:`${param.name}${param.isOptional?"?":""}${param.defaultVal?" = "+param.defaultVal:""}`}));info.push(import_vscode_languageserver8.SignatureInformation.create(getFuncPrototype(sym,iscmd),void 0,...paraminfo))}return info}function convertSymbolCompletion(sym){let ci=import_vscode_languageserver8.CompletionItem.create(sym.name);if(sym instanceof AHKMethodSymbol){ci["kind"]=import_vscode_languageserver8.CompletionItemKind.Method;sym.requiredParameters;ci.data=sym.toString()}else if(sym instanceof VariableSymbol||sym instanceof BuiltinVariableSymbol){ci.kind=sym.tag===2?import_vscode_languageserver8.CompletionItemKind.Property:import_vscode_languageserver8.CompletionItemKind.Variable;if(sym.tag===1)ci.detail="(parameter)"}else if(sym instanceof AHKObjectSymbol){ci["kind"]=import_vscode_languageserver8.CompletionItemKind.Class;ci.data=""}else if(sym instanceof HotkeySymbol||sym instanceof HotStringSymbol){ci["kind"]=import_vscode_languageserver8.CompletionItemKind.Event}else{ci["kind"]=import_vscode_languageserver8.CompletionItemKind.Text}return ci}function convertSymbolsHover(symbols,range){const last=symbols[symbols.length-1];const prefix=hoverPrefixType(last);const docComment=getDocComment(last);const hover=symbols.map(s=>{if(s instanceof AHKMethodSymbol||s instanceof AHKBuiltinMethodSymbol)return s.toString();return symbolInfomationName(s)}).join(".");const value=`${AHKMDStart}${prefix}${hover}${AHKMDEnd}${docComment?"\n\n-----\n"+docComment:""}`;return{contents:{kind:import_vscode_languageserver8.MarkupKind.Markdown,value},range}}function hoverPrefixType(symbol){if(symbol instanceof VariableSymbol)return`(${VarKind2String[symbol.tag]}) `;if(symbol instanceof Parameter)return"(parameter) ";if(symbol instanceof AHKMethodSymbol)return`(${symbol.parentScope===void 0?"function":"method"}) `;if(symbol instanceof AHKObjectSymbol)return"(class) ";if(symbol instanceof BuiltinVariableSymbol)return"(variable) ";if(symbol instanceof AHKBuiltinMethodSymbol)return"(function) ";return""}function getDocComment(symbol){if(!(symbol instanceof AHKMethodSymbol))return void 0;if(!symbol.document)return void 0;const docComment=[];for(const line of symbol.document.split("\n")){const trimedLine=line.trim();if(trimedLine.startsWith("/**")){docComment.push(trimedLine.slice(3));continue}if(trimedLine.endsWith("*/")){docComment.push(trimedLine.slice(0,-2));continue}if(trimedLine.startsWith("*")){docComment.push(trimedLine.slice(1));continue}docComment.push(trimedLine)}return docComment.join("  \n")}function convertFactorHover(node,position,scope,range,v2CompatibleMode){const symbols=resolveFactor(node,position,scope);if(!symbols)return void 0;if(!v2CompatibleMode)return convertSymbolsHover(symbols,range);const lastSymbol=symbols[symbols.length-1];if(!isClassObject(lastSymbol))return convertSymbolsHover(symbols,range);const firstTerm=node.suffixTerm.getElements()[0];if(firstTerm.brackets.length&&firstTerm.brackets[0]instanceof Call){const constructor=lastSymbol.resolveProp("__new");if(constructor&&isMethodObject(constructor))return convertSymbolsHover(symbols.concat(constructor),range)}return convertSymbolsHover(symbols,range)}function convertNewClassHover(node,position,table,range){const symbol=resolveFactor(node,position,table);if(!symbol)return void 0;if(symbol.length<node.termCount)return convertSymbolsHover(symbol,range);const last=lastItem(symbol);if(isClassObject(last)){const constructor=last.resolveProp("__new");if(constructor instanceof AHKMethodSymbol)return convertSymbolsHover(symbol.concat(constructor),range)}}function convertMethodCallInlayHint(callSymbol,call){let hint=[];const parameterList=callSymbol.requiredParameters.concat(callSymbol.optionalParameters);for(let i=0;i<parameterList.length;i++){const parameterPosition=call.parameterPosition[i];if(!parameterPosition)continue;const parameter=parameterList[i];let label=`${parameter.isByref?"&":""}${parameter.name}`;if(i>callSymbol.requiredParameters.length-1)label=`${label}${parameter.isSpread?"*":"?"}`;hint.push(import_vscode_languageserver8.InlayHint.create(parameterPosition,label+": ",import_vscode_languageserver8.InlayHintKind.Parameter))}return hint}function convertCommandCallInlayHint(callSymbol,call){let hint=[];const parameterList=callSymbol.params;for(let i=0;i<parameterList.length;i++){const parameterPosition=call.parameterPosition[i];if(!parameterPosition)continue;const parameter=parameterList[i];hint.push(import_vscode_languageserver8.InlayHint.create(parameterPosition,`${parameter.name}${parameter.isOptional?"?":""}: `,import_vscode_languageserver8.InlayHintKind.Parameter))}return hint}function lastItem(a){return a[a.length-1]}var import_vscode_languageserver8,VarKind2String,AHKMDStart,AHKMDEnd;var init_converter=__esm({"server/src/services/utils/converter.ts"(){"use strict";import_vscode_languageserver8=__toESM(require_main4());init_symbol();init_types();init_declaration();init_symbolResolver();init_suffixterm();init_symbolInformationProvider();VarKind2String=["variable","parameter","property"];AHKMDStart="```autohotkey\n";AHKMDEnd="\n```"}});var notifier_exports={};__export(notifier_exports,{Notifier:()=>Notifier});var Notifier,Waiter;var init_notifier=__esm({"server/src/services/utils/notifier.ts"(){"use strict";Notifier=class{constructor(){this.waiter=new Waiter(undefined2=>undefined2)}wait(timeout){const promise=new Promise(resolve=>{if(!this.waiter.resolved)this.waiter.resolve=resolve;else resolve(true)});if(timeout<0&&!isFinite(timeout))return promise;if(!this.waiter.resolved)setTimeout(()=>{if(!this.waiter.resolved){this.waiter.resolve(true);this.waiter.resolved=true}},timeout);return promise}reset(){this.waiter.resolved=false}notify(){if(!this.waiter.resolved){this.waiter.resolve(true);this.waiter.resolved=true}}};Waiter=class{constructor(resolve){this.resolve=resolve;this.resolved=false}}}});var workspaceIndex_exports={};__export(workspaceIndex_exports,{WorkspaceIndex:()=>WorkspaceIndex});var WorkspaceIndex;var init_workspaceIndex=__esm({"server/src/services/workspaceIndex.ts"(){"use strict";WorkspaceIndex=class{constructor(){this.fileSymbols=new Map;this.symbolLookup=new Map;this.isIndexing=false}addFile(uri,symbols){this.removeFile(uri);this.fileSymbols.set(uri,symbols);for(const symbol of symbols){const name=symbol.name.toLowerCase();const entries=this.symbolLookup.get(name)||[];entries.push({uri,symbol});this.symbolLookup.set(name,entries)}}removeFile(uri){const symbols=this.fileSymbols.get(uri);if(!symbols)return;for(const symbol of symbols){const name=symbol.name.toLowerCase();const entries=this.symbolLookup.get(name);if(entries){const filtered=entries.filter(e=>e.uri!==uri);if(filtered.length===0){this.symbolLookup.delete(name)}else{this.symbolLookup.set(name,filtered)}}}this.fileSymbols.delete(uri)}findByName(name){return this.symbolLookup.get(name.toLowerCase())||[]}getAllSymbols(query){const results=[];const lowerQuery=query?.toLowerCase();this.symbolLookup.forEach((entries,name)=>{if(!lowerQuery||name.includes(lowerQuery)){results.push(...entries)}});return results}clear(){this.fileSymbols.clear();this.symbolLookup.clear()}hasFile(uri){return this.fileSymbols.has(uri)}get indexedFileCount(){return this.fileSymbols.size}}}});var DocumentUri,URI3,integer,uinteger,Position8,Range9,Location2,LocationLink,Color,ColorInformation,ColorPresentation,FoldingRangeKind,FoldingRange,DiagnosticRelatedInformation,DiagnosticSeverity,DiagnosticTag,CodeDescription,Diagnostic,Command,TextEdit,ChangeAnnotation,ChangeAnnotationIdentifier,AnnotatedTextEdit,TextDocumentEdit,CreateFile,RenameFile,DeleteFile,WorkspaceEdit,TextDocumentIdentifier,VersionedTextDocumentIdentifier,OptionalVersionedTextDocumentIdentifier,TextDocumentItem,MarkupKind2,MarkupContent2,CompletionItemKind3,InsertTextFormat,CompletionItemTag,InsertReplaceEdit,InsertTextMode,CompletionItemLabelDetails,CompletionItem3,CompletionList,MarkedString,Hover2,ParameterInformation2,SignatureInformation2,DocumentHighlightKind,DocumentHighlight,SymbolKind3,SymbolTag,SymbolInformation3,WorkspaceSymbol,DocumentSymbol,CodeActionKind,CodeActionTriggerKind,CodeActionContext,CodeAction,CodeLens,FormattingOptions,DocumentLink,SelectionRange,SemanticTokenTypes2,SemanticTokenModifiers,SemanticTokens,InlineValueText,InlineValueVariableLookup,InlineValueEvaluatableExpression,InlineValueContext,InlayHintKind2,InlayHintLabelPart,InlayHint2,StringValue,InlineCompletionItem,InlineCompletionList,InlineCompletionTriggerKind,SelectedCompletionInfo,InlineCompletionContext,WorkspaceFolder,TextDocument,FullTextDocument,Is;var init_main=__esm({"server/node_modules/vscode-languageserver-types/lib/esm/main.js"(){"use strict";(function(DocumentUri2){function is(value){return typeof value==="string"}DocumentUri2.is=is})(DocumentUri||(DocumentUri={}));(function(URI5){function is(value){return typeof value==="string"}URI5.is=is})(URI3||(URI3={}));(function(integer2){integer2.MIN_VALUE=-2147483648;integer2.MAX_VALUE=2147483647;function is(value){return typeof value==="number"&&integer2.MIN_VALUE<=value&&value<=integer2.MAX_VALUE}integer2.is=is})(integer||(integer={}));(function(uinteger2){uinteger2.MIN_VALUE=0;uinteger2.MAX_VALUE=2147483647;function is(value){return typeof value==="number"&&uinteger2.MIN_VALUE<=value&&value<=uinteger2.MAX_VALUE}uinteger2.is=is})(uinteger||(uinteger={}));(function(Position10){function create(line,character){if(line===Number.MAX_VALUE){line=uinteger.MAX_VALUE}if(character===Number.MAX_VALUE){character=uinteger.MAX_VALUE}return{line,character}}Position10.create=create;function is(value){let candidate=value;return Is.objectLiteral(candidate)&&Is.uinteger(candidate.line)&&Is.uinteger(candidate.character)}Position10.is=is})(Position8||(Position8={}));(function(Range11){function create(one,two,three,four){if(Is.uinteger(one)&&Is.uinteger(two)&&Is.uinteger(three)&&Is.uinteger(four)){return{start:Position8.create(one,two),end:Position8.create(three,four)}}else if(Position8.is(one)&&Position8.is(two)){return{start:one,end:two}}else{throw new Error(`Range#create called with invalid arguments[${one}, ${two}, ${three}, ${four}]`)}}Range11.create=create;function is(value){let candidate=value;return Is.objectLiteral(candidate)&&Position8.is(candidate.start)&&Position8.is(candidate.end)}Range11.is=is})(Range9||(Range9={}));(function(Location3){function create(uri,range){return{uri,range}}Location3.create=create;function is(value){let candidate=value;return Is.objectLiteral(candidate)&&Range9.is(candidate.range)&&(Is.string(candidate.uri)||Is.undefined(candidate.uri))}Location3.is=is})(Location2||(Location2={}));(function(LocationLink2){function create(targetUri,targetRange,targetSelectionRange,originSelectionRange){return{targetUri,targetRange,targetSelectionRange,originSelectionRange}}LocationLink2.create=create;function is(value){let candidate=value;return Is.objectLiteral(candidate)&&Range9.is(candidate.targetRange)&&Is.string(candidate.targetUri)&&Range9.is(candidate.targetSelectionRange)&&(Range9.is(candidate.originSelectionRange)||Is.undefined(candidate.originSelectionRange))}LocationLink2.is=is})(LocationLink||(LocationLink={}));(function(Color2){function create(red,green,blue,alpha){return{red,green,blue,alpha}}Color2.create=create;function is(value){const candidate=value;return Is.objectLiteral(candidate)&&Is.numberRange(candidate.red,0,1)&&Is.numberRange(candidate.green,0,1)&&Is.numberRange(candidate.blue,0,1)&&Is.numberRange(candidate.alpha,0,1)}Color2.is=is})(Color||(Color={}));(function(ColorInformation2){function create(range,color){return{range,color}}ColorInformation2.create=create;function is(value){const candidate=value;return Is.objectLiteral(candidate)&&Range9.is(candidate.range)&&Color.is(candidate.color)}ColorInformation2.is=is})(ColorInformation||(ColorInformation={}));(function(ColorPresentation2){function create(label,textEdit,additionalTextEdits){return{label,textEdit,additionalTextEdits}}ColorPresentation2.create=create;function is(value){const candidate=value;return Is.objectLiteral(candidate)&&Is.string(candidate.label)&&(Is.undefined(candidate.textEdit)||TextEdit.is(candidate))&&(Is.undefined(candidate.additionalTextEdits)||Is.typedArray(candidate.additionalTextEdits,TextEdit.is))}ColorPresentation2.is=is})(ColorPresentation||(ColorPresentation={}));(function(FoldingRangeKind2){FoldingRangeKind2.Comment="comment";FoldingRangeKind2.Imports="imports";FoldingRangeKind2.Region="region"})(FoldingRangeKind||(FoldingRangeKind={}));(function(FoldingRange2){function create(startLine,endLine,startCharacter,endCharacter,kind,collapsedText){const result={startLine,endLine};if(Is.defined(startCharacter)){result.startCharacter=startCharacter}if(Is.defined(endCharacter)){result.endCharacter=endCharacter}if(Is.defined(kind)){result.kind=kind}if(Is.defined(collapsedText)){result.collapsedText=collapsedText}return result}FoldingRange2.create=create;function is(value){const candidate=value;return Is.objectLiteral(candidate)&&Is.uinteger(candidate.startLine)&&Is.uinteger(candidate.startLine)&&(Is.undefined(candidate.startCharacter)||Is.uinteger(candidate.startCharacter))&&(Is.undefined(candidate.endCharacter)||Is.uinteger(candidate.endCharacter))&&(Is.undefined(candidate.kind)||Is.string(candidate.kind))}FoldingRange2.is=is})(FoldingRange||(FoldingRange={}));(function(DiagnosticRelatedInformation2){function create(location,message){return{location,message}}DiagnosticRelatedInformation2.create=create;function is(value){let candidate=value;return Is.defined(candidate)&&Location2.is(candidate.location)&&Is.string(candidate.message)}DiagnosticRelatedInformation2.is=is})(DiagnosticRelatedInformation||(DiagnosticRelatedInformation={}));(function(DiagnosticSeverity3){DiagnosticSeverity3.Error=1;DiagnosticSeverity3.Warning=2;DiagnosticSeverity3.Information=3;DiagnosticSeverity3.Hint=4})(DiagnosticSeverity||(DiagnosticSeverity={}));(function(DiagnosticTag2){DiagnosticTag2.Unnecessary=1;DiagnosticTag2.Deprecated=2})(DiagnosticTag||(DiagnosticTag={}));(function(CodeDescription2){function is(value){const candidate=value;return Is.objectLiteral(candidate)&&Is.string(candidate.href)}CodeDescription2.is=is})(CodeDescription||(CodeDescription={}));(function(Diagnostic2){function create(range,message,severity,code,source,relatedInformation){let result={range,message};if(Is.defined(severity)){result.severity=severity}if(Is.defined(code)){result.code=code}if(Is.defined(source)){result.source=source}if(Is.defined(relatedInformation)){result.relatedInformation=relatedInformation}return result}Diagnostic2.create=create;function is(value){var _a;let candidate=value;return Is.defined(candidate)&&Range9.is(candidate.range)&&Is.string(candidate.message)&&(Is.number(candidate.severity)||Is.undefined(candidate.severity))&&(Is.integer(candidate.code)||Is.string(candidate.code)||Is.undefined(candidate.code))&&(Is.undefined(candidate.codeDescription)||Is.string((_a=candidate.codeDescription)===null||_a===void 0?void 0:_a.href))&&(Is.string(candidate.source)||Is.undefined(candidate.source))&&(Is.undefined(candidate.relatedInformation)||Is.typedArray(candidate.relatedInformation,DiagnosticRelatedInformation.is))}Diagnostic2.is=is})(Diagnostic||(Diagnostic={}));(function(Command2){function create(title,command,...args){let result={title,command};if(Is.defined(args)&&args.length>0){result.arguments=args}return result}Command2.create=create;function is(value){let candidate=value;return Is.defined(candidate)&&Is.string(candidate.title)&&Is.string(candidate.command)}Command2.is=is})(Command||(Command={}));(function(TextEdit2){function replace(range,newText){return{range,newText}}TextEdit2.replace=replace;function insert(position,newText){return{range:{start:position,end:position},newText}}TextEdit2.insert=insert;function del(range){return{range,newText:""}}TextEdit2.del=del;function is(value){const candidate=value;return Is.objectLiteral(candidate)&&Is.string(candidate.newText)&&Range9.is(candidate.range)}TextEdit2.is=is})(TextEdit||(TextEdit={}));(function(ChangeAnnotation2){function create(label,needsConfirmation,description){const result={label};if(needsConfirmation!==void 0){result.needsConfirmation=needsConfirmation}if(description!==void 0){result.description=description}return result}ChangeAnnotation2.create=create;function is(value){const candidate=value;return Is.objectLiteral(candidate)&&Is.string(candidate.label)&&(Is.boolean(candidate.needsConfirmation)||candidate.needsConfirmation===void 0)&&(Is.string(candidate.description)||candidate.description===void 0)}ChangeAnnotation2.is=is})(ChangeAnnotation||(ChangeAnnotation={}));(function(ChangeAnnotationIdentifier2){function is(value){const candidate=value;return Is.string(candidate)}ChangeAnnotationIdentifier2.is=is})(ChangeAnnotationIdentifier||(ChangeAnnotationIdentifier={}));(function(AnnotatedTextEdit2){function replace(range,newText,annotation){return{range,newText,annotationId:annotation}}AnnotatedTextEdit2.replace=replace;function insert(position,newText,annotation){return{range:{start:position,end:position},newText,annotationId:annotation}}AnnotatedTextEdit2.insert=insert;function del(range,annotation){return{range,newText:"",annotationId:annotation}}AnnotatedTextEdit2.del=del;function is(value){const candidate=value;return TextEdit.is(candidate)&&(ChangeAnnotation.is(candidate.annotationId)||ChangeAnnotationIdentifier.is(candidate.annotationId))}AnnotatedTextEdit2.is=is})(AnnotatedTextEdit||(AnnotatedTextEdit={}));(function(TextDocumentEdit2){function create(textDocument,edits){return{textDocument,edits}}TextDocumentEdit2.create=create;function is(value){let candidate=value;return Is.defined(candidate)&&OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)&&Array.isArray(candidate.edits)}TextDocumentEdit2.is=is})(TextDocumentEdit||(TextDocumentEdit={}));(function(CreateFile2){function create(uri,options,annotation){let result={kind:"create",uri};if(options!==void 0&&(options.overwrite!==void 0||options.ignoreIfExists!==void 0)){result.options=options}if(annotation!==void 0){result.annotationId=annotation}return result}CreateFile2.create=create;function is(value){let candidate=value;return candidate&&candidate.kind==="create"&&Is.string(candidate.uri)&&(candidate.options===void 0||(candidate.options.overwrite===void 0||Is.boolean(candidate.options.overwrite))&&(candidate.options.ignoreIfExists===void 0||Is.boolean(candidate.options.ignoreIfExists)))&&(candidate.annotationId===void 0||ChangeAnnotationIdentifier.is(candidate.annotationId))}CreateFile2.is=is})(CreateFile||(CreateFile={}));(function(RenameFile2){function create(oldUri,newUri,options,annotation){let result={kind:"rename",oldUri,newUri};if(options!==void 0&&(options.overwrite!==void 0||options.ignoreIfExists!==void 0)){result.options=options}if(annotation!==void 0){result.annotationId=annotation}return result}RenameFile2.create=create;function is(value){let candidate=value;return candidate&&candidate.kind==="rename"&&Is.string(candidate.oldUri)&&Is.string(candidate.newUri)&&(candidate.options===void 0||(candidate.options.overwrite===void 0||Is.boolean(candidate.options.overwrite))&&(candidate.options.ignoreIfExists===void 0||Is.boolean(candidate.options.ignoreIfExists)))&&(candidate.annotationId===void 0||ChangeAnnotationIdentifier.is(candidate.annotationId))}RenameFile2.is=is})(RenameFile||(RenameFile={}));(function(DeleteFile2){function create(uri,options,annotation){let result={kind:"delete",uri};if(options!==void 0&&(options.recursive!==void 0||options.ignoreIfNotExists!==void 0)){result.options=options}if(annotation!==void 0){result.annotationId=annotation}return result}DeleteFile2.create=create;function is(value){let candidate=value;return candidate&&candidate.kind==="delete"&&Is.string(candidate.uri)&&(candidate.options===void 0||(candidate.options.recursive===void 0||Is.boolean(candidate.options.recursive))&&(candidate.options.ignoreIfNotExists===void 0||Is.boolean(candidate.options.ignoreIfNotExists)))&&(candidate.annotationId===void 0||ChangeAnnotationIdentifier.is(candidate.annotationId))}DeleteFile2.is=is})(DeleteFile||(DeleteFile={}));(function(WorkspaceEdit2){function is(value){let candidate=value;return candidate&&(candidate.changes!==void 0||candidate.documentChanges!==void 0)&&(candidate.documentChanges===void 0||candidate.documentChanges.every(change=>{if(Is.string(change.kind)){return CreateFile.is(change)||RenameFile.is(change)||DeleteFile.is(change)}else{return TextDocumentEdit.is(change)}}))}WorkspaceEdit2.is=is})(WorkspaceEdit||(WorkspaceEdit={}));(function(TextDocumentIdentifier2){function create(uri){return{uri}}TextDocumentIdentifier2.create=create;function is(value){let candidate=value;return Is.defined(candidate)&&Is.string(candidate.uri)}TextDocumentIdentifier2.is=is})(TextDocumentIdentifier||(TextDocumentIdentifier={}));(function(VersionedTextDocumentIdentifier2){function create(uri,version){return{uri,version}}VersionedTextDocumentIdentifier2.create=create;function is(value){let candidate=value;return Is.defined(candidate)&&Is.string(candidate.uri)&&Is.integer(candidate.version)}VersionedTextDocumentIdentifier2.is=is})(VersionedTextDocumentIdentifier||(VersionedTextDocumentIdentifier={}));(function(OptionalVersionedTextDocumentIdentifier2){function create(uri,version){return{uri,version}}OptionalVersionedTextDocumentIdentifier2.create=create;function is(value){let candidate=value;return Is.defined(candidate)&&Is.string(candidate.uri)&&(candidate.version===null||Is.integer(candidate.version))}OptionalVersionedTextDocumentIdentifier2.is=is})(OptionalVersionedTextDocumentIdentifier||(OptionalVersionedTextDocumentIdentifier={}));(function(TextDocumentItem2){function create(uri,languageId,version,text){return{uri,languageId,version,text}}TextDocumentItem2.create=create;function is(value){let candidate=value;return Is.defined(candidate)&&Is.string(candidate.uri)&&Is.string(candidate.languageId)&&Is.integer(candidate.version)&&Is.string(candidate.text)}TextDocumentItem2.is=is})(TextDocumentItem||(TextDocumentItem={}));(function(MarkupKind3){MarkupKind3.PlainText="plaintext";MarkupKind3.Markdown="markdown";function is(value){const candidate=value;return candidate===MarkupKind3.PlainText||candidate===MarkupKind3.Markdown}MarkupKind3.is=is})(MarkupKind2||(MarkupKind2={}));(function(MarkupContent3){function is(value){const candidate=value;return Is.objectLiteral(value)&&MarkupKind2.is(candidate.kind)&&Is.string(candidate.value)}MarkupContent3.is=is})(MarkupContent2||(MarkupContent2={}));(function(CompletionItemKind4){CompletionItemKind4.Text=1;CompletionItemKind4.Method=2;CompletionItemKind4.Function=3;CompletionItemKind4.Constructor=4;CompletionItemKind4.Field=5;CompletionItemKind4.Variable=6;CompletionItemKind4.Class=7;CompletionItemKind4.Interface=8;CompletionItemKind4.Module=9;CompletionItemKind4.Property=10;CompletionItemKind4.Unit=11;CompletionItemKind4.Value=12;CompletionItemKind4.Enum=13;CompletionItemKind4.Keyword=14;CompletionItemKind4.Snippet=15;CompletionItemKind4.Color=16;CompletionItemKind4.File=17;CompletionItemKind4.Reference=18;CompletionItemKind4.Folder=19;CompletionItemKind4.EnumMember=20;CompletionItemKind4.Constant=21;CompletionItemKind4.Struct=22;CompletionItemKind4.Event=23;CompletionItemKind4.Operator=24;CompletionItemKind4.TypeParameter=25})(CompletionItemKind3||(CompletionItemKind3={}));(function(InsertTextFormat2){InsertTextFormat2.PlainText=1;InsertTextFormat2.Snippet=2})(InsertTextFormat||(InsertTextFormat={}));(function(CompletionItemTag2){CompletionItemTag2.Deprecated=1})(CompletionItemTag||(CompletionItemTag={}));(function(InsertReplaceEdit2){function create(newText,insert,replace){return{newText,insert,replace}}InsertReplaceEdit2.create=create;function is(value){const candidate=value;return candidate&&Is.string(candidate.newText)&&Range9.is(candidate.insert)&&Range9.is(candidate.replace)}InsertReplaceEdit2.is=is})(InsertReplaceEdit||(InsertReplaceEdit={}));(function(InsertTextMode2){InsertTextMode2.asIs=1;InsertTextMode2.adjustIndentation=2})(InsertTextMode||(InsertTextMode={}));(function(CompletionItemLabelDetails2){function is(value){const candidate=value;return candidate&&(Is.string(candidate.detail)||candidate.detail===void 0)&&(Is.string(candidate.description)||candidate.description===void 0)}CompletionItemLabelDetails2.is=is})(CompletionItemLabelDetails||(CompletionItemLabelDetails={}));(function(CompletionItem4){function create(label){return{label}}CompletionItem4.create=create})(CompletionItem3||(CompletionItem3={}));(function(CompletionList2){function create(items,isIncomplete){return{items:items?items:[],isIncomplete:!!isIncomplete}}CompletionList2.create=create})(CompletionList||(CompletionList={}));(function(MarkedString2){function fromPlainText(plainText){return plainText.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}MarkedString2.fromPlainText=fromPlainText;function is(value){const candidate=value;return Is.string(candidate)||Is.objectLiteral(candidate)&&Is.string(candidate.language)&&Is.string(candidate.value)}MarkedString2.is=is})(MarkedString||(MarkedString={}));(function(Hover3){function is(value){let candidate=value;return!!candidate&&Is.objectLiteral(candidate)&&(MarkupContent2.is(candidate.contents)||MarkedString.is(candidate.contents)||Is.typedArray(candidate.contents,MarkedString.is))&&(value.range===void 0||Range9.is(value.range))}Hover3.is=is})(Hover2||(Hover2={}));(function(ParameterInformation3){function create(label,documentation){return documentation?{label,documentation}:{label}}ParameterInformation3.create=create})(ParameterInformation2||(ParameterInformation2={}));(function(SignatureInformation3){function create(label,documentation,...parameters){let result={label};if(Is.defined(documentation)){result.documentation=documentation}if(Is.defined(parameters)){result.parameters=parameters}else{result.parameters=[]}return result}SignatureInformation3.create=create})(SignatureInformation2||(SignatureInformation2={}));(function(DocumentHighlightKind2){DocumentHighlightKind2.Text=1;DocumentHighlightKind2.Read=2;DocumentHighlightKind2.Write=3})(DocumentHighlightKind||(DocumentHighlightKind={}));(function(DocumentHighlight2){function create(range,kind){let result={range};if(Is.number(kind)){result.kind=kind}return result}DocumentHighlight2.create=create})(DocumentHighlight||(DocumentHighlight={}));(function(SymbolKind4){SymbolKind4.File=1;SymbolKind4.Module=2;SymbolKind4.Namespace=3;SymbolKind4.Package=4;SymbolKind4.Class=5;SymbolKind4.Method=6;SymbolKind4.Property=7;SymbolKind4.Field=8;SymbolKind4.Constructor=9;SymbolKind4.Enum=10;SymbolKind4.Interface=11;SymbolKind4.Function=12;SymbolKind4.Variable=13;SymbolKind4.Constant=14;SymbolKind4.String=15;SymbolKind4.Number=16;SymbolKind4.Boolean=17;SymbolKind4.Array=18;SymbolKind4.Object=19;SymbolKind4.Key=20;SymbolKind4.Null=21;SymbolKind4.EnumMember=22;SymbolKind4.Struct=23;SymbolKind4.Event=24;SymbolKind4.Operator=25;SymbolKind4.TypeParameter=26})(SymbolKind3||(SymbolKind3={}));(function(SymbolTag2){SymbolTag2.Deprecated=1})(SymbolTag||(SymbolTag={}));(function(SymbolInformation4){function create(name,kind,range,uri,containerName){let result={name,kind,location:{uri,range}};if(containerName){result.containerName=containerName}return result}SymbolInformation4.create=create})(SymbolInformation3||(SymbolInformation3={}));(function(WorkspaceSymbol2){function create(name,kind,uri,range){return range!==void 0?{name,kind,location:{uri,range}}:{name,kind,location:{uri}}}WorkspaceSymbol2.create=create})(WorkspaceSymbol||(WorkspaceSymbol={}));(function(DocumentSymbol2){function create(name,detail,kind,range,selectionRange,children){let result={name,detail,kind,range,selectionRange};if(children!==void 0){result.children=children}return result}DocumentSymbol2.create=create;function is(value){let candidate=value;return candidate&&Is.string(candidate.name)&&Is.number(candidate.kind)&&Range9.is(candidate.range)&&Range9.is(candidate.selectionRange)&&(candidate.detail===void 0||Is.string(candidate.detail))&&(candidate.deprecated===void 0||Is.boolean(candidate.deprecated))&&(candidate.children===void 0||Array.isArray(candidate.children))&&(candidate.tags===void 0||Array.isArray(candidate.tags))}DocumentSymbol2.is=is})(DocumentSymbol||(DocumentSymbol={}));(function(CodeActionKind2){CodeActionKind2.Empty="";CodeActionKind2.QuickFix="quickfix";CodeActionKind2.Refactor="refactor";CodeActionKind2.RefactorExtract="refactor.extract";CodeActionKind2.RefactorInline="refactor.inline";CodeActionKind2.RefactorRewrite="refactor.rewrite";CodeActionKind2.Source="source";CodeActionKind2.SourceOrganizeImports="source.organizeImports";CodeActionKind2.SourceFixAll="source.fixAll"})(CodeActionKind||(CodeActionKind={}));(function(CodeActionTriggerKind2){CodeActionTriggerKind2.Invoked=1;CodeActionTriggerKind2.Automatic=2})(CodeActionTriggerKind||(CodeActionTriggerKind={}));(function(CodeActionContext2){function create(diagnostics,only,triggerKind){let result={diagnostics};if(only!==void 0&&only!==null){result.only=only}if(triggerKind!==void 0&&triggerKind!==null){result.triggerKind=triggerKind}return result}CodeActionContext2.create=create;function is(value){let candidate=value;return Is.defined(candidate)&&Is.typedArray(candidate.diagnostics,Diagnostic.is)&&(candidate.only===void 0||Is.typedArray(candidate.only,Is.string))&&(candidate.triggerKind===void 0||candidate.triggerKind===CodeActionTriggerKind.Invoked||candidate.triggerKind===CodeActionTriggerKind.Automatic)}CodeActionContext2.is=is})(CodeActionContext||(CodeActionContext={}));(function(CodeAction2){function create(title,kindOrCommandOrEdit,kind){let result={title};let checkKind=true;if(typeof kindOrCommandOrEdit==="string"){checkKind=false;result.kind=kindOrCommandOrEdit}else if(Command.is(kindOrCommandOrEdit)){result.command=kindOrCommandOrEdit}else{result.edit=kindOrCommandOrEdit}if(checkKind&&kind!==void 0){result.kind=kind}return result}CodeAction2.create=create;function is(value){let candidate=value;return candidate&&Is.string(candidate.title)&&(candidate.diagnostics===void 0||Is.typedArray(candidate.diagnostics,Diagnostic.is))&&(candidate.kind===void 0||Is.string(candidate.kind))&&(candidate.edit!==void 0||candidate.command!==void 0)&&(candidate.command===void 0||Command.is(candidate.command))&&(candidate.isPreferred===void 0||Is.boolean(candidate.isPreferred))&&(candidate.edit===void 0||WorkspaceEdit.is(candidate.edit))}CodeAction2.is=is})(CodeAction||(CodeAction={}));(function(CodeLens2){function create(range,data){let result={range};if(Is.defined(data)){result.data=data}return result}CodeLens2.create=create;function is(value){let candidate=value;return Is.defined(candidate)&&Range9.is(candidate.range)&&(Is.undefined(candidate.command)||Command.is(candidate.command))}CodeLens2.is=is})(CodeLens||(CodeLens={}));(function(FormattingOptions2){function create(tabSize,insertSpaces){return{tabSize,insertSpaces}}FormattingOptions2.create=create;function is(value){let candidate=value;return Is.defined(candidate)&&Is.uinteger(candidate.tabSize)&&Is.boolean(candidate.insertSpaces)}FormattingOptions2.is=is})(FormattingOptions||(FormattingOptions={}));(function(DocumentLink2){function create(range,target,data){return{range,target,data}}DocumentLink2.create=create;function is(value){let candidate=value;return Is.defined(candidate)&&Range9.is(candidate.range)&&(Is.undefined(candidate.target)||Is.string(candidate.target))}DocumentLink2.is=is})(DocumentLink||(DocumentLink={}));(function(SelectionRange2){function create(range,parent){return{range,parent}}SelectionRange2.create=create;function is(value){let candidate=value;return Is.objectLiteral(candidate)&&Range9.is(candidate.range)&&(candidate.parent===void 0||SelectionRange2.is(candidate.parent))}SelectionRange2.is=is})(SelectionRange||(SelectionRange={}));(function(SemanticTokenTypes3){SemanticTokenTypes3["namespace"]="namespace";SemanticTokenTypes3["type"]="type";SemanticTokenTypes3["class"]="class";SemanticTokenTypes3["enum"]="enum";SemanticTokenTypes3["interface"]="interface";SemanticTokenTypes3["struct"]="struct";SemanticTokenTypes3["typeParameter"]="typeParameter";SemanticTokenTypes3["parameter"]="parameter";SemanticTokenTypes3["variable"]="variable";SemanticTokenTypes3["property"]="property";SemanticTokenTypes3["enumMember"]="enumMember";SemanticTokenTypes3["event"]="event";SemanticTokenTypes3["function"]="function";SemanticTokenTypes3["method"]="method";SemanticTokenTypes3["macro"]="macro";SemanticTokenTypes3["keyword"]="keyword";SemanticTokenTypes3["modifier"]="modifier";SemanticTokenTypes3["comment"]="comment";SemanticTokenTypes3["string"]="string";SemanticTokenTypes3["number"]="number";SemanticTokenTypes3["regexp"]="regexp";SemanticTokenTypes3["operator"]="operator";SemanticTokenTypes3["decorator"]="decorator"})(SemanticTokenTypes2||(SemanticTokenTypes2={}));(function(SemanticTokenModifiers2){SemanticTokenModifiers2["declaration"]="declaration";SemanticTokenModifiers2["definition"]="definition";SemanticTokenModifiers2["readonly"]="readonly";SemanticTokenModifiers2["static"]="static";SemanticTokenModifiers2["deprecated"]="deprecated";SemanticTokenModifiers2["abstract"]="abstract";SemanticTokenModifiers2["async"]="async";SemanticTokenModifiers2["modification"]="modification";SemanticTokenModifiers2["documentation"]="documentation";SemanticTokenModifiers2["defaultLibrary"]="defaultLibrary"})(SemanticTokenModifiers||(SemanticTokenModifiers={}));(function(SemanticTokens2){function is(value){const candidate=value;return Is.objectLiteral(candidate)&&(candidate.resultId===void 0||typeof candidate.resultId==="string")&&Array.isArray(candidate.data)&&(candidate.data.length===0||typeof candidate.data[0]==="number")}SemanticTokens2.is=is})(SemanticTokens||(SemanticTokens={}));(function(InlineValueText2){function create(range,text){return{range,text}}InlineValueText2.create=create;function is(value){const candidate=value;return candidate!==void 0&&candidate!==null&&Range9.is(candidate.range)&&Is.string(candidate.text)}InlineValueText2.is=is})(InlineValueText||(InlineValueText={}));(function(InlineValueVariableLookup2){function create(range,variableName,caseSensitiveLookup){return{range,variableName,caseSensitiveLookup}}InlineValueVariableLookup2.create=create;function is(value){const candidate=value;return candidate!==void 0&&candidate!==null&&Range9.is(candidate.range)&&Is.boolean(candidate.caseSensitiveLookup)&&(Is.string(candidate.variableName)||candidate.variableName===void 0)}InlineValueVariableLookup2.is=is})(InlineValueVariableLookup||(InlineValueVariableLookup={}));(function(InlineValueEvaluatableExpression2){function create(range,expression){return{range,expression}}InlineValueEvaluatableExpression2.create=create;function is(value){const candidate=value;return candidate!==void 0&&candidate!==null&&Range9.is(candidate.range)&&(Is.string(candidate.expression)||candidate.expression===void 0)}InlineValueEvaluatableExpression2.is=is})(InlineValueEvaluatableExpression||(InlineValueEvaluatableExpression={}));(function(InlineValueContext2){function create(frameId,stoppedLocation){return{frameId,stoppedLocation}}InlineValueContext2.create=create;function is(value){const candidate=value;return Is.defined(candidate)&&Range9.is(value.stoppedLocation)}InlineValueContext2.is=is})(InlineValueContext||(InlineValueContext={}));(function(InlayHintKind3){InlayHintKind3.Type=1;InlayHintKind3.Parameter=2;function is(value){return value===1||value===2}InlayHintKind3.is=is})(InlayHintKind2||(InlayHintKind2={}));(function(InlayHintLabelPart2){function create(value){return{value}}InlayHintLabelPart2.create=create;function is(value){const candidate=value;return Is.objectLiteral(candidate)&&(candidate.tooltip===void 0||Is.string(candidate.tooltip)||MarkupContent2.is(candidate.tooltip))&&(candidate.location===void 0||Location2.is(candidate.location))&&(candidate.command===void 0||Command.is(candidate.command))}InlayHintLabelPart2.is=is})(InlayHintLabelPart||(InlayHintLabelPart={}));(function(InlayHint4){function create(position,label,kind){const result={position,label};if(kind!==void 0){result.kind=kind}return result}InlayHint4.create=create;function is(value){const candidate=value;return Is.objectLiteral(candidate)&&Position8.is(candidate.position)&&(Is.string(candidate.label)||Is.typedArray(candidate.label,InlayHintLabelPart.is))&&(candidate.kind===void 0||InlayHintKind2.is(candidate.kind))&&candidate.textEdits===void 0||Is.typedArray(candidate.textEdits,TextEdit.is)&&(candidate.tooltip===void 0||Is.string(candidate.tooltip)||MarkupContent2.is(candidate.tooltip))&&(candidate.paddingLeft===void 0||Is.boolean(candidate.paddingLeft))&&(candidate.paddingRight===void 0||Is.boolean(candidate.paddingRight))}InlayHint4.is=is})(InlayHint2||(InlayHint2={}));(function(StringValue2){function createSnippet(value){return{kind:"snippet",value}}StringValue2.createSnippet=createSnippet})(StringValue||(StringValue={}));(function(InlineCompletionItem2){function create(insertText,filterText,range,command){return{insertText,filterText,range,command}}InlineCompletionItem2.create=create})(InlineCompletionItem||(InlineCompletionItem={}));(function(InlineCompletionList2){function create(items){return{items}}InlineCompletionList2.create=create})(InlineCompletionList||(InlineCompletionList={}));(function(InlineCompletionTriggerKind2){InlineCompletionTriggerKind2.Invoked=0;InlineCompletionTriggerKind2.Automatic=1})(InlineCompletionTriggerKind||(InlineCompletionTriggerKind={}));(function(SelectedCompletionInfo2){function create(range,text){return{range,text}}SelectedCompletionInfo2.create=create})(SelectedCompletionInfo||(SelectedCompletionInfo={}));(function(InlineCompletionContext2){function create(triggerKind,selectedCompletionInfo){return{triggerKind,selectedCompletionInfo}}InlineCompletionContext2.create=create})(InlineCompletionContext||(InlineCompletionContext={}));(function(WorkspaceFolder2){function is(value){const candidate=value;return Is.objectLiteral(candidate)&&URI3.is(candidate.uri)&&Is.string(candidate.name)}WorkspaceFolder2.is=is})(WorkspaceFolder||(WorkspaceFolder={}));(function(TextDocument2){function create(uri,languageId,version,content){return new FullTextDocument(uri,languageId,version,content)}TextDocument2.create=create;function is(value){let candidate=value;return Is.defined(candidate)&&Is.string(candidate.uri)&&(Is.undefined(candidate.languageId)||Is.string(candidate.languageId))&&Is.uinteger(candidate.lineCount)&&Is.func(candidate.getText)&&Is.func(candidate.positionAt)&&Is.func(candidate.offsetAt)?true:false}TextDocument2.is=is;function applyEdits(document,edits){let text=document.getText();let sortedEdits=mergeSort(edits,(a,b)=>{let diff=a.range.start.line-b.range.start.line;if(diff===0){return a.range.start.character-b.range.start.character}return diff});let lastModifiedOffset=text.length;for(let i=sortedEdits.length-1;i>=0;i--){let e=sortedEdits[i];let startOffset=document.offsetAt(e.range.start);let endOffset=document.offsetAt(e.range.end);if(endOffset<=lastModifiedOffset){text=text.substring(0,startOffset)+e.newText+text.substring(endOffset,text.length)}else{throw new Error("Overlapping edit")}lastModifiedOffset=startOffset}return text}TextDocument2.applyEdits=applyEdits;function mergeSort(data,compare){if(data.length<=1){return data}const p=data.length/2|0;const left=data.slice(0,p);const right=data.slice(p);mergeSort(left,compare);mergeSort(right,compare);let leftIdx=0;let rightIdx=0;let i=0;while(leftIdx<left.length&&rightIdx<right.length){let ret=compare(left[leftIdx],right[rightIdx]);if(ret<=0){data[i++]=left[leftIdx++]}else{data[i++]=right[rightIdx++]}}while(leftIdx<left.length){data[i++]=left[leftIdx++]}while(rightIdx<right.length){data[i++]=right[rightIdx++]}return data}})(TextDocument||(TextDocument={}));FullTextDocument=class{constructor(uri,languageId,version,content){this._uri=uri;this._languageId=languageId;this._version=version;this._content=content;this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(range){if(range){let start=this.offsetAt(range.start);let end=this.offsetAt(range.end);return this._content.substring(start,end)}return this._content}update(event,version){this._content=event.text;this._version=version;this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let lineOffsets=[];let text=this._content;let isLineStart=true;for(let i=0;i<text.length;i++){if(isLineStart){lineOffsets.push(i);isLineStart=false}let ch=text.charAt(i);isLineStart=ch==="\r"||ch==="\n";if(ch==="\r"&&i+1<text.length&&text.charAt(i+1)==="\n"){i++}}if(isLineStart&&text.length>0){lineOffsets.push(text.length)}this._lineOffsets=lineOffsets}return this._lineOffsets}positionAt(offset){offset=Math.max(Math.min(offset,this._content.length),0);let lineOffsets=this.getLineOffsets();let low=0,high=lineOffsets.length;if(high===0){return Position8.create(0,offset)}while(low<high){let mid=Math.floor((low+high)/2);if(lineOffsets[mid]>offset){high=mid}else{low=mid+1}}let line=low-1;return Position8.create(line,offset-lineOffsets[line])}offsetAt(position){let lineOffsets=this.getLineOffsets();if(position.line>=lineOffsets.length){return this._content.length}else if(position.line<0){return 0}let lineOffset=lineOffsets[position.line];let nextLineOffset=position.line+1<lineOffsets.length?lineOffsets[position.line+1]:this._content.length;return Math.max(Math.min(lineOffset+position.character,nextLineOffset),lineOffset)}get lineCount(){return this.getLineOffsets().length}};(function(Is2){const toString=Object.prototype.toString;function defined(value){return typeof value!=="undefined"}Is2.defined=defined;function undefined2(value){return typeof value==="undefined"}Is2.undefined=undefined2;function boolean(value){return value===true||value===false}Is2.boolean=boolean;function string(value){return toString.call(value)==="[object String]"}Is2.string=string;function number(value){return toString.call(value)==="[object Number]"}Is2.number=number;function numberRange(value,min,max){return toString.call(value)==="[object Number]"&&min<=value&&value<=max}Is2.numberRange=numberRange;function integer2(value){return toString.call(value)==="[object Number]"&&-2147483648<=value&&value<=2147483647}Is2.integer=integer2;function uinteger2(value){return toString.call(value)==="[object Number]"&&0<=value&&value<=2147483647}Is2.uinteger=uinteger2;function func(value){return toString.call(value)==="[object Function]"}Is2.func=func;function objectLiteral(value){return value!==null&&typeof value==="object"}Is2.objectLiteral=objectLiteral;function typedArray(value,check){return Array.isArray(value)&&value.every(check)}Is2.typedArray=typedArray})(Is||(Is={}))}});var TreeVisitor;var init_treeVisitor=__esm({"server/src/parser/newtry/analyzer/treeVisitor.ts"(){"use strict";TreeVisitor=class{constructor(){}visitPropertyDeclaration(decl){throw new Error("Method not implemented.")}visitDynamicProperty(decl){throw new Error("Method not implemented.")}visitDeclGetterSetter(decl){throw new Error("Method not implemented.")}visitCommandCall(stmt){throw new Error("Method not implemented.")}visitDeclVariable(decl){throw new Error("Need Implentment")}visitDeclClass(decl){throw new Error("Need Implentment")}visitDeclHotkey(decl){throw new Error("Need Implentment")}visitDeclHotString(decl){throw new Error("Need Implentment")}visitDeclFunction(decl){throw new Error("Need Implentment")}visitDeclParameter(decl){throw new Error("Need Implentment")}visitDeclLabel(decl){throw new Error("Need Implentment")}visitStmtInvalid(stmt){throw new Error("Need Implentment")}visitDirective(stmt){throw new Error("Need Implentment")}visitBlock(stmt){throw new Error("Need Implentment")}visitExpr(stmt){throw new Error("Need Implentment")}visitAssign(stmt){throw new Error("Need Implentment")}visitIf(stmt){throw new Error("Need Implentment")}visitElse(stmt){throw new Error("Need Implentment")}visitReturn(stmt){throw new Error("Need Implentment")}visitBreak(stmt){throw new Error("Need Implentment")}visitContinue(stmt){throw new Error("Need Implentment")}visitSwitch(stmt){throw new Error("Need Implentment")}visitCase(stmt){throw new Error("Need Implentment")}visitLoop(stmt){throw new Error("Need Implentment")}visitWhile(stmt){throw new Error("Need Implentment")}visitFor(stmt){throw new Error("Need Implentment")}visitTry(stmt){throw new Error("Need Implentment")}visitCatch(stmt){throw new Error("Need Implentment")}visitFinally(stmt){throw new Error("Need Implentment")}visitThrow(stmt){throw new Error("Need Implentment")}}}});var SymbolTable;var init_symbolTable=__esm({"server/src/parser/newtry/analyzer/models/symbolTable.ts"(){"use strict";init_symbol();init_symbolInformationProvider();SymbolTable=class{constructor(uri,name,scoopLevel,builtinScope,enclosingScoop){this.symbols=new Map;this.labelSymbols=new Map;this.uri=uri;this.name=name;this.scoopLevel=scoopLevel;this.enclosingScope=enclosingScoop;this.dependcyScope=new Set;this.includeTable=new Map;this.builtinScope=builtinScope;this.initTypeSystem()}initTypeSystem(){this.define(new BuiltinTypeSymbol("number"));this.define(new BuiltinTypeSymbol("string"))}define(sym){if(!(sym instanceof LabelSymbol))this.symbols.set(sym.name.toLowerCase(),sym);else this.labelSymbols.set(sym.name.toLowerCase(),sym)}setWorkspaceSymbolProvider(provider){this.workspaceSymbolProvider=provider}resolve(name){const searchName=name.toLowerCase();let result=this.symbols.get(searchName);if(result)return result;result=this.enclosingScope?.resolve(searchName);if(result)return result;for(const[uri,table]of this.includeTable){result=table.resolve(searchName);if(result)return result}result=this.builtinScope.get(searchName);if(result)return result;if(this.workspaceSymbolProvider){const matches=this.workspaceSymbolProvider.findByName(searchName);if(matches.length>0){return matches[0].symbol}}return void 0}addScope(scoop){this.dependcyScope.add(scoop)}addInclude(table){this.includeTable.set(table.uri,table)}updateInclude(table){if(this.includeTable.has(table.uri))this.includeTable.set(table.uri,table)}allSymbols(){const syms=[];for(const[name,sym]of this.symbols)syms.push(sym);return syms}includeSymbols(){let result=new Map;for(const[uri,include]of this.includeTable){result.set(include.uri,include.allSymbols())}return result}symbolInformations(){return symbolInformations(this.symbols,this.uri)}toString(){let scope_header="\u4F5C\u7528\u57DF\u7B26\u53F7\u8868\uFF1A";let lines=["\n",scope_header,"=".repeat(scope_header.length*2)];lines.push(`\u4F5C\u7528\u57DF\u540D\u79F0: ${this.name}`);let symtab_header="\u7B26\u53F7\u8868\u4E2D\u7684\u5185\u5BB9\uFF1A";lines.push(...["\n",symtab_header,"-".repeat(scope_header.length*2)]);this.symbols.forEach((v,k)=>lines.push(`${k}: ${v}`));return lines.join("\n")}}}});var semantic_exports={};__export(semantic_exports,{PreProcesser:()=>PreProcesser,Processer:()=>Processer});function copyRange(r){return import_vscode_languageserver9.Range.create(r.start,r.end)}var import_vscode_languageserver9,Expr6,PreProcesser,Processer;var init_semantic=__esm({"server/src/parser/newtry/analyzer/semantic.ts"(){"use strict";init_main();import_vscode_languageserver9=__toESM(require_main4());init_treeVisitor();init_stmt();init_declaration();Expr6=__toESM(require_expr());init_suffixterm();init_symbolTable();init_symbol();init_types();init_tokenTypes();init_types3();PreProcesser=class extends TreeVisitor{constructor(script,builtinScope){super();this.script=script;this.table=new SymbolTable(script.uri,"global",1,builtinScope);this.stack=[this.table];this.currentScope=this.stack[this.stack.length-1];this.callInfomation=[]}process(){const stmts=this.script.stmts;const errors=[];for(const stmt of stmts){const error=stmt.accept(this,[]);errors.push(...error)}return{table:this.table,callInfomation:this.callInfomation,diagnostics:errors}}visitDeclVariable(decl){const errors=this.checkDiagnosticForNode(decl);const[e,vs]=this.processVarSym(decl.assigns);errors.push(...e);if(decl.scope.type===99){if(!(this.currentScope instanceof AHKObjectSymbol)&&!(this.currentScope instanceof AHKMethodSymbol)){errors.push(this.error(import_vscode_languageserver9.Range.create(decl.start,decl.end),"Static declaration can only be used in class"))}vs.forEach(v=>this.currentScope.define(v));return errors}if(this.currentScope instanceof AHKObjectSymbol){errors.push(this.error(import_vscode_languageserver9.Range.create(decl.start,decl.end),"global and local are not allowed in class body"));return errors}if(decl.scope.type===94)vs.forEach(v=>this.currentScope.define(v));else{for(const sym of vs){if(this.currentScope.name==="global")this.table.define(sym);const globalSym=this.table.resolve(sym.name);if(globalSym)this.currentScope.define(sym);else{this.currentScope.define(sym);this.table.define(sym)}}}return errors}visitDeclFunction(decl){const errors=this.checkDiagnosticForNode(decl);const params=decl.params;let isAlreadyVariadic=false;for(const param of params.ParamaterList.getElements()){if(isAlreadyVariadic)errors.push(this.error(copyRange(param),"Only last parameter can be variadic.",import_vscode_languageserver9.DiagnosticSeverity.Error));errors.push(...this.checkDiagnosticForNode(param));if(param instanceof DefaultParameter&&param.value)errors.push(...this.processExpression(param.value));if(param instanceof SpreadParameter)isAlreadyVariadic=true}const reqParams=this.paramAction(params.requiredParameters);const dfltParams=this.paramAction(params.optionalParameters);const sym=new AHKMethodSymbol(this.script.uri,decl.nameToken.content,copyRange(decl),reqParams,dfltParams,this.table,this.currentScope instanceof AHKObjectSymbol?this.currentScope:void 0);if(decl.nameToken.comment)sym.document=decl.nameToken.comment.content;this.currentScope.define(sym);this.currentScope.addScope(sym);this.enterScoop(sym);if(decl.body instanceof Block)errors.push(...decl.body.accept(this,[]));else errors.push(...this.processExpression(decl.body.expr));this.leaveScoop();return errors}paramAction(params){const syms=[];for(const param of params){syms.push(new ParameterSymbol(this.script.uri,param.identifier.content,copyRange(param),1,param.byref!==void 0,param instanceof SpreadParameter,this.currentScope))}return syms}visitDeclClass(decl){const errors=this.checkDiagnosticForNode(decl);const parentScoop=void 0;const objTable=new AHKObjectSymbol(this.script.uri,decl.name.content,copyRange(decl),parentScoop,this.currentScope);this.currentScope.define(objTable);this.enterScoop(objTable);errors.push(...decl.body.accept(this,[]));this.leaveScoop();return errors}visitPropertyDeclaration(decl){const errors=this.checkDiagnosticForNode(decl);for(const e of decl.propertyElements.getElements()){this.processExpression(e)}return errors}visitDynamicProperty(decl){const errors=this.checkDiagnosticForNode(decl);if(!(this.currentScope instanceof AHKObjectSymbol))return errors;const dynamicProperty=new AHKDynamicPropertySymbol(this.script.uri,decl.name.content,copyRange(decl),this.currentScope);this.currentScope.define(dynamicProperty);if(decl.body instanceof ExprStmt){errors.push(...this.checkDiagnosticForNode(decl.body));return errors}for(const getterSetter of decl.body.stmts){if(!(getterSetter instanceof GetterSetter)){errors.push(...getterSetter.accept(this,[]));continue}const funcType=getterSetter.nameToken.content.toLowerCase();const symName=funcType==="get"?"get":"set";const sym=new AHKGetterSetterSymbol(this.script.uri,symName,decl.name.content,copyRange(getterSetter),this.currentScope,this.table);dynamicProperty.define(sym);this.enterScoop(sym);errors.push(...getterSetter.accept(this,[]));this.leaveScoop()}return errors}visitDeclGetterSetter(decl){if(decl.body instanceof Block)return this.checkDiagnosticForNode(decl).concat(decl.body.accept(this,[]));return this.checkDiagnosticForNode(decl).concat(this.processExpression(decl.body.expr))}visitDeclHotkey(decl){const key1=`${decl.key1.modifiers?.content??""}${decl.key1.key.content}`;const keyfull=decl.key2?`${key1} & ${decl.key2.key.content}`:key1;const name=`${keyfull} ${decl.up?"UP":""}`;this.table.define(new HotkeySymbol(this.script.uri,name,copyRange(decl)));return this.checkDiagnosticForNode(decl)}visitDeclHotString(decl){this.table.define(new HotStringSymbol(this.script.uri,decl.str.content,copyRange(decl)));return this.checkDiagnosticForNode(decl)}visitDeclLabel(decl){this.table.define(new LabelSymbol(this.script.uri,decl.name.content,copyRange(decl)));return this.checkDiagnosticForNode(decl)}visitStmtInvalid(stmt){if(!stmt.error)return stmt.tokens.flatMap(token=>this.checkDiagnosticForUnexpectedToken(token)??[]);const error={range:copyRange(stmt.error),message:stmt.error.message,severity:import_vscode_languageserver9.DiagnosticSeverity.Error};return[error]}visitDirective(stmt){return this.checkDiagnosticForNode(stmt)}visitBlock(stmt){const errors=this.checkDiagnosticForNode(stmt);for(const singleStmt of stmt.stmts){const e=singleStmt.accept(this,[]);errors.push(...e)}return errors}visitAssign(stmt){const errors=this.checkDiagnosticForNode(stmt);const resultType=this.checkExprResultType(stmt.expr);errors.push(...this.processAssignVar(stmt.left,stmt,resultType));errors.push(...this.processExpression(stmt.expr));errors.push(...this.processTrailerExpression(stmt.trailerExpr));return errors}visitExpr(stmt){const errors=this.checkDiagnosticForNode(stmt);errors.push(...this.processExpression(stmt.expression));errors.push(...this.processTrailerExpression(stmt.trailerExpr));return errors}visitCommandCall(stmt){const errors=this.checkDiagnosticForNode(stmt);for(const arg of stmt.args.getElements()){errors.push(...this.processExpression(arg))}this.callInfomation.push({callee:[stmt.command.content],parameterPosition:this.getArgumentPosition(stmt.args.childern),position:stmt.start,isCommand:true});return errors}processTrailerExpression(trailer){const errors=[];if(!trailer)return errors;errors.push(...this.checkDiagnosticForNode(trailer));for(const expr of trailer.exprList.getElements()){errors.push(...this.processExpression(expr))}const atom=1;return errors}processExpression(expr){const errors=this.checkDiagnosticForNode(expr);if(expr instanceof Expr6.Factor){const suffix=expr.suffixTerm;let termIndex=0;const terms=suffix.getElements();for(const term of terms){termIndex++;const atom=term.atom;if(atom instanceof Expr6.ParenExpr){if(atom.expr instanceof Expr6.Expr)errors.push(...this.processExpression(atom.expr));else for(const e of atom.expr.getElements())errors.push(...this.processExpression(e))}else{errors.push(...this.processSuffixTerm(atom));for(const bracket of term.brackets)errors.push(...this.processSuffixTerm(bracket));if(term.brackets.length!==1)continue;const call=term.brackets[0];if(!(call instanceof Call))continue;this.getCallInfomation(call,terms.slice(0,termIndex))}}}else if(expr instanceof Expr6.Unary){errors.push(...this.processExpression(expr.factor))}else if(expr instanceof Expr6.Binary){const resultType=this.checkExprResultType(expr.right);if(expr.operator.type===37&&expr.left instanceof Expr6.Factor){errors.push(...this.processAssignVar(expr.left,expr,resultType))}else errors.push(...this.processExpression(expr.left));errors.push(...this.processExpression(expr.right))}else if(expr instanceof Expr6.Ternary){errors.push(...this.processExpression(expr.condition));errors.push(...this.processExpression(expr.trueExpr));errors.push(...this.processExpression(expr.falseExpr))}else if(expr instanceof Expr6.ParenExpr){if(expr.expr instanceof Expr6.Expr)errors.push(...this.processExpression(expr.expr));else expr.expr.getElements().forEach(e=>errors.push(...this.processExpression(e)))}else if(expr instanceof Expr6.AnonymousFunctionCreation){errors.push(...this.processExpression(expr.body))}else if(expr instanceof Expr6.CommandArgumentExpression){errors.push(...this.processExpression(expr.expression))}return errors}getCallInfomation(call,calleeInfomation){let argumentsPosition=this.getArgumentPosition(call.args.childern);if(calleeInfomation.find(t=>!(t.atom instanceof Identifier)))return;if(calleeInfomation.slice(0,-1).find(t=>t.brackets.length>0))return;this.callInfomation.push({callee:calleeInfomation.map(t=>t.atom.token.content),parameterPosition:argumentsPosition,position:call.start,isCommand:false})}getArgumentPosition(args){let argumentsPosition=[];for(let i=0;i<args.length;i++){if(args[i]instanceof Token){argumentsPosition.push(void 0);continue}argumentsPosition.push(args[i].start);i++}return argumentsPosition}checkExprResultType(expr){const isNewClass=expr instanceof Expr6.Unary&&expr.operator.type===98&&expr.factor instanceof Expr6.Factor&&expr.factor.termCount>=1;if(expr instanceof Expr6.Factor&&expr.termCount===1){const firstTerm=expr.suffixTerm.getElements()[0];const brackets2=firstTerm.brackets;const atom=firstTerm.atom;if(atom instanceof ArrayTerm)return["Array"];if(atom instanceof AssociativeArray)return["AssociativeArray"];if(!(atom instanceof Identifier))return void 0;if(brackets2.length>1)return void 0;const trailer=brackets2[0];if(trailer instanceof Call){if(atom.token.content.toLowerCase()==="array")return["Array"];if(atom.token.content.toLowerCase()==="fileopen")return["File"];return[atom.token.content]}}if(!isNewClass)return void 0;let objectNames=[];const factor=expr.factor;const terms=factor.suffixTerm.getElements();for(const term of terms.slice(0,-1)){const atom=term.atom;if(!(atom instanceof Identifier))return void 0;if(term.brackets.length>0)return void 0;objectNames.push(atom.token.content)}const lastTerm=terms[terms.length-1];if(!(lastTerm.atom instanceof Identifier))return void 0;const brackets=lastTerm.brackets;if(brackets.length===1){const trailer=brackets[0];if(trailer instanceof Call)return objectNames.concat(lastTerm.atom.token.content);return void 0}if(brackets.length===0)return objectNames.concat(lastTerm.atom.token.content);return objectNames}processAssignVar(left,fullRange,varType){const errors=this.checkDiagnosticForNode(left);switch(left.termCount){case 1:{const firstTerm=left.suffixTerm.getElements()[0];if(!(firstTerm.atom instanceof Identifier))return errors;if(firstTerm.brackets.length!==0)return errors;const idName=firstTerm.atom.token.content;if(!this.currentScope.resolve(idName)){const kind=this.currentScope instanceof AHKObjectSymbol?2:0;const sym=new VariableSymbol(this.script.uri,idName,copyRange(left),kind,void 0);if(varType)sym.setType(varType);this.currentScope.define(sym)}return errors}case 2:{const firstTerm=left.suffixTerm.getElements()[0];if(!(firstTerm.atom instanceof Identifier))return errors;if(firstTerm.brackets.length!==0)return errors;if(firstTerm.atom.token.content.toLowerCase()!=="this")return errors;if(!(this.currentScope instanceof AHKMethodSymbol&&this.currentScope.parentScope instanceof AHKObjectSymbol)){errors.push(Diagnostic.create(copyRange(left),"Assign a property out of class"));return errors}const propertyTerm=left.suffixTerm.getElements()[1];if(!(propertyTerm.atom instanceof Identifier))return errors;if(propertyTerm.brackets.length!==0)return errors;if(this.currentScope.parentScope.resolve(propertyTerm.atom.token.content))return errors;const sym=new VariableSymbol(this.script.uri,propertyTerm.atom.token.content,copyRange(fullRange),2,void 0);if(varType)sym.setType(varType);this.currentScope.parentScope.define(sym)}}return errors}processSuffixTerm(atom){const errors=this.checkDiagnosticForNode(atom);errors.push(...this.checkDiagnosticForNode(atom));if(atom instanceof Invalid2){return errors.concat(this.error(copyRange(atom),`${TokenType[atom.token.type]} expect in suffix.`))}if(atom instanceof ArrayTerm){for(const iterm of atom.items.getElements())errors.push(...this.processExpression(iterm))}else if(atom instanceof AssociativeArray){for(const pair of atom.pairs.getElements()){errors.push(...this.processExpression(pair.key));errors.push(...this.processExpression(pair.value))}}else if(atom instanceof Call){let argumentsPosition=[];for(const arg of atom.args.getElements()){argumentsPosition.push(arg.start);errors.push(...this.processExpression(arg))}}else if(atom instanceof Identifier||atom instanceof PercentDereference||atom instanceof PseudoArray){const idName=atom instanceof Identifier?atom.token:atom.dereferencable;if(!this.currentScope.resolve(idName.content)){errors.push(this.error(copyRange(atom),`Variable "${idName}" is used before defination`,import_vscode_languageserver9.DiagnosticSeverity.Warning))}}else atom;return errors}visitIf(stmt){const errors=this.checkDiagnosticForNode(stmt);const condExpr=stmt.condition;errors.push(...this.processExpression(condExpr));errors.push(...stmt.body.accept(this,[]));if(stmt.elseStmt){const elseStmt=stmt.elseStmt;errors.push(...elseStmt.accept(this,[]))}return errors}visitElse(stmt){const errors=this.checkDiagnosticForNode(stmt);errors.push(...stmt.body.accept(this,[]));return errors}visitReturn(stmt){if(stmt.value){return this.processExpression(stmt.value)}return this.checkDiagnosticForNode(stmt)}visitBreak(stmt){return this.checkDiagnosticForNode(stmt)}visitContinue(stmt){return this.checkDiagnosticForNode(stmt)}visitSwitch(stmt){const errors=this.checkDiagnosticForNode(stmt);errors.push(...this.processExpression(stmt.condition));for(const caseStmt of stmt.cases){errors.push(...caseStmt.accept(this,[]))}return errors}visitCase(stmt){const errors=this.checkDiagnosticForNode(stmt);if(stmt.CaseNode instanceof CaseExpr){for(const cond of stmt.CaseNode.conditions.getElements()){errors.push(...this.processExpression(cond))}}for(const s of stmt.body){errors.push(...s.accept(this,[]))}return errors}visitLoop(stmt){const errors=this.checkDiagnosticForNode(stmt);if(stmt instanceof Loop){if(stmt.condition){for(const expr of stmt.condition.getElements())errors.push(...this.processExpression(expr))}errors.push(...stmt.body.accept(this,[]));return errors}errors.push(...stmt.body.accept(this,[]));errors.push(...this.processExpression(stmt.condition));return errors}visitWhile(stmt){const errors=this.checkDiagnosticForNode(stmt);errors.push(...this.processExpression(stmt.condition));errors.push(...stmt.body.accept(this,[]));return errors}visitFor(stmt){const errors=this.checkDiagnosticForNode(stmt);const id1=stmt.iter1id.suffixTerm.getElements()[0];const id2=stmt.iter2id?.suffixTerm.getElements()[0];if(id1)errors.push(...this.visitIterId(id1,stmt));if(id2)errors.push(...this.visitIterId(id2,stmt));return errors.concat(stmt.body.accept(this,[]))}visitIterId(oneId,stmt){const errors=[];errors.push(...this.processSuffixTerm(oneId));if(errors.length===0){const id=oneId.atom;if(!this.currentScope.resolve(id.token.content)){const sym=new VariableSymbol(this.script.uri,id.token.content,copyRange(stmt.iter1id),0,void 0);this.currentScope.define(sym)}}return errors}visitTry(stmt){const errors=this.checkDiagnosticForNode(stmt);errors.push(...stmt.body.accept(this,[]));if(stmt.catchStmt){errors.push(...stmt.catchStmt.accept(this,[]))}if(stmt.finallyStmt){errors.push(...stmt.finallyStmt.accept(this,[]))}return errors}visitCatch(stmt){const errors=this.checkDiagnosticForNode(stmt);if(stmt.errors&&!this.currentScope.resolve(stmt.errors.content)){const sym=new VariableSymbol(this.script.uri,stmt.errors.content,copyRange(stmt.errors),0,void 0);this.currentScope.define(sym)}return errors.concat(stmt.body.accept(this,[]))}visitFinally(stmt){const errors=this.checkDiagnosticForNode(stmt);return errors.concat(stmt.body.accept(this,[]))}visitThrow(stmt){const errors=this.checkDiagnosticForNode(stmt);return errors.concat(this.processExpression(stmt.expr))}enterScoop(scoop){this.stack.push(scoop);this.currentScope=scoop}leaveScoop(){this.stack.pop();this.currentScope=this.stack[this.stack.length-1]}processVarSym(assigns){const errors=[];const varSym=[];for(const assign of assigns.getElements()){errors.push(...this.checkDiagnosticForNode(assign));const kind=this.currentScope instanceof AHKObjectSymbol?2:0;if(assign instanceof Expr6.Binary&&assign.operator.type===37&&assign.left instanceof Expr6.Factor&&assign.left.suffixTerm instanceof Identifier){const id=assign.left.suffixTerm.token;const sym=new VariableSymbol(this.script.uri,id.content,copyRange(id),kind,void 0);varSym.push(sym);continue}if(assign instanceof Expr6.Factor&&assign.suffixTerm instanceof Identifier){const id=assign.suffixTerm.token;if(!this.currentScope.resolve(id.content)){const sym=new VariableSymbol(this.script.uri,id.content,copyRange(id),kind,void 0);varSym.push(sym);continue}}}return[errors,varSym]}checkDiagnosticForNode(node){const errors=[];for(const child of Object.values(node)){if(child instanceof Token){const tokenErr=this.checkDiagnosticForUnexpectedToken(child);if(tokenErr)errors.push(tokenErr)}}return errors}checkDiagnosticForUnexpectedToken(token){if(token instanceof MissingToken)return this.error(copyRange(token),`"${TokenType[token.type]}" expect.`);if(token instanceof SkipedToken)return this.error(copyRange(token),`Unexpect token "${TokenType[token.type]}".`);return void 0}error(range,message,severity){return Diagnostic.create(range,message,severity??import_vscode_languageserver9.DiagnosticSeverity.Error)}};Processer=class extends TreeVisitor{constructor(script,v2mode,table){super();this.script=script;this.v2mode=v2mode;this.table=table;this.stack=[this.table];this.currentScope=this.stack[this.stack.length-1];this.callInfomation=[]}process(){const stmts=this.script.stmts;const errors=[];for(const stmt of stmts){const error=stmt.accept(this,[]);errors.push(...error)}return{table:this.table,callInfomation:this.callInfomation,diagnostics:errors}}visitDeclVariable(decl){const errors=this.checkDiagnosticForNode(decl);const[e,vs]=this.processVarSym(decl.assigns);errors.push(...e);return errors}visitDeclFunction(decl){const errors=this.checkDiagnosticForNode(decl);const sym=this.table.resolve(decl.nameToken.content);if(!(sym instanceof AHKMethodSymbol))return errors;this.enterScoop(sym);if(decl.body instanceof Block)errors.push(...decl.body.accept(this,[]));else errors.push(...this.processExpression(decl.body.expr));this.leaveScoop();return errors}visitDeclClass(decl){const errors=this.checkDiagnosticForNode(decl);const sym=this.table.resolve(decl.name.content);if(!(sym instanceof AHKObjectSymbol))return errors;this.enterScoop(sym);errors.push(...decl.body.accept(this,[]));this.leaveScoop();return errors}visitPropertyDeclaration(decl){const errors=this.checkDiagnosticForNode(decl);for(const e of decl.propertyElements.getElements()){this.processExpression(e)}return errors}visitDynamicProperty(decl){const errors=this.checkDiagnosticForNode(decl);if(!(this.currentScope instanceof AHKObjectSymbol))return errors;const dynamicProperty=this.table.resolve(decl.name.content);if(!(dynamicProperty instanceof AHKDynamicPropertySymbol))return errors;if(decl.body instanceof ExprStmt){errors.push(...this.checkDiagnosticForNode(decl.body));return errors}for(const getterSetter of decl.body.stmts){if(!(getterSetter instanceof GetterSetter)){errors.push(...getterSetter.accept(this,[]));continue}const sym=this.table.resolve(decl.name.content);if(!(sym instanceof AHKGetterSetterSymbol))return errors;this.enterScoop(sym);errors.push(...getterSetter.accept(this,[]));this.leaveScoop()}return errors}visitDeclGetterSetter(decl){if(decl.body instanceof Block)return this.checkDiagnosticForNode(decl).concat(decl.body.accept(this,[]));return this.checkDiagnosticForNode(decl).concat(this.processExpression(decl.body.expr))}visitDeclHotkey(decl){return this.checkDiagnosticForNode(decl)}visitDeclHotString(decl){return this.checkDiagnosticForNode(decl)}visitDeclLabel(decl){return this.checkDiagnosticForNode(decl)}visitStmtInvalid(stmt){return[]}visitDirective(stmt){return this.checkDiagnosticForNode(stmt)}visitBlock(stmt){const errors=this.checkDiagnosticForNode(stmt);for(const singleStmt of stmt.stmts){const e=singleStmt.accept(this,[]);errors.push(...e)}return errors}visitAssign(stmt){const errors=this.checkDiagnosticForNode(stmt);const resultType=this.checkExprResultType(stmt.expr);errors.push(...this.processAssignVar(stmt.left,stmt,resultType));errors.push(...this.processExpression(stmt.expr));errors.push(...this.processTrailerExpression(stmt.trailerExpr));return errors}visitExpr(stmt){const errors=this.checkDiagnosticForNode(stmt);errors.push(...this.processExpression(stmt.expression));errors.push(...this.processTrailerExpression(stmt.trailerExpr));return errors}visitCommandCall(stmt){const errors=this.checkDiagnosticForNode(stmt);for(const arg of stmt.args.getElements()){errors.push(...this.processExpression(arg))}this.callInfomation.push({callee:[stmt.command.content],parameterPosition:this.getArgumentPosition(stmt.args.childern),position:stmt.start,isCommand:true});return errors}processTrailerExpression(trailer){const errors=[];if(!trailer)return errors;errors.push(...this.checkDiagnosticForNode(trailer));for(const expr of trailer.exprList.getElements()){errors.push(...this.processExpression(expr))}const atom=1;return errors}processExpression(expr){const errors=this.checkDiagnosticForNode(expr);if(expr instanceof Expr6.Factor){const suffix=expr.suffixTerm;let termIndex=0;const terms=suffix.getElements();for(const term of terms){termIndex++;const atom=term.atom;if(atom instanceof Expr6.ParenExpr){if(atom.expr instanceof Expr6.Expr)errors.push(...this.processExpression(atom.expr));else for(const e of atom.expr.getElements())errors.push(...this.processExpression(e))}else{errors.push(...this.processSuffixTerm(atom));for(const bracket of term.brackets)errors.push(...this.processSuffixTerm(bracket));if(term.brackets.length!==1)continue;const call=term.brackets[0];if(!(call instanceof Call))continue;this.getCallInfomation(call,terms.slice(0,termIndex))}}}else if(expr instanceof Expr6.Unary){errors.push(...this.processExpression(expr.factor))}else if(expr instanceof Expr6.Binary){const resultType=this.checkExprResultType(expr.right);if(expr.operator.type===37&&expr.left instanceof Expr6.Factor){errors.push(...this.processAssignVar(expr.left,expr,resultType))}else errors.push(...this.processExpression(expr.left));errors.push(...this.processExpression(expr.right))}else if(expr instanceof Expr6.Ternary){errors.push(...this.processExpression(expr.condition));errors.push(...this.processExpression(expr.trueExpr));errors.push(...this.processExpression(expr.falseExpr))}else if(expr instanceof Expr6.ParenExpr){if(expr.expr instanceof Expr6.Expr)errors.push(...this.processExpression(expr.expr));else expr.expr.getElements().forEach(e=>errors.push(...this.processExpression(e)))}else if(expr instanceof Expr6.AnonymousFunctionCreation){errors.push(...this.processExpression(expr.body))}else if(expr instanceof Expr6.CommandArgumentExpression){errors.push(...this.processExpression(expr.expression))}return errors}getCallInfomation(call,calleeInfomation){let argumentsPosition=this.getArgumentPosition(call.args.childern);if(calleeInfomation.find(t=>!(t.atom instanceof Identifier)))return;if(calleeInfomation.slice(0,-1).find(t=>t.brackets.length>0))return;this.callInfomation.push({callee:calleeInfomation.map(t=>t.atom.token.content),parameterPosition:argumentsPosition,position:call.start,isCommand:false})}getArgumentPosition(args){let argumentsPosition=[];for(let i=0;i<args.length;i++){if(args[i]instanceof Token){argumentsPosition.push(void 0);continue}argumentsPosition.push(args[i].start);i++}return argumentsPosition}checkExprResultType(expr){const isNewClass=expr instanceof Expr6.Unary&&expr.operator.type===98&&expr.factor instanceof Expr6.Factor&&expr.factor.termCount>=1;if(expr instanceof Expr6.Factor&&expr.termCount===1){const firstTerm=expr.suffixTerm.getElements()[0];const brackets2=firstTerm.brackets;const atom=firstTerm.atom;if(atom instanceof ArrayTerm)return this.table.resolve("array");if(atom instanceof AssociativeArray)return this.table.resolve("AssociativeArray");if(!(atom instanceof Identifier))return void 0;if(brackets2.length>1)return void 0;const trailer=brackets2[0];if(trailer instanceof Call){if(atom.token.content.toLowerCase()==="array")this.table.resolve("array");if(atom.token.content.toLowerCase()==="fileopen")return this.table.resolve("File")}}if(!isNewClass&&!(this.v2mode&&expr instanceof Expr6.Factor))return void 0;let objectNames=[];const factor=expr instanceof Expr6.Factor?expr:expr.factor;const terms=factor.suffixTerm.getElements();for(const term of terms.slice(0,-1)){const atom=term.atom;if(!(atom instanceof Identifier))return void 0;if(term.brackets.length>0)return void 0;objectNames.push(atom.token.content)}const lastTerm=terms[terms.length-1];if(!(lastTerm.atom instanceof Identifier))return void 0;const brackets=lastTerm.brackets;if(brackets.length===1){const trailer=brackets[0];if(trailer instanceof Call)objectNames.push(lastTerm.atom.token.content);else return void 0}if(brackets.length===0)objectNames.push(lastTerm.atom.token.content);let s;for(const name of objectNames){s=this.table.resolve(name);if(!(s instanceof AHKObjectSymbol))return void 0}return s}processAssignVar(left,fullRange,varType){const errors=this.checkDiagnosticForNode(left);const vt=varType instanceof AHKObjectSymbol?varType:void 0;switch(left.termCount){case 1:{const firstTerm=left.suffixTerm.getElements()[0];if(!(firstTerm.atom instanceof Identifier))return errors;if(firstTerm.brackets.length!==0)return errors;const idName=firstTerm.atom.token.content;if(this.currentScope.resolve(idName)){const kind=this.currentScope instanceof AHKObjectSymbol?2:0;const sym=new VariableSymbol(this.script.uri,idName,copyRange(left),kind,void 0,void 0,void 0,vt);this.currentScope.define(sym)}return errors}case 2:{const firstTerm=left.suffixTerm.getElements()[0];if(!(firstTerm.atom instanceof Identifier))return errors;if(firstTerm.brackets.length!==0)return errors;if(firstTerm.atom.token.content.toLowerCase()!=="this")return errors;if(!(this.currentScope instanceof AHKMethodSymbol&&this.currentScope.parentScope instanceof AHKObjectSymbol)){errors.push(Diagnostic.create(copyRange(left),"Assign a property out of class"));return errors}const propertyTerm=left.suffixTerm.getElements()[1];if(!(propertyTerm.atom instanceof Identifier))return errors;if(propertyTerm.brackets.length!==0)return errors;if(this.currentScope.parentScope.resolve(propertyTerm.atom.token.content))return errors;const sym=new VariableSymbol(this.script.uri,propertyTerm.atom.token.content,copyRange(fullRange),2,void 0,void 0,void 0,vt);this.currentScope.parentScope.define(sym)}}return errors}processSuffixTerm(atom){const errors=this.checkDiagnosticForNode(atom);errors.push(...this.checkDiagnosticForNode(atom));if(atom instanceof Invalid2){return errors.concat(this.error(copyRange(atom),`${TokenType[atom.token.type]} expect in suffix.`))}if(atom instanceof ArrayTerm){for(const iterm of atom.items.getElements())errors.push(...this.processExpression(iterm))}else if(atom instanceof AssociativeArray){for(const pair of atom.pairs.getElements()){errors.push(...this.processExpression(pair.key));errors.push(...this.processExpression(pair.value))}}else if(atom instanceof Call){let argumentsPosition=[];for(const arg of atom.args.getElements()){argumentsPosition.push(arg.start);errors.push(...this.processExpression(arg))}}else if(atom instanceof Identifier||atom instanceof PercentDereference||atom instanceof PseudoArray){const idName=atom instanceof Identifier?atom.token:atom.dereferencable;if(!this.currentScope.resolve(idName.content)){errors.push(this.error(copyRange(atom),`Variable "${idName}" is used before defination`,import_vscode_languageserver9.DiagnosticSeverity.Warning))}}else atom;return errors}visitIf(stmt){const errors=this.checkDiagnosticForNode(stmt);const condExpr=stmt.condition;errors.push(...this.processExpression(condExpr));errors.push(...stmt.body.accept(this,[]));if(stmt.elseStmt){const elseStmt=stmt.elseStmt;errors.push(...elseStmt.accept(this,[]))}return errors}visitElse(stmt){const errors=this.checkDiagnosticForNode(stmt);errors.push(...stmt.body.accept(this,[]));return errors}visitReturn(stmt){if(stmt.value){return this.processExpression(stmt.value)}return this.checkDiagnosticForNode(stmt)}visitBreak(stmt){return this.checkDiagnosticForNode(stmt)}visitContinue(stmt){return this.checkDiagnosticForNode(stmt)}visitSwitch(stmt){const errors=this.checkDiagnosticForNode(stmt);errors.push(...this.processExpression(stmt.condition));for(const caseStmt of stmt.cases){errors.push(...caseStmt.accept(this,[]))}return errors}visitCase(stmt){const errors=this.checkDiagnosticForNode(stmt);if(stmt.CaseNode instanceof CaseExpr){for(const cond of stmt.CaseNode.conditions.getElements()){errors.push(...this.processExpression(cond))}}for(const s of stmt.body){errors.push(...s.accept(this,[]))}return errors}visitLoop(stmt){const errors=this.checkDiagnosticForNode(stmt);if(stmt instanceof Loop){if(stmt.condition){for(const expr of stmt.condition.getElements())errors.push(...this.processExpression(expr))}errors.push(...stmt.body.accept(this,[]));return errors}errors.push(...stmt.body.accept(this,[]));errors.push(...this.processExpression(stmt.condition));return errors}visitWhile(stmt){const errors=this.checkDiagnosticForNode(stmt);errors.push(...this.processExpression(stmt.condition));errors.push(...stmt.body.accept(this,[]));return errors}visitFor(stmt){const errors=this.checkDiagnosticForNode(stmt);return errors.concat(stmt.body.accept(this,[]))}visitTry(stmt){const errors=this.checkDiagnosticForNode(stmt);errors.push(...stmt.body.accept(this,[]));if(stmt.catchStmt){errors.push(...stmt.catchStmt.accept(this,[]))}if(stmt.finallyStmt){errors.push(...stmt.finallyStmt.accept(this,[]))}return errors}visitCatch(stmt){const errors=this.checkDiagnosticForNode(stmt);if(stmt.errors&&!this.currentScope.resolve(stmt.errors.content)){const sym=new VariableSymbol(this.script.uri,stmt.errors.content,copyRange(stmt.errors),0,void 0);this.currentScope.define(sym)}return errors.concat(stmt.body.accept(this,[]))}visitFinally(stmt){const errors=this.checkDiagnosticForNode(stmt);return errors.concat(stmt.body.accept(this,[]))}visitThrow(stmt){const errors=this.checkDiagnosticForNode(stmt);return errors.concat(this.processExpression(stmt.expr))}enterScoop(scoop){this.stack.push(scoop);this.currentScope=scoop}leaveScoop(){this.stack.pop();this.currentScope=this.stack[this.stack.length-1]}processVarSym(assigns){const errors=[];const varSym=[];for(const assign of assigns.getElements()){errors.push(...this.checkDiagnosticForNode(assign));const kind=this.currentScope instanceof AHKObjectSymbol?2:0;if(assign instanceof Expr6.Binary&&assign.operator.type===37&&assign.left instanceof Expr6.Factor&&assign.left.suffixTerm instanceof Identifier){const id=assign.left.suffixTerm.token;const resultType=this.checkExprResultType(assign.right);const sym=new VariableSymbol(this.script.uri,id.content,copyRange(id),kind,void 0,void 0,void 0,resultType);varSym.push(sym);continue}if(assign instanceof Expr6.Factor&&assign.suffixTerm instanceof Identifier){const id=assign.suffixTerm.token;if(!this.currentScope.resolve(id.content)){const sym=new VariableSymbol(this.script.uri,id.content,copyRange(id),kind,void 0);varSym.push(sym);continue}}}return[errors,varSym]}checkDiagnosticForNode(node){const errors=[];for(const child of Object.values(node)){if(child instanceof Token){const tokenErr=this.checkDiagnosticForUnexpectedToken(child);if(tokenErr)errors.push(tokenErr)}}return errors}checkDiagnosticForUnexpectedToken(token){if(token instanceof MissingToken)return this.error(copyRange(token),`"${TokenType[token.type]}" expect.`);if(token instanceof SkipedToken)return this.error(copyRange(token),`Unexpect token "${TokenType[token.type]}".`);return void 0}error(range,message,severity){return Diagnostic.create(range,message,severity??import_vscode_languageserver9.DiagnosticSeverity.Error)}}}});var decorator_exports={};__export(decorator_exports,{debounce:()=>debounce,logException:()=>logException});function logException(target,context){return async function(...args){try{return await target.apply(this,args)}catch(error){const e=error;this.logger.error(e instanceof Error?e.stack:JSON.stringify(e));throw e}}}function debounce(ms){return(target,context)=>{let timer;let lastArgs=[];let lastThis;return async function(...args){if(lastArgs===args&&lastThis===this){clearTimeout(timer);timer=setTimeout(()=>{target.apply(this,args)},ms)}target.apply(this,args)}}}var init_decorator=__esm({"server/src/utilities/decorator.ts"(){"use strict"}});var require_documentService=__commonJS({"server/src/services/documentService.ts"(exports2){"use strict";var __runInitializers=exports2&&exports2.__runInitializers||function(thisArg,initializers,value){var useValue=arguments.length>2;for(var i=0;i<initializers.length;i++){value=useValue?initializers[i].call(thisArg,value):initializers[i].call(thisArg)}return useValue?value:void 0};var __esDecorate=exports2&&exports2.__esDecorate||function(ctor,descriptorIn,decorators,contextIn,initializers,extraInitializers){function accept(f){if(f!==void 0&&typeof f!=="function")throw new TypeError("Function expected");return f}var kind=contextIn.kind,key=kind==="getter"?"get":kind==="setter"?"set":"value";var target=!descriptorIn&&ctor?contextIn["static"]?ctor:ctor.prototype:null;var descriptor=descriptorIn||(target?Object.getOwnPropertyDescriptor(target,contextIn.name):{});var _,done=false;for(var i=decorators.length-1;i>=0;i--){var context={};for(var p in contextIn)context[p]=p==="access"?{}:contextIn[p];for(var p in contextIn.access)context.access[p]=contextIn.access[p];context.addInitializer=function(f){if(done)throw new TypeError("Cannot add initializers after decoration has completed");extraInitializers.push(accept(f||null))};var result=(0,decorators[i])(kind==="accessor"?{get:descriptor.get,set:descriptor.set}:descriptor[key],context);if(kind==="accessor"){if(result===void 0)continue;if(result===null||typeof result!=="object")throw new TypeError("Object expected");if(_=accept(result.get))descriptor.get=_;if(_=accept(result.set))descriptor.set=_;if(_=accept(result.init))initializers.unshift(_)}else if(_=accept(result)){if(kind==="field")initializers.unshift(_);else descriptor[key]=_}}if(target)Object.defineProperty(target,contextIn.name,descriptor);done=true};Object.defineProperty(exports2,"__esModule",{value:true});exports2.DocumentService=void 0;var vscode_languageserver_textdocument_1=require_main5();var ioService_1=(init_ioService(),__toCommonJS(ioService_exports));var workspaceIndex_1=(init_workspaceIndex(),__toCommonJS(workspaceIndex_exports));var logger_1=(init_logger(),__toCommonJS(logger_exports));var node_1=require_node3();var vscode_uri_1=require_umd();var path_1=require("path");var parser_1=(init_parser(),__toCommonJS(parser_exports));var semantic_1=(init_semantic(),__toCommonJS(semantic_exports));var notifier_1=(init_notifier(),__toCommonJS(notifier_exports));var constants_1=(init_constants(),__toCommonJS(constants_exports));var os_1=require("os");var decorator_1=(init_decorator(),__toCommonJS(decorator_exports));var DocumentInfomation=class{constructor(document,syntax){this.document=document;this.syntax=syntax}LineTextToPosition(position){return this.document.getText(node_1.Range.create(node_1.Position.create(position.line,0),position)).trimRight()}getLine(line){return this.document.getText(node_1.Range.create(node_1.Position.create(line,0),node_1.Position.create(line+1,0))).trimRight()}};var DocumentService=(()=>{var _a;let _instanceExtraInitializers=[];let _updateDocumentAST_decorators;return _a=class DocumentService{constructor(conn,documents,logger2=logger_1.mockLogger,v2CompatibleMode){this.conn=(__runInitializers(this,_instanceExtraInitializers),conn);this.logger=logger2;this.v2CompatibleMode=v2CompatibleMode;this.serverDocs=new Map;this.docsAST=new Map;this.localAST=new Map;this.incInfos=new Map;this.ioService=new ioService_1.IoService;this.isSendError=false;this._configurationDone=new notifier_1.Notifier;this.workspaceIndex=new workspaceIndex_1.WorkspaceIndex;this.builtinScope={v1:(0,constants_1.getBuiltinScope)(false,logger2),v2:(0,constants_1.getBuiltinScope)(true,logger2)};this.SLibDir="C:\\Program Files\\AutoHotkey\\Lib";this.ULibDir=(0,os_1.homedir)()+"\\Documents\\AutoHotkey\\Lib";documents.onDidChangeContent(e=>this.updateDocumentAST(e.document.uri,e.document));documents.onDidSave(e=>this.updateLocalAST(e.document.uri));documents.onDidClose(e=>this.deleteUnusedDocument(e.document.uri))}getDocumentInfo(uri){const info=this.docsAST.get(uri);const doc=this.serverDocs.get(uri);if(!info||!doc)return void 0;return new DocumentInfomation(doc,info)}getAllDocumentInfo(){const result=new Map;for(const[uri,info]of this.docsAST){const doc=this.serverDocs.get(uri);if(doc){result.set(uri,new DocumentInfomation(doc,info))}}return result}onConfigChange(config){const sendError=config.getConfig("sendError");if(this.isSendError!=sendError){this.isSendError=sendError;this.updateErrors()}const v2CompatibleMode=config.getConfig("v2CompatibleMode");if(v2CompatibleMode!==this.v2CompatibleMode){this.v2CompatibleMode=v2CompatibleMode;if(this.docsAST.size>0){this.docsAST=new Map;this.localAST=new Map;for(const[uri,doc]of this.serverDocs.entries())this.updateDocumentAST(uri,doc)}}this._configurationDone.notify()}async updateDocumentAST(uri,doc){var _b;await this._configurationDone.wait(1e3);this.serverDocs.set(uri,doc);const parser=new parser_1.AHKParser(doc.getText(),doc.uri,this.v2CompatibleMode,this.logger);const ast=parser.parse();const start=Date.now();const preprocesser=new semantic_1.PreProcesser(ast.script,this.v2CompatibleMode?this.builtinScope.v2:this.builtinScope.v1);const processResult=preprocesser.process();const processer=new semantic_1.Processer(ast.script,this.v2CompatibleMode,processResult.table);const sencondResult=processer.process();const docTable=sencondResult.table;docTable.setWorkspaceSymbolProvider(this.workspaceIndex);const end=Date.now();this.logger.log(`Analzay finished[${end-start} ms]`);if(this.isSendError){this.sendErrors(ast.sytanxErrors,uri);this.conn.sendDiagnostics({uri,diagnostics:processResult.diagnostics})}for(const diagnostic of processResult.diagnostics){ast.sytanxErrors.push({token:diagnostic.range,message:diagnostic.message,start:diagnostic.range.start,end:diagnostic.range.end})}const oldInclude=this.filterLoadedInclude((_b=this.docsAST.get(uri))===null||_b===void 0?void 0:_b.AST);this.docsAST.set(uri,{AST:ast,table:docTable,callInfomation:processResult.callInfomation});let[useless,useneed]=this.compareInclude(oldInclude,ast.script.include);this.deleteUnusedInclude(doc.uri,useless);if(useneed.length===0){this.linkInclude(docTable,uri);return}await this.EnumIncludes(useneed,uri);this.linkInclude(docTable,uri);this.docsAST.set(uri,{AST:ast,table:docTable,callInfomation:processResult.callInfomation})}updateLocalAST(uri){const ast=this.docsAST.get(uri);if(!ast)return;if(this.localAST.has(uri)){this.localAST.set(uri,ast);for(const[docUri,doc]of this.docsAST)doc.table.updateInclude(ast.table)}}filterLoadedInclude(AST){var _b;if(!AST)return void 0;const oldInc=new Set;const docDir=(0,path_1.dirname)(vscode_uri_1.URI.parse(AST.script.uri).fsPath);(_b=AST.script.include)===null||_b===void 0?void 0:_b.forEach(i=>{const p=this.include2Path(i,docDir);if(p&&this.localAST.has(vscode_uri_1.URI.file(p).toString()))oldInc.add(i)});return oldInc}compareInclude(oldInc,newInc){if(oldInc&&newInc){const[useless,useneed]=setDiffSet(oldInc,newInc);this.logger.log(`Got ${newInc.size} include file. ${useneed.length} file to load.`);return[useless,useneed]}else{const useneed=newInc?[...newInc]:[];this.logger.log(`Got ${useneed.length} include file to load.`);return[[],useneed]}}deleteUnusedInclude(uri,useless){let incInfo=this.incInfos.get(uri);if(incInfo){let tempInfo=[];for(const uri2 of useless){for(const[abs,raw]of incInfo){if(raw===uri2)tempInfo.push(abs)}}for(const abs of tempInfo)incInfo.delete(abs)}}async EnumIncludes(inc2update,uri){var _b,_c;let incQueue=[...inc2update];let path=incQueue.shift();while(path){const docDir=(0,path_1.dirname)(vscode_uri_1.URI.parse(uri).fsPath);const p=this.include2Path(path,docDir);if(!p){this.logger.info(`${path} is an invalid file name.`);path=incQueue.shift();continue}else if(this.localAST.has(vscode_uri_1.URI.file(p).toString())){this.logger.info(`${path} is already loaded.`);if(this.incInfos.has(uri))(_b=this.incInfos.get(uri))===null||_b===void 0?void 0:_b.set(p,path);else this.incInfos.set(uri,new Map([[p,path]]));path=incQueue.shift();continue}const doc=await this.loadDocumnet(p);if(doc){const parser=new parser_1.AHKParser(doc.getText(),doc.uri,this.v2CompatibleMode,this.logger);const ast=parser.parse();const preprocesser=new semantic_1.PreProcesser(ast.script,this.v2CompatibleMode?this.builtinScope.v2:this.builtinScope.v1);const processResult=preprocesser.process();this.localAST.set(doc.uri,{AST:ast,table:processResult.table,callInfomation:processResult.callInfomation});if(this.incInfos.has(uri))(_c=this.incInfos.get(uri))===null||_c===void 0?void 0:_c.set(p,path);else this.incInfos.set(uri,new Map([[p,path]]));incQueue.push(...Array.from(ast.script.include||[]))}path=incQueue.shift()}}async loadDocumnet(path){const uri=vscode_uri_1.URI.file(path);try{const c=await this.retrieveResource(uri);let document=vscode_languageserver_textdocument_1.TextDocument.create(uri.toString(),"ahk",0,c);return document}catch(err){this.logger.error(`Can not load file from ${path}`);return void 0}}deleteUnusedDocument(uri){let incinfo=this.incInfos.get(uri);this.docsAST.delete(uri);this.incInfos.delete(uri);if(incinfo){for(const[path,raw]of incinfo){let isUseless=true;for(const[docuri,docinc]of this.incInfos){if(docinc.has(path)){isUseless=false;break}}if(isUseless)this.localAST.delete(vscode_uri_1.URI.file(path).toString())}}}updateErrors(){for(const[uri,info]of this.docsAST.entries()){if(this.isSendError)this.sendErrors(info.AST.sytanxErrors,uri);else this.sendErrors([],uri)}}retrieveResource(uri){const path=uri.fsPath;return this.ioService.load(path)}linkInclude(table,uri){const includes=this.incInfos.get(uri);if(!includes)return;for(const[path,raw]of includes){const incUri=vscode_uri_1.URI.file(path).toString();const incTable=this.localAST.get(incUri);if(!incTable)continue;table.addInclude(incTable.table)}}sendErrors(errors,uri){const diagnostics=[];for(const e of errors){diagnostics.push(node_1.Diagnostic.create(node_1.Range.create(e.start,e.end),e.message))}this.conn.sendDiagnostics({uri,diagnostics})}include2Path(rawPath,scriptPath){const scriptDir=scriptPath;const normalized=(0,path_1.normalize)(rawPath);switch((0,path_1.extname)(normalized)){case".ahk":if(!(0,path_1.isAbsolute)(normalized))return(0,path_1.join)(scriptDir,normalized);else return normalized;case"":if(rawPath[0]==="<"&&rawPath[rawPath.length-1]===">"){let searchDir=[];const np=(0,path_1.normalize)(rawPath.slice(1,rawPath.length-1)+".ahk");const dir=(0,path_1.normalize)(scriptDir+"\\Lib\\"+np);const ULibDir=(0,path_1.normalize)(this.ULibDir+"\\"+np);const SLibDir=(0,path_1.normalize)(this.SLibDir+"\\"+np);searchDir.push(dir,ULibDir,SLibDir);for(const d of searchDir){if(this.ioService.fileExistsSync(d))return d}}return void 0;default:return void 0}}setWorkspaceRoot(root){this.workspaceRoot=root;this.workspaceIndex.clear()}async scanWorkspace(progressCallback){if(!this.workspaceRoot){this.logger.warn("No workspace root set, cannot scan");return}this.workspaceIndex.isIndexing=true;try{const files=this.ioService.findFilesRecursive(this.workspaceRoot,".ahk");const totalFiles=files.length;let processed=0;const BATCH_SIZE=10;for(let i=0;i<files.length;i+=BATCH_SIZE){const batch=files.slice(i,i+BATCH_SIZE);for(const filePath of batch){await this.indexFile(filePath);processed++;if(progressCallback){progressCallback(processed,totalFiles)}}if(i+BATCH_SIZE<files.length){await new Promise(resolve=>setImmediate(resolve))}}this.logger.info(`Indexed ${processed} files in workspace`)}finally{this.workspaceIndex.isIndexing=false}}async indexFile(filePath){const uri=vscode_uri_1.URI.file(filePath).toString();if(this.docsAST.has(uri))return;try{const content=await this.ioService.load(filePath);const parser=new parser_1.AHKParser(content,uri,this.v2CompatibleMode,this.logger);const ast=parser.parse();const preprocesser=new semantic_1.PreProcesser(ast.script,this.v2CompatibleMode?this.builtinScope.v2:this.builtinScope.v1);const processResult=preprocesser.process();const symbols=processResult.table.allSymbols();this.workspaceIndex.addFile(uri,symbols)}catch(err){this.logger.error(`Failed to index ${filePath}: ${err}`)}}async reindexFile(filePath){const uri=vscode_uri_1.URI.file(filePath).toString();if(this.docsAST.has(uri))return;this.workspaceIndex.removeFile(uri);await this.indexFile(filePath)}removeFileFromIndex(uri){this.workspaceIndex.removeFile(uri)}},(()=>{const _metadata=typeof Symbol==="function"&&Symbol.metadata?Object.create(null):void 0;_updateDocumentAST_decorators=[(0,decorator_1.debounce)(100)];__esDecorate(_a,null,_updateDocumentAST_decorators,{kind:"method",name:"updateDocumentAST",static:false,private:false,access:{has:obj=>"updateDocumentAST"in obj,get:obj=>obj.updateDocumentAST},metadata:_metadata},null,_instanceExtraInitializers);if(_metadata)Object.defineProperty(_a,Symbol.metadata,{enumerable:true,configurable:true,writable:true,value:_metadata})})(),_a})();exports2.DocumentService=DocumentService;function setDiffSet(set1,set2){let d12=[],d21=[];for(let item of set1){if(!set2.has(item)){d12.push(item)}}for(let item of set2){if(!set1.has(item)){d21.push(item)}}return[d12,d21]}}});var types_exports4={};__export(types_exports4,{AHKSemanticTokenTypes:()=>AHKSemanticTokenTypes});var AHKSemanticTokenTypes;var init_types5=__esm({"server/src/types.ts"(){"use strict";AHKSemanticTokenTypes=(AHKSemanticTokenTypes2=>{AHKSemanticTokenTypes2[AHKSemanticTokenTypes2["class"]=0]="class";AHKSemanticTokenTypes2[AHKSemanticTokenTypes2["parameter"]=1]="parameter";AHKSemanticTokenTypes2[AHKSemanticTokenTypes2["variable"]=2]="variable";AHKSemanticTokenTypes2[AHKSemanticTokenTypes2["property"]=3]="property";AHKSemanticTokenTypes2[AHKSemanticTokenTypes2["function"]=4]="function";AHKSemanticTokenTypes2[AHKSemanticTokenTypes2["method"]=5]="method";AHKSemanticTokenTypes2[AHKSemanticTokenTypes2["keyword"]=6]="keyword";AHKSemanticTokenTypes2[AHKSemanticTokenTypes2["modifier"]=7]="modifier";AHKSemanticTokenTypes2[AHKSemanticTokenTypes2["comment"]=8]="comment";AHKSemanticTokenTypes2[AHKSemanticTokenTypes2["string"]=9]="string";AHKSemanticTokenTypes2[AHKSemanticTokenTypes2["number"]=10]="number";AHKSemanticTokenTypes2[AHKSemanticTokenTypes2["operator"]=11]="operator";return AHKSemanticTokenTypes2})(AHKSemanticTokenTypes||{})}});var require_ahkls=__commonJS({"server/src/ahkls.ts"(exports2){"use strict";var __runInitializers=exports2&&exports2.__runInitializers||function(thisArg,initializers,value){var useValue=arguments.length>2;for(var i=0;i<initializers.length;i++){value=useValue?initializers[i].call(thisArg,value):initializers[i].call(thisArg)}return useValue?value:void 0};var __esDecorate=exports2&&exports2.__esDecorate||function(ctor,descriptorIn,decorators,contextIn,initializers,extraInitializers){function accept(f){if(f!==void 0&&typeof f!=="function")throw new TypeError("Function expected");return f}var kind=contextIn.kind,key=kind==="getter"?"get":kind==="setter"?"set":"value";var target=!descriptorIn&&ctor?contextIn["static"]?ctor:ctor.prototype:null;var descriptor=descriptorIn||(target?Object.getOwnPropertyDescriptor(target,contextIn.name):{});var _,done=false;for(var i=decorators.length-1;i>=0;i--){var context={};for(var p in contextIn)context[p]=p==="access"?{}:contextIn[p];for(var p in contextIn.access)context.access[p]=contextIn.access[p];context.addInitializer=function(f){if(done)throw new TypeError("Cannot add initializers after decoration has completed");extraInitializers.push(accept(f||null))};var result=(0,decorators[i])(kind==="accessor"?{get:descriptor.get,set:descriptor.set}:descriptor[key],context);if(kind==="accessor"){if(result===void 0)continue;if(result===null||typeof result!=="object")throw new TypeError("Object expected");if(_=accept(result.get))descriptor.get=_;if(_=accept(result.set))descriptor.set=_;if(_=accept(result.init))initializers.unshift(_)}else if(_=accept(result)){if(kind==="field")initializers.unshift(_);else descriptor[key]=_}}if(target)Object.defineProperty(target,contextIn.name,descriptor);done=true};Object.defineProperty(exports2,"__esModule",{value:true});exports2.AHKLS=void 0;var node_1=require_node3();var vscode_languageserver_textdocument_1=require_main5();var vscode_uri_1=require_umd();var types_1=(init_types4(),__toCommonJS(types_exports3));var asttypes_1=(init_asttypes(),__toCommonJS(asttypes_exports));var semantic_stack_1=(init_semantic_stack(),__toCommonJS(semantic_stack_exports));var constants_1=(init_constants(),__toCommonJS(constants_exports));var path_1=require("path");var ioService_1=(init_ioService(),__toCommonJS(ioService_exports));var symbol_1=(init_symbol(),__toCommonJS(symbol_exports));var scriptFinder_1=(init_scriptFinder(),__toCommonJS(scriptFinder_exports));var suffixterm_1=(init_suffixterm(),__toCommonJS(suffixterm_exports));var Stmt2=(init_stmt(),__toCommonJS(stmt_exports));var Expr8=require_expr();var positionUtils_1=(init_positionUtils(),__toCommonJS(positionUtils_exports));var declaration_1=(init_declaration(),__toCommonJS(declaration_exports));var converter_1=(init_converter(),__toCommonJS(converter_exports));var symbolResolver_1=(init_symbolResolver(),__toCommonJS(symbolResolver_exports));var types_2=(init_types3(),__toCommonJS(types_exports2));var notifier_1=(init_notifier(),__toCommonJS(notifier_exports));var documentService_1=require_documentService();var types_3=(init_types5(),__toCommonJS(types_exports4));var serverConfiguration_1=(init_serverConfiguration(),__toCommonJS(serverConfiguration_exports));var builtins_1=(init_builtins(),__toCommonJS(builtins_exports));var decorator_1=(init_decorator(),__toCommonJS(decorator_exports));var tokenTypes_1=(init_tokenTypes(),__toCommonJS(tokenTypes_exports));var AHKLS2=(()=>{var _a;let _instanceExtraInitializers=[];let _onDocumentSymbol_decorators;let _onWorkspaceSymbol_decorators;let _onSignatureHelp_decorators;let _onDefinition_decorators;let _onHover_decorators;let _onCompletion_decorators;let _onCompletionResolve_decorators;let _onSemanticTokens_decorators;let _onInlayHint_decorators;return _a=class AHKLS{get documentService(){return this._documentService}constructor(conn,logger2,config){this.conn=__runInitializers(this,_instanceExtraInitializers);this.builtinFunction=(0,constants_1.buildBuiltinFunctionNode)();this.builtinCommand=(0,constants_1.buildBuiltinCommandNode)();this.keywordCompletions=(0,constants_1.buildKeyWordCompletions)();this.builtinVarCompletions=(0,constants_1.buildbuiltin_variable)();this._configurationDone=new notifier_1.Notifier;this.sendError=false;this.v2CompatibleMode=false;this.enableInlayHint=true;this.currentDocUri="";this.conn=conn;this.finder=new scriptFinder_1.ScriptASTFinder;this.logger=logger2;this.documents=new node_1.TextDocuments(vscode_languageserver_textdocument_1.TextDocument);this._documentService=new documentService_1.DocumentService(conn,this.documents,logger2,this.v2CompatibleMode);this.ioService=new ioService_1.IoService;this.configurationService=config;this.builtinScope=this.documentService.builtinScope;this._configurationDone.reset();this.conn.onInitialize(this.onInitialize.bind(this));this.conn.onInitialized(this.onInitialized.bind(this));this.conn.onDocumentSymbol(this.onDocumentSymbol.bind(this));this.conn.onWorkspaceSymbol(this.onWorkspaceSymbol.bind(this));this.conn.onSignatureHelp(this.onSignatureHelp.bind(this));this.conn.onDefinition(this.onDefinition.bind(this));this.conn.onHover(this.onHover.bind(this));this.conn.onCompletion(this.onCompletion.bind(this));this.conn.onCompletionResolve(this.onCompletionResolve.bind(this));this.conn.languages.semanticTokens.on(this.onSemanticTokens.bind(this));this.conn.languages.inlayHint.on(this.onInlayHint.bind(this));this.documents.onDidOpen(e=>this.initDocument(e.document.uri,e.document));config.on("change",this.onConfigChange.bind(this));config.on("change",this.documentService.onConfigChange.bind(this.documentService))}onConfigChange(config){const sendError=config.getConfig("sendError");if(this.sendError!=sendError){this.sendError=sendError}this.v2CompatibleMode=config.getConfig("v2CompatibleMode");this.enableInlayHint=config.getConfig("enableInlayHint");this._configurationDone.notify()}listen(){this.documents.listen(this.conn)}onInitialize(params){let capabilities=params.capabilities;const hasConfigurationCapability=!!(capabilities.workspace&&!!capabilities.workspace.configuration);const hasWorkspaceFolderCapability=!!(capabilities.workspace&&!!capabilities.workspace.workspaceFolders);const hasDiagnosticRelatedInformationCapability=!!(capabilities.textDocument&&capabilities.textDocument.publishDiagnostics&&capabilities.textDocument.publishDiagnostics.relatedInformation);if(params.workspaceFolders&&params.workspaceFolders.length>0){this.workspaceRoot=vscode_uri_1.URI.parse(params.workspaceFolders[0].uri).fsPath}else if(params.rootUri){this.workspaceRoot=vscode_uri_1.URI.parse(params.rootUri).fsPath}else if(params.rootPath){this.workspaceRoot=params.rootPath}const clientCapability={hasConfiguration:hasConfigurationCapability,hasWorkspaceFolder:hasWorkspaceFolderCapability};this.logger.info("initializing.");this.configurationService.updateCapabilities(clientCapability);const result={serverInfo:{name:constants_1.ServerName},capabilities:{textDocumentSync:node_1.TextDocumentSyncKind.Incremental,completionProvider:{resolveProvider:true,triggerCharacters:[".","/","<"]},signatureHelpProvider:{triggerCharacters:["(",","]},hoverProvider:true,documentSymbolProvider:true,workspaceSymbolProvider:true,definitionProvider:true,semanticTokensProvider:{legend:{tokenTypes:constants_1.AHKLSSemanticTokenTypes,tokenModifiers:[]},full:true},inlayHintProvider:true}};if(hasWorkspaceFolderCapability){result.capabilities.workspace={workspaceFolders:{supported:true}}}return result}onInitialized(){if(this.configurationService.clientCapability.hasConfiguration){this.conn.client.register(node_1.DidChangeConfigurationNotification.type,{section:constants_1.ServerName})}if(this.configurationService.clientCapability.hasWorkspaceFolder){this.conn.workspace.onDidChangeWorkspaceFolders(_event=>{this.logger.info("Workspace folder change event received.")})}if(this.workspaceRoot){this.documentService.setWorkspaceRoot(this.workspaceRoot);this.logger.info(`Scanning workspace: ${this.workspaceRoot}`);this.documentService.scanWorkspace((processed,total)=>{if(processed%50===0||processed===total){this.logger.info(`Indexing: ${processed}/${total} files`)}}).then(()=>{this.logger.info(`Workspace indexing complete. ${this.documentService.workspaceIndex.indexedFileCount} files indexed.`)}).catch(err=>{this.logger.error(`Workspace indexing failed: ${err}`)})}}async onDocumentSymbol(params){const info=this.documentService.getDocumentInfo(params.textDocument.uri);if(!info)return[];return info.syntax.table.symbolInformations()}async onWorkspaceSymbol(params){const query=params.query.toLowerCase();const results=[];const workspaceSymbols=this.documentService.workspaceIndex.getAllSymbols(query);for(const entry of workspaceSymbols){const symbol=entry.symbol;if(!symbol.range)continue;let kind=node_1.SymbolKind.Variable;if(symbol instanceof symbol_1.AHKMethodSymbol){kind=node_1.SymbolKind.Method}else if(symbol instanceof symbol_1.AHKObjectSymbol){kind=node_1.SymbolKind.Class}else if(symbol instanceof symbol_1.VariableSymbol){kind=node_1.SymbolKind.Variable}results.push({name:symbol.name,kind,location:{uri:entry.uri,range:symbol.range}})}for(const[uri,info]of this.documentService.getAllDocumentInfo()){const docSymbols=info.syntax.table.symbolInformations();for(const sym of docSymbols){if(!query||sym.name.toLowerCase().includes(query)){results.push(sym)}}}return results}async onSignatureHelp(positionParams,cancellation){const{position}=positionParams;const{uri}=positionParams.textDocument;if(cancellation.isCancellationRequested){return void 0}const docinfo=this.documentService.getDocumentInfo(uri);if(!docinfo)return void 0;const token=(0,positionUtils_1.binarySearchRange)(docinfo.syntax.AST.script.tokens,position);if(!token)return void 0;const found=this.finder.find(docinfo.syntax.AST.script.stmts,position,[suffixterm_1.Call,Stmt2.CommandCall]);if(found===void 0){this.logger.log("SignatureHelp: Fail back to old way.");this.currentDocUri=uri;return this.getSignatureHelpOld(position)}if(found.nodeResult instanceof Stmt2.CommandCall){return this.findCommandSignature(found.nodeResult.command.content,this.findActiveParam(found.nodeResult,position))}if(position.line>=found.nodeResult.end.line&&position.character>=found.nodeResult.end.character)return void 0;if(found.outterFactor===void 0||!(found.nodeResult instanceof suffixterm_1.Call))return void 0;const scope=this.getCurrentScope(position,docinfo.syntax.table);const relativeSymbol=(0,symbolResolver_1.resolveFactor)(found.outterFactor.nodeResult,position,scope);if(!relativeSymbol)return void 0;let func=relativeSymbol[relativeSymbol.length-1];if(!(func instanceof symbol_1.ScopedSymbol))return void 0;if(!(0,symbol_1.isMethodObject)(func)){if(!(0,symbol_1.isClassObject)(func))return void 0;const constructor=func.resolveProp("__new");if(!constructor||!(0,symbol_1.isMethodObject)(constructor))return void 0;func=constructor}if(!(0,symbol_1.isMethodObject)(func))return void 0;let index=this.findActiveParam(found.nodeResult,position);const reqParam=func.requiredParameters.map(param=>({label:`${param.isByref?"byref ":""}${param.name}`}));const optParam=func.optionalParameters.map((param,i)=>{if(index&&index+1>func.requiredParameters.length)index=param.isSpread?reqParam.length+i:index;return{label:`${param.isByref?"byref ":""}${param.name}${param.isSpread?"*":"?"}`}});return{signatures:[node_1.SignatureInformation.create(func.toString(),void 0,...reqParam,...optParam)],activeSignature:0,activeParameter:index}}async onDefinition(params,cancellation){if(cancellation.isCancellationRequested){return void 0}let{textDocument,position}=params;const docinfo=this.documentService.getDocumentInfo(textDocument.uri);if(!docinfo)return void 0;const lineText=docinfo.getLine(position.line);const includeMatch=lineText.match(/^\s*#include[,]?\s*/i);if(includeMatch){const rawPath=lineText.slice(includeMatch[0].length).trim();const docPath=vscode_uri_1.URI.parse(textDocument.uri).fsPath;const docDir=(0,path_1.dirname)(docPath);const resolvedPath=this.documentService.include2Path(rawPath,docDir);if(resolvedPath){const targetUri=vscode_uri_1.URI.file(resolvedPath).toString();return[node_1.Location.create(targetUri,node_1.Range.create(0,0,0,0))]}return[]}const symbol=this.getSymbolAtPosition(docinfo.syntax,position,Expr8.Factor,suffixterm_1.Call);if(symbol===void 0)return void 0;let locations=[];if(symbol instanceof symbol_1.VariableSymbol||symbol instanceof symbol_1.AHKMethodSymbol||symbol instanceof symbol_1.AHKObjectSymbol)locations.push(node_1.Location.create(symbol.uri,symbol.range));return locations}async onHover(params,cancellation){if(cancellation.isCancellationRequested){return void 0}let{textDocument,position}=params;let docinfo=this.documentService.getDocumentInfo(textDocument.uri);if(!docinfo)return void 0;const token=(0,positionUtils_1.binarySearchRange)(docinfo.syntax.AST.script.tokens,position);if(token===void 0)return void 0;const AST=docinfo.syntax.AST.script.stmts;const find=this.finder.find(AST,position,[Expr8.Factor,Stmt2.CommandCall,declaration_1.Parameter,declaration_1.DynamicProperty,declaration_1.FuncDef,declaration_1.ClassDef]);if(find===void 0)return void 0;const node=find.nodeResult;const scope=this.getCurrentScope(position,docinfo.syntax.table);if(node instanceof Expr8.Factor){return(0,converter_1.convertFactorHover)(node,position,scope,token,this.v2CompatibleMode)}else if(node instanceof Expr8.Unary){if(!(node.factor instanceof Expr8.Factor))return;return(0,converter_1.convertNewClassHover)(node.factor,position,docinfo.syntax.table,token)}else if(node instanceof Stmt2.CommandCall){const cmd=(0,symbolResolver_1.resolveCommandCall)(node);if(!cmd)return void 0;return{contents:{kind:node_1.MarkupKind.Markdown,value:"```autohotkey\n"+cmd+"\n```"},range:token}}else if(node instanceof declaration_1.Parameter){const symbol=scope.resolve(node.identifier.content);return symbol?(0,converter_1.convertSymbolsHover)([symbol],token):void 0}else if(node instanceof declaration_1.DynamicProperty){if(!(scope instanceof symbol_1.VariableSymbol))return void 0;const parentClass=scope.enclosingScope;if(parentClass===void 0||!(parentClass instanceof symbol_1.AHKObjectSymbol))return void 0;return(0,converter_1.convertSymbolsHover)((0,symbolResolver_1.resolveSubclass)(parentClass).concat(scope),token)}else if(node instanceof declaration_1.FuncDef){const block=node.body;if((0,positionUtils_1.posInRange)(block,position))return void 0;if(!(scope instanceof symbol_1.AHKMethodSymbol))return void 0;const last=scope;let symbols=[last];const parent=last.parentScope;if(parent===void 0)return(0,converter_1.convertSymbolsHover)([last],token);const prefix=(0,symbolResolver_1.resolveSubclass)(parent);return(0,converter_1.convertSymbolsHover)(prefix.concat(last),token)}else if(node instanceof declaration_1.ClassDef){const block=node.body;if((0,positionUtils_1.posInRange)(block,position))return void 0;if(!(scope instanceof symbol_1.AHKObjectSymbol))return void 0;if(node.classBaseClause&&(0,positionUtils_1.posInRange)(node.classBaseClause.baseClass,position))return(0,converter_1.convertFactorHover)(node.classBaseClause.baseClass,position,scope,token,this.v2CompatibleMode);return(0,converter_1.convertSymbolsHover)((0,symbolResolver_1.resolveSubclass)(scope),token)}}async onCompletion(_compeltionParams,cancellation){if(cancellation.isCancellationRequested){return void 0}const{position,textDocument}=_compeltionParams;const docinfo=this.documentService.getDocumentInfo(textDocument.uri);if(!docinfo)return void 0;if(_compeltionParams.context&&(_compeltionParams.context.triggerCharacter==="/"||_compeltionParams.context.triggerCharacter==="<")){return this.includeDirCompletion(docinfo.LineTextToPosition(position))}const scope=this.getCurrentScope(position,docinfo.syntax.table);const found=this.finder.find(docinfo.syntax.AST.script.stmts,position,[Expr8.Factor]);if(found===void 0||found.nodeResult===void 0)return this.getSymbolCompletion(docinfo.syntax.table,scope);if(!(found.nodeResult instanceof Expr8.Factor))return void 0;const node=found.nodeResult;if(node.termCount===0)return void 0;if((0,positionUtils_1.posInRange)(node.suffixTerm.getElements()[0],position)){return this.getSymbolCompletion(docinfo.syntax.table,scope)}return this.getSuffixCompletion(node,scope,position)}async onCompletionResolve(item){switch(item.kind){case node_1.CompletionItemKind.Function:case node_1.CompletionItemKind.Method:case node_1.CompletionItemKind.Class:item.detail=item.data;break;case node_1.CompletionItemKind.Variable:if(item.detail==="Built-in Variable"){const docLang=this.configurationService.getConfig("documentLanguage");if(docLang===serverConfiguration_1.docLangName.CN)item.documentation={kind:"markdown",value:builtins_1.builtin_variable[item.data][1]}}default:break}return item}async onSemanticTokens(param,cancellation){const{textDocument}=param;const doc=this.documentService.getDocumentInfo(textDocument.uri);if(!doc)return{data:[]};const builder=new node_1.SemanticTokensBuilder;for(const token of doc.syntax.AST.script.tokens){if(token.type!==tokenTypes_1.TokenType.string)continue;builder.push(token.start.line,token.start.character,token.content.length,types_3.AHKSemanticTokenTypes.string,0)}return builder.build()}async onInlayHint(param,cancellation){await this._configurationDone.wait(1e3);if(!this.enableInlayHint)return void 0;const{textDocument}=param;const doc=this.documentService.getDocumentInfo(textDocument.uri);if(!doc)return void 0;;let hint=[];for(const call of doc.syntax.callInfomation){if(call.parameterPosition.length===0)continue;const callee=call.callee;const scope=this.getCurrentScope(call.position,doc.syntax.table);const callSymbol=(0,symbolResolver_1.searchPerfixSymbol)(callee,scope);if(callSymbol instanceof symbol_1.AHKMethodSymbol){hint.push(...(0,converter_1.convertMethodCallInlayHint)(callSymbol,call));continue}if(callSymbol instanceof symbol_1.AHKObjectSymbol&&this.v2CompatibleMode){const s=callSymbol.resolveProp("__new");if(!(s instanceof symbol_1.AHKMethodSymbol))continue;hint.push(...(0,converter_1.convertMethodCallInlayHint)(s,call))}if(!call.isCommand)continue;const commandName=callee[0];let commandSymbolList=this.builtinCommand.filter(s=>s.name===commandName);if(commandSymbolList.length===0)continue;commandSymbolList.sort(s=>s.params.length);const commandSymbol=commandSymbolList.find(s=>s.params.length>=call.parameterPosition.length);hint.push(...(0,converter_1.convertCommandCallInlayHint)(commandSymbol?commandSymbol:commandSymbolList[commandSymbolList.length-1],call))}return hint}initDocument(uri,doc){this.currentDocUri=uri}getGlobalCompletion(table){let incCompletion=[];const symbols=table.allSymbols();for(let[uri,symbols2]of table.includeSymbols()){const base=vscode_uri_1.URI.parse(table.uri).fsPath;incCompletion.push(...symbols2.map(node=>{let c=(0,converter_1.convertSymbolCompletion)(node);c.data+="  \nInclude from "+(0,path_1.relative)(base,vscode_uri_1.URI.parse(uri).fsPath);return c}))}const builtin=this.v2CompatibleMode?this.builtinScope.v2:this.builtinScope.v1;return symbols.map(sym=>(0,converter_1.convertSymbolCompletion)(sym)).concat(Array(...builtin.values()).map(node=>{let ci=node_1.CompletionItem.create(node.name);if(node instanceof symbol_1.AHKMethodSymbol)ci.data=node.toString();ci.kind=node_1.CompletionItemKind.Function;return ci})).concat(this.builtinCommand.map(node=>{let ci=node_1.CompletionItem.create(node.name);ci.data=(0,converter_1.getFuncPrototype)(node,true);ci.kind=node_1.CompletionItemKind.Function;return ci})).concat(incCompletion)}getSymbolCompletion(table,scope){if(scope.name==="global")return this.getGlobalCompletion(table).concat(this.keywordCompletions);const symbols=scope.allSymbols();return symbols.map(sym=>(0,converter_1.convertSymbolCompletion)(sym)).concat(this.getGlobalCompletion(table)).concat(this.keywordCompletions)}getSuffixCompletion(node,scope,pos){if(node.termCount===0)return void 0;let allTerms=node.suffixTerm.getElements().filter(item=>(0,positionUtils_1.posInRange)(item,pos)||(0,positionUtils_1.rangeBefore)(item,pos));let nextScope=this.resolveToLastTerm(allTerms,scope);if(nextScope instanceof symbol_1.AHKObjectSymbol)return nextScope.allSymbols().map(sym=>(0,converter_1.convertSymbolCompletion)(sym));return void 0}resolveToLastTerm(allTerms,nextScope){for(const lexem of allTerms){const currentScope=(0,symbolResolver_1.resolveSuffixTermSymbol)(lexem,nextScope);if(currentScope&&currentScope instanceof symbol_1.AHKObjectSymbol){nextScope=currentScope}else if(currentScope instanceof symbol_1.VariableSymbol){if(currentScope.type instanceof symbol_1.ScopedSymbol){nextScope=currentScope.type;continue}const varType=currentScope.getType();if(varType.length===0)return void 0;const referenceScope=(0,symbolResolver_1.searchPerfixSymbol)(varType,nextScope);if(referenceScope===void 0)return void 0;if(!(referenceScope instanceof symbol_1.AHKObjectSymbol))return void 0;nextScope=referenceScope}else return void 0}return nextScope}getCurrentScope(pos,table){const symbols=table instanceof symbol_1.AHKDynamicPropertySymbol?table.allSymbolsFull():table.allSymbols();for(const sym of symbols){if(sym instanceof symbol_1.AHKMethodSymbol||sym instanceof symbol_1.AHKObjectSymbol||sym instanceof symbol_1.AHKDynamicPropertySymbol){if(this.isLessEqPosition(sym.range.start,pos)&&this.isLessEqPosition(pos,sym.range.end)){return this.getCurrentScope(pos,sym)}}}return table}isLessEqPosition(pos1,pos2){if(pos1.line<pos2.line)return true;if(pos1.line===pos2.line&&pos1.character<=pos2.character)return true;return false}isGreatEqPosition(pos1,pos2){if(pos1.line>pos2.line)return true;if(pos1.line===pos2.line&&pos1.character>=pos1.character)return true;return false}includeDirCompletion(context){const reg=/^\s*#include/i;let match=context.match(reg);if(!match)return void 0;const p=context.slice(match[0].length).trim();const docDir=(0,path_1.dirname)(vscode_uri_1.URI.parse(this.currentDocUri).fsPath);let searchDir=[];if(p[0]==="<"){const np=(0,path_1.normalize)(p.slice(1));const dir=(0,path_1.normalize)((0,path_1.join)(docDir,"Lib",np));const ULibDir=(0,path_1.join)(this.documentService.ULibDir,np);const SLibDir=(0,path_1.join)(this.documentService.SLibDir,np);searchDir.push(dir,ULibDir,SLibDir)}if((0,path_1.isAbsolute)(p)){searchDir.push(p)}else{const dir=(0,path_1.normalize)((0,path_1.join)(docDir,(0,path_1.normalize)(p)));searchDir.push(dir)}let completions=[];for(const dir of searchDir){completions.push(...this.ioService.statDirectory(dir));if(completions.length>0&&p!=="<")break}return completions.map(completion=>{let c=node_1.CompletionItem.create(completion.path);c.kind=completion.kind===ioService_1.IoKind.folder?node_1.CompletionItemKind.Folder:node_1.CompletionItemKind.File;return c})}getLexemsAtPosition(position){const doc=this.documentService.getDocumentInfo(this.currentDocUri);if(!doc)return void 0;const context=doc.getLine(position.line);let suffix=this.getWordAtPosition(position);let perfixs=[];let temppos=suffix.name===""?position.character-1:suffix.range.start.character-1;while(this.getChar(context,temppos)==="."){let word=this.getWordAtPosition(node_1.Position.create(position.line,temppos-1));perfixs.push(word.name);temppos=word.range.start.character-1}return[suffix.name].concat(perfixs)}searchNode(lexems,position){const docinfo=this.documentService.getDocumentInfo(this.currentDocUri);if(!docinfo)return void 0;const scope=this.getCurrentScope(position,docinfo.syntax.table);if(lexems.length>1){const perfixs=lexems.reverse().slice(0,-1);const symbol=(0,symbolResolver_1.searchPerfixSymbol)(perfixs,scope);if(!symbol||!(symbol instanceof symbol_1.AHKObjectSymbol))return void 0;return symbol.resolveProp(lexems[lexems.length-1])}return lexems[0]!==void 0?scope.resolve(lexems[0]):void 0}getSignatureHelpOld(position){const node=this.findFuncAtPosOld(position);if(node===void 0)return void 0;const stmt=node;let perfixs=[];if(stmt.value instanceof asttypes_1.FunctionCall){if(!stmt.errors&&!(stmt.value instanceof asttypes_1.CommandCall)){return void 0}let lastnode=this.getUnfinishedFunc(stmt.value);if(!lastnode){lastnode=stmt.value}if(lastnode instanceof asttypes_1.MethodCall){perfixs=lastnode.ref.map(r=>{return r.content})}const funcName=lastnode.name;let index=lastnode.actualParams.length===0?void 0:lastnode.actualParams.length-1;if(lastnode instanceof asttypes_1.CommandCall){const bfind=this.builtinCommand.filter(item=>item.name.toLowerCase()===funcName.toLowerCase());const info=(0,converter_1.convertBuiltin2Signature)(bfind,true);if(info){return{signatures:info,activeParameter:index,activeSignature:this.findActiveSignature(bfind,index||0)}}}let find=this.searchNode([funcName].concat(...perfixs.reverse()),position);if(!find){const bfind=this.builtinFunction.filter(item=>item.name.toLowerCase()===funcName.toLowerCase());const info=(0,converter_1.convertBuiltin2Signature)(bfind);if(info){return{signatures:info,activeParameter:index,activeSignature:this.findActiveSignature(bfind,index||0)}}}if(find instanceof symbol_1.AHKMethodSymbol){const reqParam=find.requiredParameters.map(param=>({label:`${param.isByref?"byref ":""}${param.name}`}));const optParam=find.optionalParameters.map((param,i)=>{index=param.isSpread?reqParam.length+i:index;return{label:`${param.isByref?"byref ":""}${param.name}${param.isSpread?"*":"?"}`}});return{signatures:[node_1.SignatureInformation.create(find.toString(),void 0,...reqParam,...optParam)],activeSignature:0,activeParameter:index}}}return void 0}findCommandSignature(name,index){const bfind=this.builtinCommand.filter(item=>item.name.toLowerCase()===name.toLowerCase());const info=(0,converter_1.convertBuiltin2Signature)(bfind,true);if(info){return{signatures:info,activeParameter:index,activeSignature:this.findActiveSignature(bfind,index||0)}}}findActiveParam(node,pos){var _b,_c,_d,_e;const args=node.args;if(args.length===0)return 0;let actualParams=[];for(let i=0;i<args.length;i+=1){const arg=args.childern[i];if(arg instanceof types_2.Token){if(i===0){actualParams.push(node_1.Range.create(node instanceof suffixterm_1.Call?(_c=(_b=node.open)===null||_b===void 0?void 0:_b.end)!==null&&_c!==void 0?_c:node.start:node.command.end,arg.start))}if(args.childern[i+1]instanceof types_2.Token){const r2=node_1.Range.create(arg.end,args.childern[i+1].start);actualParams.push(r2)}if(i===args.length-1){actualParams.push(node_1.Range.create(arg.end,node instanceof suffixterm_1.Call?(_e=(_d=node.close)===null||_d===void 0?void 0:_d.start)!==null&&_e!==void 0?_e:node.end:node.end))}continue}const r=node_1.Range.create(i===0?arg.start:args.childern[i-1].end,i<args.length-1?args.childern[i+1].start:arg.end);actualParams.push(r)}const active=(0,positionUtils_1.binarySearchIndex)(actualParams,pos);return active!==null&&active!==void 0?active:void 0}findFuncAtPosOld(position){const doc=this.documentService.getDocumentInfo(this.currentDocUri);if(!doc)return void 0;let context=doc.LineTextToPosition(position);const attachToPreviousTest=new RegExp("^[ 	]*,");if(attachToPreviousTest.test(context)){let linenum=position.line-1;let lines=doc.getLine(linenum);context=lines+context;while(lines!==""){if(attachToPreviousTest.test(lines)){linenum-=1;lines=doc.getLine(linenum);context=lines+context}else lines=""}}let stmtStack=new semantic_stack_1.SemanticStack(context);let stmt;try{stmt=stmtStack.statement()}catch(err){return void 0}if(!stmt){return void 0}let node=stmt;if((0,semantic_stack_1.isExpr)(stmt.value)){node=stmt.value.right;while((0,semantic_stack_1.isExpr)(node.value)){node=node.value.right}}return node}getUnfinishedFunc(node){let perfixs;let lastParam=node.actualParams[node.actualParams.length-1];if(!lastParam||!lastParam.errors){return void 0}if(lastParam.value instanceof asttypes_1.FunctionCall){let lastnode=this.getUnfinishedFunc(lastParam.value);if(lastnode){if(node instanceof asttypes_1.FunctionCall){return lastnode}}return lastParam.value}return node}findActiveSignature(symbols,paramIndex){for(let i=0;i<symbols.length;i++){const sym=symbols[i];if(sym.params.length>=paramIndex)return i}return 0}getSymbolAtPosition(docsInfo,position,...matchNodeType){const find=this.finder.find(docsInfo.AST.script.stmts,position,matchNodeType);if(find&&find.nodeResult instanceof Expr8.Factor){const scope=this.getCurrentScope(position,docsInfo.table);const symbol2=(0,symbolResolver_1.resolveFactor)(find.nodeResult,position,scope);return symbol2?symbol2[symbol2.length-1]:void 0}const lexems=this.getLexemsAtPosition(position);if(!lexems)return void 0;const symbol=this.searchNode(lexems,position);if(!symbol)return void 0;return symbol}getWordAtPosition(position){let reg=/[a-zA-Z0-9\u4e00-\u9fa5#_@\$\?]+/;const doc=this.documentService.getDocumentInfo(this.currentDocUri);if(!doc)return types_1.Word.create("",node_1.Range.create(position,position));const context=doc.getLine(position.line);let wordName;let start;let end;let pos;pos=position.character;while(pos>=0){if(reg.test(this.getChar(context,pos-1)))pos-=1;else break}start=node_1.Position.create(position.line,pos);pos=position.character;while(pos<=context.length){if(reg.test(this.getChar(context,pos)))pos+=1;else break}end=node_1.Position.create(position.line,pos);wordName=context.slice(start.character,end.character);return types_1.Word.create(wordName,node_1.Range.create(start,end))}getChar(context,pos){try{return context[pos]?context[pos]:""}catch(err){return""}}},(()=>{const _metadata=typeof Symbol==="function"&&Symbol.metadata?Object.create(null):void 0;_onDocumentSymbol_decorators=[decorator_1.logException];_onWorkspaceSymbol_decorators=[decorator_1.logException];_onSignatureHelp_decorators=[decorator_1.logException];_onDefinition_decorators=[decorator_1.logException];_onHover_decorators=[decorator_1.logException];_onCompletion_decorators=[decorator_1.logException];_onCompletionResolve_decorators=[decorator_1.logException];_onSemanticTokens_decorators=[decorator_1.logException];_onInlayHint_decorators=[decorator_1.logException];__esDecorate(_a,null,_onDocumentSymbol_decorators,{kind:"method",name:"onDocumentSymbol",static:false,private:false,access:{has:obj=>"onDocumentSymbol"in obj,get:obj=>obj.onDocumentSymbol},metadata:_metadata},null,_instanceExtraInitializers);__esDecorate(_a,null,_onWorkspaceSymbol_decorators,{kind:"method",name:"onWorkspaceSymbol",static:false,private:false,access:{has:obj=>"onWorkspaceSymbol"in obj,get:obj=>obj.onWorkspaceSymbol},metadata:_metadata},null,_instanceExtraInitializers);__esDecorate(_a,null,_onSignatureHelp_decorators,{kind:"method",name:"onSignatureHelp",static:false,private:false,access:{has:obj=>"onSignatureHelp"in obj,get:obj=>obj.onSignatureHelp},metadata:_metadata},null,_instanceExtraInitializers);__esDecorate(_a,null,_onDefinition_decorators,{kind:"method",name:"onDefinition",static:false,private:false,access:{has:obj=>"onDefinition"in obj,get:obj=>obj.onDefinition},metadata:_metadata},null,_instanceExtraInitializers);__esDecorate(_a,null,_onHover_decorators,{kind:"method",name:"onHover",static:false,private:false,access:{has:obj=>"onHover"in obj,get:obj=>obj.onHover},metadata:_metadata},null,_instanceExtraInitializers);__esDecorate(_a,null,_onCompletion_decorators,{kind:"method",name:"onCompletion",static:false,private:false,access:{has:obj=>"onCompletion"in obj,get:obj=>obj.onCompletion},metadata:_metadata},null,_instanceExtraInitializers);__esDecorate(_a,null,_onCompletionResolve_decorators,{kind:"method",name:"onCompletionResolve",static:false,private:false,access:{has:obj=>"onCompletionResolve"in obj,get:obj=>obj.onCompletionResolve},metadata:_metadata},null,_instanceExtraInitializers);__esDecorate(_a,null,_onSemanticTokens_decorators,{kind:"method",name:"onSemanticTokens",static:false,private:false,access:{has:obj=>"onSemanticTokens"in obj,get:obj=>obj.onSemanticTokens},metadata:_metadata},null,_instanceExtraInitializers);__esDecorate(_a,null,_onInlayHint_decorators,{kind:"method",name:"onInlayHint",static:false,private:false,access:{has:obj=>"onInlayHint"in obj,get:obj=>obj.onInlayHint},metadata:_metadata},null,_instanceExtraInitializers);if(_metadata)Object.defineProperty(_a,Symbol.metadata,{enumerable:true,configurable:true,writable:true,value:_metadata})})(),_a})();exports2.AHKLS=AHKLS2}});var import_node2=__toESM(require_node3());var import_vscode_uri3=__toESM(require_umd());init_constants();var import_ahkls=__toESM(require_ahkls());var import_events=require("events");init_constants();var ConfigurationService=class extends import_events.EventEmitter{constructor(defaultServerConfiguration,conn){super();this.serverConfiguration=defaultServerConfiguration;this.defaultServerConfiguration=defaultServerConfiguration;this.clientCapability={hasConfiguration:false,hasWorkspaceFolder:false};this.listen(conn)}listen(conn){conn.onDidChangeConfiguration(this.onConfigurationChange.bind(this))}onConfigurationChange(change){const clientCapability=this.clientCapability;if(clientCapability.hasConfiguration){this.updateConfiguration(change.settings[ServerName])}}updateCapabilities(capabilities){this.clientCapability.hasConfiguration=capabilities.hasConfiguration;this.clientCapability.hasWorkspaceFolder=capabilities.hasWorkspaceFolder;if(!capabilities.hasConfiguration)this.emit("change",this)}updateConfiguration(config){const serverConfiguration=this.serverConfiguration.merge(config);if(!this.serverConfiguration.equal(serverConfiguration)){this.serverConfiguration=serverConfiguration;this.emit("change",this)}}getConfig(key){return this.serverConfiguration[key]}};init_logger();var connection=(0,import_node2.createConnection)(import_node2.ProposedFeatures.all);var configurationService=new ConfigurationService(defaultSettings,connection);var logger=new Logger(connection.console,LogLevel[defaultSettings.traceServer.level]);var ahkls=new import_ahkls.AHKLS(connection,logger,configurationService);connection.onDidChangeWatchedFiles(change=>{for(const event of change.changes){const uri=event.uri;const fsPath=import_vscode_uri3.URI.parse(uri).fsPath;if(!fsPath.toLowerCase().endsWith(".ahk"))continue;switch(event.type){case import_node2.FileChangeType.Created:logger.info(`File created: ${fsPath}`);ahkls.documentService.indexFile(fsPath);break;case import_node2.FileChangeType.Changed:logger.info(`File changed: ${fsPath}`);ahkls.documentService.reindexFile(fsPath);break;case import_node2.FileChangeType.Deleted:logger.info(`File deleted: ${fsPath}`);ahkls.documentService.removeFileFromIndex(uri);break}}});function onConfigChange(config){logger.info("update configuration");const trace=config.getConfig("traceServer");const level=LogLevel[trace.level];logger.updateLevel(level)}configurationService.on("change",onConfigChange);ahkls.listen();connection.listen();connection.console.log("Starting AHK Server");
